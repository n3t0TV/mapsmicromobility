(self.webpackChunkpublix=self.webpackChunkpublix||[]).push([[26],{185:(Tt,yt,Z)=>{"use strict";var j=Z(3033);function Q($){var nt=[1/0,1/0,-1/0,-1/0];return j.coordEach($,function(V){nt[0]>V[0]&&(nt[0]=V[0]),nt[1]>V[1]&&(nt[1]=V[1]),nt[2]<V[0]&&(nt[2]=V[0]),nt[3]<V[1]&&(nt[3]=V[1])}),nt}Q.default=Q,yt.Z=Q},483:function(Tt){Tt.exports=function(){"use strict";function Z(Q,$,nt,V,it){for(;V>nt;){if(V-nt>600){var gt=V-nt+1,Lt=$-nt+1,Nt=Math.log(gt),xt=.5*Math.exp(2*Nt/3),dt=.5*Math.sqrt(Nt*xt*(gt-xt)/gt)*(Lt-gt/2<0?-1:1);Z(Q,$,Math.max(nt,Math.floor($-Lt*xt/gt+dt)),Math.min(V,Math.floor($+(gt-Lt)*xt/gt+dt)),it)}var tt=Q[$],lt=nt,E=V;for(B(Q,nt,$),it(Q[V],tt)>0&&B(Q,nt,V);lt<E;){for(B(Q,lt,E),lt++,E--;it(Q[lt],tt)<0;)lt++;for(;it(Q[E],tt)>0;)E--}0===it(Q[nt],tt)?B(Q,nt,E):B(Q,++E,V),E<=$&&(nt=E+1),$<=E&&(V=E-1)}}function B(Q,$,nt){var V=Q[$];Q[$]=Q[nt],Q[nt]=V}function j(Q,$){return Q<$?-1:Q>$?1:0}return function(Q,$,nt,V,it){Z(Q,$,nt||0,V||Q.length-1,it||j)}}()},5454:(Tt,yt,Z)=>{"use strict";Tt.exports=j,Tt.exports.default=j;var B=Z(483);function j(E,S){if(!(this instanceof j))return new j(E,S);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),S&&this._initFormat(S),this.clear()}function Q(E,S,P){if(!P)return S.indexOf(E);for(var q=0;q<S.length;q++)if(P(E,S[q]))return q;return-1}function $(E,S){nt(E,0,E.children.length,S,E)}function nt(E,S,P,q,N){N||(N=tt(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var O,b=S;b<P;b++)O=E.children[b],V(N,E.leaf?q(O):O);return N}function V(E,S){return E.minX=Math.min(E.minX,S.minX),E.minY=Math.min(E.minY,S.minY),E.maxX=Math.max(E.maxX,S.maxX),E.maxY=Math.max(E.maxY,S.maxY),E}function it(E,S){return E.minX-S.minX}function gt(E,S){return E.minY-S.minY}function Lt(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function Nt(E){return E.maxX-E.minX+(E.maxY-E.minY)}function xt(E,S){return(Math.max(S.maxX,E.maxX)-Math.min(S.minX,E.minX))*(Math.max(S.maxY,E.maxY)-Math.min(S.minY,E.minY))}function dt(E,S){var P=Math.max(E.minX,S.minX),q=Math.max(E.minY,S.minY),N=Math.min(E.maxX,S.maxX),b=Math.min(E.maxY,S.maxY);return Math.max(0,N-P)*Math.max(0,b-q)}function St(E,S){return E.minX<=S.minX&&E.minY<=S.minY&&S.maxX<=E.maxX&&S.maxY<=E.maxY}function Ft(E,S){return S.minX<=E.maxX&&S.minY<=E.maxY&&S.maxX>=E.minX&&S.maxY>=E.minY}function tt(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function lt(E,S,P,q,N){for(var O,b=[S,P];b.length;)!((P=b.pop())-(S=b.pop())<=q)&&(O=S+Math.ceil((P-S)/q/2)*q,B(E,O,S,P,N),b.push(S,O,O,P))}j.prototype={all:function(){return this._all(this.data,[])},search:function(E){var S=this.data,P=[],q=this.toBBox;if(!Ft(E,S))return P;for(var b,O,I,at,N=[];S;){for(b=0,O=S.children.length;b<O;b++)I=S.children[b],Ft(E,at=S.leaf?q(I):I)&&(S.leaf?P.push(I):St(E,at)?this._all(I,P):N.push(I));S=N.pop()}return P},collides:function(E){var S=this.data,P=this.toBBox;if(!Ft(E,S))return!1;for(var N,b,O,I,q=[];S;){for(N=0,b=S.children.length;N<b;N++)if(O=S.children[N],Ft(E,I=S.leaf?P(O):O)){if(S.leaf||St(E,I))return!0;q.push(O)}S=q.pop()}return!1},load:function(E){if(!E||!E.length)return this;if(E.length<this._minEntries){for(var S=0,P=E.length;S<P;S++)this.insert(E[S]);return this}var q=this._build(E.slice(),0,E.length-1,0);if(this.data.children.length)if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){var N=this.data;this.data=q,q=N}this._insert(q,this.data.height-q.height-1,!0)}else this.data=q;return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=tt([]),this},remove:function(E,S){if(!E)return this;for(var O,I,at,Y,P=this.data,q=this.toBBox(E),N=[],b=[];P||N.length;){if(P||(P=N.pop(),I=N[N.length-1],O=b.pop(),Y=!0),P.leaf&&-1!==(at=Q(E,P.children,S)))return P.children.splice(at,1),N.push(P),this._condense(N),this;Y||P.leaf||!St(P,q)?I?(O++,P=I.children[O],Y=!1):P=null:(N.push(P),b.push(O),O=0,I=P,P=P.children[0])}return this},toBBox:function(E){return E},compareMinX:it,compareMinY:gt,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,S){for(var P=[];E;)E.leaf?S.push.apply(S,E.children):P.push.apply(P,E.children),E=P.pop();return S},_build:function(E,S,P,q){var O,N=P-S+1,b=this._maxEntries;if(N<=b)return $(O=tt(E.slice(S,P+1)),this.toBBox),O;q||(q=Math.ceil(Math.log(N)/Math.log(b)),b=Math.ceil(N/Math.pow(b,q-1))),(O=tt([])).leaf=!1,O.height=q;var Y,J,R,Rt,I=Math.ceil(N/b),at=I*Math.ceil(Math.sqrt(b));for(lt(E,S,P,at,this.compareMinX),Y=S;Y<=P;Y+=at)for(lt(E,Y,R=Math.min(Y+at-1,P),I,this.compareMinY),J=Y;J<=R;J+=I)Rt=Math.min(J+I-1,R),O.children.push(this._build(E,J,Rt,q-1));return $(O,this.toBBox),O},_chooseSubtree:function(E,S,P,q){for(var N,b,O,I,at,Y,J,R;q.push(S),!S.leaf&&q.length-1!==P;){for(J=R=1/0,N=0,b=S.children.length;N<b;N++)at=Lt(O=S.children[N]),(Y=xt(E,O)-at)<R?(R=Y,J=at<J?at:J,I=O):Y===R&&at<J&&(J=at,I=O);S=I||S.children[0]}return S},_insert:function(E,S,P){var N=P?E:(0,this.toBBox)(E),b=[],O=this._chooseSubtree(N,this.data,S,b);for(O.children.push(E),V(O,N);S>=0&&b[S].children.length>this._maxEntries;)this._split(b,S),S--;this._adjustParentBBoxes(N,b,S)},_split:function(E,S){var P=E[S],q=P.children.length,N=this._minEntries;this._chooseSplitAxis(P,N,q);var b=this._chooseSplitIndex(P,N,q),O=tt(P.children.splice(b,P.children.length-b));O.height=P.height,O.leaf=P.leaf,$(P,this.toBBox),$(O,this.toBBox),S?E[S-1].children.push(O):this._splitRoot(P,O)},_splitRoot:function(E,S){this.data=tt([E,S]),this.data.height=E.height+1,this.data.leaf=!1,$(this.data,this.toBBox)},_chooseSplitIndex:function(E,S,P){var q,N,b,O,I,at,Y,J;for(at=Y=1/0,q=S;q<=P-S;q++)O=dt(N=nt(E,0,q,this.toBBox),b=nt(E,q,P,this.toBBox)),I=Lt(N)+Lt(b),O<at?(at=O,J=q,Y=I<Y?I:Y):O===at&&I<Y&&(Y=I,J=q);return J},_chooseSplitAxis:function(E,S,P){var q=E.leaf?this.compareMinX:it,N=E.leaf?this.compareMinY:gt;this._allDistMargin(E,S,P,q)<this._allDistMargin(E,S,P,N)&&E.children.sort(q)},_allDistMargin:function(E,S,P,q){E.children.sort(q);var at,Y,N=this.toBBox,b=nt(E,0,S,N),O=nt(E,P-S,P,N),I=Nt(b)+Nt(O);for(at=S;at<P-S;at++)Y=E.children[at],V(b,E.leaf?N(Y):Y),I+=Nt(b);for(at=P-S-1;at>=S;at--)Y=E.children[at],V(O,E.leaf?N(Y):Y),I+=Nt(O);return I},_adjustParentBBoxes:function(E,S,P){for(var q=P;q>=0;q--)V(S[q],E)},_condense:function(E){for(var P,S=E.length-1;S>=0;S--)0===E[S].children.length?S>0?(P=E[S-1].children).splice(P.indexOf(E[S]),1):this.clear():$(E[S],this.toBBox)},_initFormat:function(E){var S=["return a"," - b",";"];this.compareMinX=new Function("a","b",S.join(E[0])),this.compareMinY=new Function("a","b",S.join(E[1])),this.toBBox=new Function("a","return {minX: a"+E[0]+", minY: a"+E[1]+", maxX: a"+E[2]+", maxY: a"+E[3]+"};")}}},8410:(Tt,yt)=>{"use strict";function Z(Y,J,R){void 0===R&&(R={});var Rt={type:"Feature"};return(0===R.id||R.id)&&(Rt.id=R.id),R.bbox&&(Rt.bbox=R.bbox),Rt.properties=J||{},Rt.geometry=Y,Rt}function j(Y,J,R){if(void 0===R&&(R={}),!Y)throw new Error("coordinates is required");if(!Array.isArray(Y))throw new Error("coordinates must be an Array");if(Y.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(Y[0])||!b(Y[1]))throw new Error("coordinates must contain numbers");return Z({type:"Point",coordinates:Y},J,R)}function $(Y,J,R){void 0===R&&(R={});for(var Rt=0,Ct=Y;Rt<Ct.length;Rt++){var k=Ct[Rt];if(k.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ft=0;ft<k[k.length-1].length;ft++)if(k[k.length-1][ft]!==k[0][ft])throw new Error("First and last Position are not equivalent.")}return Z({type:"Polygon",coordinates:Y},J,R)}function V(Y,J,R){if(void 0===R&&(R={}),Y.length<2)throw new Error("coordinates must be an array of two or more positions");return Z({type:"LineString",coordinates:Y},J,R)}function gt(Y,J){void 0===J&&(J={});var R={type:"FeatureCollection"};return J.id&&(R.id=J.id),J.bbox&&(R.bbox=J.bbox),R.features=Y,R}function Lt(Y,J,R){return void 0===R&&(R={}),Z({type:"MultiLineString",coordinates:Y},J,R)}function Nt(Y,J,R){return void 0===R&&(R={}),Z({type:"MultiPoint",coordinates:Y},J,R)}function xt(Y,J,R){return void 0===R&&(R={}),Z({type:"MultiPolygon",coordinates:Y},J,R)}function Ft(Y,J){void 0===J&&(J="kilometers");var R=yt.factors[J];if(!R)throw new Error(J+" units is invalid");return Y*R}function tt(Y,J){void 0===J&&(J="kilometers");var R=yt.factors[J];if(!R)throw new Error(J+" units is invalid");return Y/R}function S(Y){return Y%(2*Math.PI)*180/Math.PI}function b(Y){return!isNaN(Y)&&null!==Y&&!Array.isArray(Y)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.earthRadius=6371008.8,yt.factors={centimeters:100*yt.earthRadius,centimetres:100*yt.earthRadius,degrees:yt.earthRadius/111325,feet:3.28084*yt.earthRadius,inches:39.37*yt.earthRadius,kilometers:yt.earthRadius/1e3,kilometres:yt.earthRadius/1e3,meters:yt.earthRadius,metres:yt.earthRadius,miles:yt.earthRadius/1609.344,millimeters:1e3*yt.earthRadius,millimetres:1e3*yt.earthRadius,nauticalmiles:yt.earthRadius/1852,radians:1,yards:1.0936*yt.earthRadius},yt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/yt.earthRadius,yards:1.0936133},yt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},yt.feature=Z,yt.geometry=function(Y,J,R){switch(void 0===R&&(R={}),Y){case"Point":return j(J).geometry;case"LineString":return V(J).geometry;case"Polygon":return $(J).geometry;case"MultiPoint":return Nt(J).geometry;case"MultiLineString":return Lt(J).geometry;case"MultiPolygon":return xt(J).geometry;default:throw new Error(Y+" is invalid")}},yt.point=j,yt.points=function(Y,J,R){return void 0===R&&(R={}),gt(Y.map(function(Rt){return j(Rt,J)}),R)},yt.polygon=$,yt.polygons=function(Y,J,R){return void 0===R&&(R={}),gt(Y.map(function(Rt){return $(Rt,J)}),R)},yt.lineString=V,yt.lineStrings=function(Y,J,R){return void 0===R&&(R={}),gt(Y.map(function(Rt){return V(Rt,J)}),R)},yt.featureCollection=gt,yt.multiLineString=Lt,yt.multiPoint=Nt,yt.multiPolygon=xt,yt.geometryCollection=function(Y,J,R){return void 0===R&&(R={}),Z({type:"GeometryCollection",geometries:Y},J,R)},yt.round=function(Y,J){if(void 0===J&&(J=0),J&&!(J>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,J||0);return Math.round(Y*R)/R},yt.radiansToLength=Ft,yt.lengthToRadians=tt,yt.lengthToDegrees=function(Y,J){return S(tt(Y,J))},yt.bearingToAzimuth=function(Y){var J=Y%360;return J<0&&(J+=360),J},yt.radiansToDegrees=S,yt.degreesToRadians=function(Y){return Y%360*Math.PI/180},yt.convertLength=function(Y,J,R){if(void 0===J&&(J="kilometers"),void 0===R&&(R="kilometers"),!(Y>=0))throw new Error("length must be a positive number");return Ft(tt(Y,J),R)},yt.convertArea=function(Y,J,R){if(void 0===J&&(J="meters"),void 0===R&&(R="kilometers"),!(Y>=0))throw new Error("area must be a positive number");var Rt=yt.areaFactors[J];if(!Rt)throw new Error("invalid original units");var Ct=yt.areaFactors[R];if(!Ct)throw new Error("invalid final units");return Y/Rt*Ct},yt.isNumber=b,yt.isObject=function(Y){return!!Y&&Y.constructor===Object},yt.validateBBox=function(Y){if(!Y)throw new Error("bbox is required");if(!Array.isArray(Y))throw new Error("bbox must be an Array");if(4!==Y.length&&6!==Y.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Y.forEach(function(J){if(!b(J))throw new Error("bbox must only contain numbers")})},yt.validateId=function(Y){if(!Y)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Y))throw new Error("id must be a number or a string")}},3033:(Tt,yt,Z)=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var B=Z(8410);function j(P,q,N){if(null!==P)for(var b,O,I,at,Y,J,R,k,Rt=0,Ct=0,ft=P.type,U="FeatureCollection"===ft,ot="Feature"===ft,ut=U?P.features.length:1,G=0;G<ut;G++){Y=(k=!!(R=U?P.features[G].geometry:ot?P.geometry:P)&&"GeometryCollection"===R.type)?R.geometries.length:1;for(var Et=0;Et<Y;Et++){var bt=0,Ut=0;if(null!==(at=k?R.geometries[Et]:R)){J=at.coordinates;var Ot=at.type;switch(Rt=!N||"Polygon"!==Ot&&"MultiPolygon"!==Ot?0:1,Ot){case null:break;case"Point":if(!1===q(J,Ct,G,bt,Ut))return!1;Ct++,bt++;break;case"LineString":case"MultiPoint":for(b=0;b<J.length;b++){if(!1===q(J[b],Ct,G,bt,Ut))return!1;Ct++,"MultiPoint"===Ot&&bt++}"LineString"===Ot&&bt++;break;case"Polygon":case"MultiLineString":for(b=0;b<J.length;b++){for(O=0;O<J[b].length-Rt;O++){if(!1===q(J[b][O],Ct,G,bt,Ut))return!1;Ct++}"MultiLineString"===Ot&&bt++,"Polygon"===Ot&&Ut++}"Polygon"===Ot&&bt++;break;case"MultiPolygon":for(b=0;b<J.length;b++){for(Ut=0,O=0;O<J[b].length;O++){for(I=0;I<J[b][O].length-Rt;I++){if(!1===q(J[b][O][I],Ct,G,bt,Ut))return!1;Ct++}Ut++}bt++}break;case"GeometryCollection":for(b=0;b<at.geometries.length;b++)if(!1===j(at.geometries[b],q,N))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function $(P,q){var N;switch(P.type){case"FeatureCollection":for(N=0;N<P.features.length&&!1!==q(P.features[N].properties,N);N++);break;case"Feature":q(P.properties,0)}}function V(P,q){if("Feature"===P.type)q(P,0);else if("FeatureCollection"===P.type)for(var N=0;N<P.features.length&&!1!==q(P.features[N],N);N++);}function Lt(P,q){var N,b,O,I,at,Y,J,R,Rt,Ct,k=0,ft="FeatureCollection"===P.type,U="Feature"===P.type,ot=ft?P.features.length:1;for(N=0;N<ot;N++){for(R=ft?P.features[N].properties:U?P.properties:{},Rt=ft?P.features[N].bbox:U?P.bbox:void 0,Ct=ft?P.features[N].id:U?P.id:void 0,at=(J=!!(Y=ft?P.features[N].geometry:U?P.geometry:P)&&"GeometryCollection"===Y.type)?Y.geometries.length:1,O=0;O<at;O++)if(null!==(I=J?Y.geometries[O]:Y))switch(I.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===q(I,k,R,Rt,Ct))return!1;break;case"GeometryCollection":for(b=0;b<I.geometries.length;b++)if(!1===q(I.geometries[b],k,R,Rt,Ct))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===q(null,k,R,Rt,Ct))return!1;k++}}function xt(P,q){Lt(P,function(N,b,O,I,at){var J,Y=null===N?null:N.type;switch(Y){case null:case"Point":case"LineString":case"Polygon":return!1!==q(B.feature(N,O,{bbox:I,id:at}),b,0)&&void 0}switch(Y){case"MultiPoint":J="Point";break;case"MultiLineString":J="LineString";break;case"MultiPolygon":J="Polygon"}for(var R=0;R<N.coordinates.length;R++)if(!1===q(B.feature({type:J,coordinates:N.coordinates[R]},O),b,R))return!1})}function St(P,q){xt(P,function(N,b,O){var I=0;if(N.geometry){var at=N.geometry.type;if("Point"!==at&&"MultiPoint"!==at){var Y,J=0,R=0,Rt=0;if(!1===j(N,function(Ct,k,ft,U,ot){if(void 0===Y||b>J||U>R||ot>Rt)return Y=Ct,J=b,R=U,Rt=ot,void(I=0);var ut=B.lineString([Y,Ct],N.properties);if(!1===q(ut,b,O,ot,I))return!1;I++,Y=Ct}))return!1}}})}function tt(P,q){if(!P)throw new Error("geojson is required");xt(P,function(N,b,O){if(null!==N.geometry){var at=N.geometry.coordinates;switch(N.geometry.type){case"LineString":if(!1===q(N,b,O,0,0))return!1;break;case"Polygon":for(var Y=0;Y<at.length;Y++)if(!1===q(B.lineString(at[Y],N.properties),b,O,Y))return!1}}})}yt.coordAll=function(P){var q=[];return j(P,function(N){q.push(N)}),q},yt.coordEach=j,yt.coordReduce=function(P,q,N,b){var O=N;return j(P,function(I,at,Y,J,R){O=0===at&&void 0===N?I:q(O,I,at,Y,J,R)},b),O},yt.featureEach=V,yt.featureReduce=function(P,q,N){var b=N;return V(P,function(O,I){b=0===I&&void 0===N?O:q(b,O,I)}),b},yt.findPoint=function(P,q){if(!B.isObject(q=q||{}))throw new Error("options is invalid");var Y,N=q.featureIndex||0,b=q.multiFeatureIndex||0,O=q.geometryIndex||0,I=q.coordIndex||0,at=q.properties;switch(P.type){case"FeatureCollection":N<0&&(N=P.features.length+N),at=at||P.features[N].properties,Y=P.features[N].geometry;break;case"Feature":at=at||P.properties,Y=P.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Y=P;break;default:throw new Error("geojson is invalid")}if(null===Y)return null;var J=Y.coordinates;switch(Y.type){case"Point":return B.point(J,at,q);case"MultiPoint":return b<0&&(b=J.length+b),B.point(J[b],at,q);case"LineString":return I<0&&(I=J.length+I),B.point(J[I],at,q);case"Polygon":return O<0&&(O=J.length+O),I<0&&(I=J[O].length+I),B.point(J[O][I],at,q);case"MultiLineString":return b<0&&(b=J.length+b),I<0&&(I=J[b].length+I),B.point(J[b][I],at,q);case"MultiPolygon":return b<0&&(b=J.length+b),O<0&&(O=J[b].length+O),I<0&&(I=J[b][O].length-I),B.point(J[b][O][I],at,q)}throw new Error("geojson is invalid")},yt.findSegment=function(P,q){if(!B.isObject(q=q||{}))throw new Error("options is invalid");var Y,N=q.featureIndex||0,b=q.multiFeatureIndex||0,O=q.geometryIndex||0,I=q.segmentIndex||0,at=q.properties;switch(P.type){case"FeatureCollection":N<0&&(N=P.features.length+N),at=at||P.features[N].properties,Y=P.features[N].geometry;break;case"Feature":at=at||P.properties,Y=P.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Y=P;break;default:throw new Error("geojson is invalid")}if(null===Y)return null;var J=Y.coordinates;switch(Y.type){case"Point":case"MultiPoint":return null;case"LineString":return I<0&&(I=J.length+I-1),B.lineString([J[I],J[I+1]],at,q);case"Polygon":return O<0&&(O=J.length+O),I<0&&(I=J[O].length+I-1),B.lineString([J[O][I],J[O][I+1]],at,q);case"MultiLineString":return b<0&&(b=J.length+b),I<0&&(I=J[b].length+I-1),B.lineString([J[b][I],J[b][I+1]],at,q);case"MultiPolygon":return b<0&&(b=J.length+b),O<0&&(O=J[b].length+O),I<0&&(I=J[b][O].length-I-1),B.lineString([J[b][O][I],J[b][O][I+1]],at,q)}throw new Error("geojson is invalid")},yt.flattenEach=xt,yt.flattenReduce=function(P,q,N){var b=N;return xt(P,function(O,I,at){b=0===I&&0===at&&void 0===N?O:q(b,O,I,at)}),b},yt.geomEach=Lt,yt.geomReduce=function(P,q,N){var b=N;return Lt(P,function(O,I,at,Y,J){b=0===I&&void 0===N?O:q(b,O,I,at,Y,J)}),b},yt.lineEach=tt,yt.lineReduce=function(P,q,N){var b=N;return tt(P,function(O,I,at,Y){b=0===I&&void 0===N?O:q(b,O,I,at,Y)}),b},yt.propEach=$,yt.propReduce=function(P,q,N){var b=N;return $(P,function(O,I){b=0===I&&void 0===N?O:q(b,O,I)}),b},yt.segmentEach=St,yt.segmentReduce=function(P,q,N){var b=N,O=!1;return St(P,function(I,at,Y,J,R){b=!1===O&&void 0===N?I:q(b,I,at,Y,J,R),O=!0}),b}},9336:function(Tt){Tt.exports=function(){"use strict";function Z(Q,$,nt,V,it){for(;V>nt;){if(V-nt>600){var gt=V-nt+1,Lt=$-nt+1,Nt=Math.log(gt),xt=.5*Math.exp(2*Nt/3),dt=.5*Math.sqrt(Nt*xt*(gt-xt)/gt)*(Lt-gt/2<0?-1:1);Z(Q,$,Math.max(nt,Math.floor($-Lt*xt/gt+dt)),Math.min(V,Math.floor($+(gt-Lt)*xt/gt+dt)),it)}var tt=Q[$],lt=nt,E=V;for(B(Q,nt,$),it(Q[V],tt)>0&&B(Q,nt,V);lt<E;){for(B(Q,lt,E),lt++,E--;it(Q[lt],tt)<0;)lt++;for(;it(Q[E],tt)>0;)E--}0===it(Q[nt],tt)?B(Q,nt,E):B(Q,++E,V),E<=$&&(nt=E+1),$<=E&&(V=E-1)}}function B(Q,$,nt){var V=Q[$];Q[$]=Q[nt],Q[nt]=V}function j(Q,$){return Q<$?-1:Q>$?1:0}return function(Q,$,nt,V,it){Z(Q,$,nt||0,V||Q.length-1,it||j)}}()},8309:(Tt,yt,Z)=>{"use strict";Tt.exports=j,Tt.exports.default=j;var B=Z(9336);function j(E,S){if(!(this instanceof j))return new j(E,S);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),S&&this._initFormat(S),this.clear()}function Q(E,S,P){if(!P)return S.indexOf(E);for(var q=0;q<S.length;q++)if(P(E,S[q]))return q;return-1}function $(E,S){nt(E,0,E.children.length,S,E)}function nt(E,S,P,q,N){N||(N=tt(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var O,b=S;b<P;b++)O=E.children[b],V(N,E.leaf?q(O):O);return N}function V(E,S){return E.minX=Math.min(E.minX,S.minX),E.minY=Math.min(E.minY,S.minY),E.maxX=Math.max(E.maxX,S.maxX),E.maxY=Math.max(E.maxY,S.maxY),E}function it(E,S){return E.minX-S.minX}function gt(E,S){return E.minY-S.minY}function Lt(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function Nt(E){return E.maxX-E.minX+(E.maxY-E.minY)}function xt(E,S){return(Math.max(S.maxX,E.maxX)-Math.min(S.minX,E.minX))*(Math.max(S.maxY,E.maxY)-Math.min(S.minY,E.minY))}function dt(E,S){var P=Math.max(E.minX,S.minX),q=Math.max(E.minY,S.minY),N=Math.min(E.maxX,S.maxX),b=Math.min(E.maxY,S.maxY);return Math.max(0,N-P)*Math.max(0,b-q)}function St(E,S){return E.minX<=S.minX&&E.minY<=S.minY&&S.maxX<=E.maxX&&S.maxY<=E.maxY}function Ft(E,S){return S.minX<=E.maxX&&S.minY<=E.maxY&&S.maxX>=E.minX&&S.maxY>=E.minY}function tt(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function lt(E,S,P,q,N){for(var O,b=[S,P];b.length;)!((P=b.pop())-(S=b.pop())<=q)&&(O=S+Math.ceil((P-S)/q/2)*q,B(E,O,S,P,N),b.push(S,O,O,P))}j.prototype={all:function(){return this._all(this.data,[])},search:function(E){var S=this.data,P=[],q=this.toBBox;if(!Ft(E,S))return P;for(var b,O,I,at,N=[];S;){for(b=0,O=S.children.length;b<O;b++)I=S.children[b],Ft(E,at=S.leaf?q(I):I)&&(S.leaf?P.push(I):St(E,at)?this._all(I,P):N.push(I));S=N.pop()}return P},collides:function(E){var S=this.data,P=this.toBBox;if(!Ft(E,S))return!1;for(var N,b,O,I,q=[];S;){for(N=0,b=S.children.length;N<b;N++)if(O=S.children[N],Ft(E,I=S.leaf?P(O):O)){if(S.leaf||St(E,I))return!0;q.push(O)}S=q.pop()}return!1},load:function(E){if(!E||!E.length)return this;if(E.length<this._minEntries){for(var S=0,P=E.length;S<P;S++)this.insert(E[S]);return this}var q=this._build(E.slice(),0,E.length-1,0);if(this.data.children.length)if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){var N=this.data;this.data=q,q=N}this._insert(q,this.data.height-q.height-1,!0)}else this.data=q;return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=tt([]),this},remove:function(E,S){if(!E)return this;for(var O,I,at,Y,P=this.data,q=this.toBBox(E),N=[],b=[];P||N.length;){if(P||(P=N.pop(),I=N[N.length-1],O=b.pop(),Y=!0),P.leaf&&-1!==(at=Q(E,P.children,S)))return P.children.splice(at,1),N.push(P),this._condense(N),this;Y||P.leaf||!St(P,q)?I?(O++,P=I.children[O],Y=!1):P=null:(N.push(P),b.push(O),O=0,I=P,P=P.children[0])}return this},toBBox:function(E){return E},compareMinX:it,compareMinY:gt,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,S){for(var P=[];E;)E.leaf?S.push.apply(S,E.children):P.push.apply(P,E.children),E=P.pop();return S},_build:function(E,S,P,q){var O,N=P-S+1,b=this._maxEntries;if(N<=b)return $(O=tt(E.slice(S,P+1)),this.toBBox),O;q||(q=Math.ceil(Math.log(N)/Math.log(b)),b=Math.ceil(N/Math.pow(b,q-1))),(O=tt([])).leaf=!1,O.height=q;var Y,J,R,Rt,I=Math.ceil(N/b),at=I*Math.ceil(Math.sqrt(b));for(lt(E,S,P,at,this.compareMinX),Y=S;Y<=P;Y+=at)for(lt(E,Y,R=Math.min(Y+at-1,P),I,this.compareMinY),J=Y;J<=R;J+=I)Rt=Math.min(J+I-1,R),O.children.push(this._build(E,J,Rt,q-1));return $(O,this.toBBox),O},_chooseSubtree:function(E,S,P,q){for(var N,b,O,I,at,Y,J,R;q.push(S),!S.leaf&&q.length-1!==P;){for(J=R=1/0,N=0,b=S.children.length;N<b;N++)at=Lt(O=S.children[N]),(Y=xt(E,O)-at)<R?(R=Y,J=at<J?at:J,I=O):Y===R&&at<J&&(J=at,I=O);S=I||S.children[0]}return S},_insert:function(E,S,P){var N=P?E:(0,this.toBBox)(E),b=[],O=this._chooseSubtree(N,this.data,S,b);for(O.children.push(E),V(O,N);S>=0&&b[S].children.length>this._maxEntries;)this._split(b,S),S--;this._adjustParentBBoxes(N,b,S)},_split:function(E,S){var P=E[S],q=P.children.length,N=this._minEntries;this._chooseSplitAxis(P,N,q);var b=this._chooseSplitIndex(P,N,q),O=tt(P.children.splice(b,P.children.length-b));O.height=P.height,O.leaf=P.leaf,$(P,this.toBBox),$(O,this.toBBox),S?E[S-1].children.push(O):this._splitRoot(P,O)},_splitRoot:function(E,S){this.data=tt([E,S]),this.data.height=E.height+1,this.data.leaf=!1,$(this.data,this.toBBox)},_chooseSplitIndex:function(E,S,P){var q,N,b,O,I,at,Y,J;for(at=Y=1/0,q=S;q<=P-S;q++)O=dt(N=nt(E,0,q,this.toBBox),b=nt(E,q,P,this.toBBox)),I=Lt(N)+Lt(b),O<at?(at=O,J=q,Y=I<Y?I:Y):O===at&&I<Y&&(Y=I,J=q);return J},_chooseSplitAxis:function(E,S,P){var q=E.leaf?this.compareMinX:it,N=E.leaf?this.compareMinY:gt;this._allDistMargin(E,S,P,q)<this._allDistMargin(E,S,P,N)&&E.children.sort(q)},_allDistMargin:function(E,S,P,q){E.children.sort(q);var at,Y,N=this.toBBox,b=nt(E,0,S,N),O=nt(E,P-S,P,N),I=Nt(b)+Nt(O);for(at=S;at<P-S;at++)Y=E.children[at],V(b,E.leaf?N(Y):Y),I+=Nt(b);for(at=P-S-1;at>=S;at--)Y=E.children[at],V(O,E.leaf?N(Y):Y),I+=Nt(O);return I},_adjustParentBBoxes:function(E,S,P){for(var q=P;q>=0;q--)V(S[q],E)},_condense:function(E){for(var P,S=E.length-1;S>=0;S--)0===E[S].children.length?S>0?(P=E[S-1].children).splice(P.indexOf(E[S]),1):this.clear():$(E[S],this.toBBox)},_initFormat:function(E){var S=["return a"," - b",";"];this.compareMinX=new Function("a","b",S.join(E[0])),this.compareMinY=new Function("a","b",S.join(E[1])),this.toBBox=new Function("a","return {minX: a"+E[0]+", minY: a"+E[1]+", maxX: a"+E[2]+", maxY: a"+E[3]+"};")}}},9568:(Tt,yt,Z)=>{"use strict";var B=Z(8540),j=Z(44),Q=j(B("String.prototype.indexOf"));Tt.exports=function(nt,V){var it=B(nt,!!V);return"function"==typeof it&&Q(nt,".prototype.")>-1?j(it):it}},44:(Tt,yt,Z)=>{"use strict";var B=Z(5396),j=Z(8540),Q=j("%Function.prototype.apply%"),$=j("%Function.prototype.call%"),nt=j("%Reflect.apply%",!0)||B.call($,Q),V=j("%Object.getOwnPropertyDescriptor%",!0),it=j("%Object.defineProperty%",!0),gt=j("%Math.max%");if(it)try{it({},"a",{value:1})}catch(Nt){it=null}Tt.exports=function(xt){var dt=nt(B,$,arguments);if(V&&it){var St=V(dt,"length");St.configurable&&it(dt,"length",{value:1+gt(0,xt.length-(arguments.length-1))})}return dt};var Lt=function(){return nt(B,Q,arguments)};it?it(Tt.exports,"apply",{value:Lt}):Tt.exports.apply=Lt},6896:(Tt,yt,Z)=>{"use strict";var B=Z(3036),j=Z(54),Q=Z(5503),$=Z(5322).orient2d;function nt(N,b,O){b=Math.max(0,void 0===b?2:b),O=O||0;var I=function(N){for(var b=N[0],O=N[0],I=N[0],at=N[0],Y=0;Y<N.length;Y++){var J=N[Y];J[0]<b[0]&&(b=J),J[0]>I[0]&&(I=J),J[1]<O[1]&&(O=J),J[1]>at[1]&&(at=J)}var R=[b,O,I,at],Rt=R.slice();for(Y=0;Y<N.length;Y++)Q(N[Y],R)||Rt.push(N[Y]);return function(N){N.sort(P);for(var b=[],O=0;O<N.length;O++){for(;b.length>=2&&xt(b[b.length-2],b[b.length-1],N[O])<=0;)b.pop();b.push(N[O])}for(var I=[],at=N.length-1;at>=0;at--){for(;I.length>=2&&xt(I[I.length-2],I[I.length-1],N[at])<=0;)I.pop();I.push(N[at])}return I.pop(),b.pop(),b.concat(I)}(Rt)}(N),at=new B(16);at.toBBox=function(Ut){return{minX:Ut[0],minY:Ut[1],maxX:Ut[0],maxY:Ut[1]}},at.compareMinX=function(Ut,Ot){return Ut[0]-Ot[0]},at.compareMinY=function(Ut,Ot){return Ut[1]-Ot[1]},at.load(N);for(var R,Y=[],J=0;J<I.length;J++){var Rt=I[J];at.remove(Rt),R=tt(Rt,R),Y.push(R)}var Ct=new B(16);for(J=0;J<Y.length;J++)Ct.insert(St(Y[J]));for(var k=b*b,ft=O*O;Y.length;){var U=Y.shift(),ot=U.p,ut=U.next.p,G=lt(ot,ut);if(!(G<ft)){var Et=G/k;(Rt=V(at,U.prev.p,ot,ut,U.next.next.p,Et,Ct))&&Math.min(lt(Rt,ot),lt(Rt,ut))<=Et&&(Y.push(U),Y.push(tt(Rt,U)),at.remove(Rt),Ct.remove(U),Ct.insert(St(U)),Ct.insert(St(U.next)))}}U=R;var bt=[];do{bt.push(U.p),U=U.next}while(U!==R);return bt.push(U.p),bt}function V(N,b,O,I,at,Y,J){for(var R=new j([],it),Rt=N.data;Rt;){for(var Ct=0;Ct<Rt.children.length;Ct++){var k=Rt.children[Ct],ft=Rt.leaf?E(k,O,I):gt(O,I,k);ft>Y||R.push({node:k,dist:ft})}for(;R.length&&!R.peek().node.children;){var U=R.pop(),ot=U.node,ut=E(ot,b,O),G=E(ot,I,at);if(U.dist<ut&&U.dist<G&&Nt(O,ot,J)&&Nt(I,ot,J))return ot}(Rt=R.pop())&&(Rt=Rt.node)}return null}function it(N,b){return N.dist-b.dist}function gt(N,b,O){if(Lt(N,O)||Lt(b,O))return 0;var I=S(N[0],N[1],b[0],b[1],O.minX,O.minY,O.maxX,O.minY);if(0===I)return 0;var at=S(N[0],N[1],b[0],b[1],O.minX,O.minY,O.minX,O.maxY);if(0===at)return 0;var Y=S(N[0],N[1],b[0],b[1],O.maxX,O.minY,O.maxX,O.maxY);if(0===Y)return 0;var J=S(N[0],N[1],b[0],b[1],O.minX,O.maxY,O.maxX,O.maxY);return 0===J?0:Math.min(I,at,Y,J)}function Lt(N,b){return N[0]>=b.minX&&N[0]<=b.maxX&&N[1]>=b.minY&&N[1]<=b.maxY}function Nt(N,b,O){for(var I=Math.min(N[0],b[0]),at=Math.min(N[1],b[1]),Y=Math.max(N[0],b[0]),J=Math.max(N[1],b[1]),R=O.search({minX:I,minY:at,maxX:Y,maxY:J}),Rt=0;Rt<R.length;Rt++)if(dt(R[Rt].p,R[Rt].next.p,N,b))return!1;return!0}function xt(N,b,O){return $(N[0],N[1],b[0],b[1],O[0],O[1])}function dt(N,b,O,I){return N!==I&&b!==O&&xt(N,b,O)>0!=xt(N,b,I)>0&&xt(O,I,N)>0!=xt(O,I,b)>0}function St(N){var b=N.p,O=N.next.p;return N.minX=Math.min(b[0],O[0]),N.minY=Math.min(b[1],O[1]),N.maxX=Math.max(b[0],O[0]),N.maxY=Math.max(b[1],O[1]),N}function tt(N,b){var O={p:N,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return b?(O.next=b.next,O.prev=b,b.next.prev=O,b.next=O):(O.prev=O,O.next=O),O}function lt(N,b){var O=N[0]-b[0],I=N[1]-b[1];return O*O+I*I}function E(N,b,O){var I=b[0],at=b[1],Y=O[0]-I,J=O[1]-at;if(0!==Y||0!==J){var R=((N[0]-I)*Y+(N[1]-at)*J)/(Y*Y+J*J);R>1?(I=O[0],at=O[1]):R>0&&(I+=Y*R,at+=J*R)}return(Y=N[0]-I)*Y+(J=N[1]-at)*J}function S(N,b,O,I,at,Y,J,R){var ie,pe,oe,Wt,Rt=O-N,Ct=I-b,k=J-at,ft=R-Y,U=N-at,ot=b-Y,ut=Rt*Rt+Ct*Ct,G=Rt*k+Ct*ft,Et=k*k+ft*ft,bt=Rt*U+Ct*ot,Ut=k*U+ft*ot,Ot=ut*Et-G*G,jt=Ot,kt=Ot;0===Ot?(pe=0,jt=1,Wt=Ut,kt=Et):(Wt=ut*Ut-G*bt,(pe=G*Ut-Et*bt)<0?(pe=0,Wt=Ut,kt=Et):pe>jt&&(pe=jt,Wt=Ut+G,kt=Et)),Wt<0?(Wt=0,-bt<0?pe=0:-bt>ut?pe=jt:(pe=-bt,jt=ut)):Wt>kt&&(Wt=kt,-bt+G<0?pe=0:-bt+G>ut?pe=jt:(pe=-bt+G,jt=ut));var _n=(1-(oe=0===Wt?0:Wt/kt))*at+oe*J-((1-(ie=0===pe?0:pe/jt))*N+ie*O),pt=(1-oe)*Y+oe*R-((1-ie)*b+ie*I);return _n*_n+pt*pt}function P(N,b){return N[0]===b[0]?N[1]-b[1]:N[0]-b[0]}j.default&&(j=j.default),Tt.exports=nt,Tt.exports.default=nt},2978:(Tt,yt,Z)=>{var B=Z(8507),j=Z(7316),Q=Z(4269),$=Z(5544),nt=Z(437),V=Z(3105),it=Date.prototype.getTime;function Lt(dt){return null==dt}function Nt(dt){return!(!dt||"object"!=typeof dt||"number"!=typeof dt.length||"function"!=typeof dt.copy||"function"!=typeof dt.slice||dt.length>0&&"number"!=typeof dt[0])}Tt.exports=function gt(dt,St,Ft){var tt=Ft||{};return!!(tt.strict?Q(dt,St):dt===St)||(!dt||!St||"object"!=typeof dt&&"object"!=typeof St?tt.strict?Q(dt,St):dt==St:function(dt,St,Ft){var tt,lt;if(typeof dt!=typeof St||Lt(dt)||Lt(St)||dt.prototype!==St.prototype||j(dt)!==j(St))return!1;var E=$(dt),S=$(St);if(E!==S)return!1;if(E||S)return dt.source===St.source&&nt(dt)===nt(St);if(V(dt)&&V(St))return it.call(dt)===it.call(St);var P=Nt(dt),q=Nt(St);if(P!==q)return!1;if(P||q){if(dt.length!==St.length)return!1;for(tt=0;tt<dt.length;tt++)if(dt[tt]!==St[tt])return!1;return!0}if(typeof dt!=typeof St)return!1;try{var N=B(dt),b=B(St)}catch(O){return!1}if(N.length!==b.length)return!1;for(N.sort(),b.sort(),tt=N.length-1;tt>=0;tt--)if(N[tt]!=b[tt])return!1;for(tt=N.length-1;tt>=0;tt--)if(!gt(dt[lt=N[tt]],St[lt],Ft))return!1;return!0}(dt,St,tt))}},6886:(Tt,yt,Z)=>{"use strict";var B=Z(8507),j="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Q=Object.prototype.toString,$=Array.prototype.concat,nt=Object.defineProperty,gt=nt&&function(){var xt={};try{for(var dt in nt(xt,"x",{enumerable:!1,value:xt}),xt)return!1;return xt.x===xt}catch(St){return!1}}(),Lt=function(xt,dt,St,Ft){dt in xt&&(!function(xt){return"function"==typeof xt&&"[object Function]"===Q.call(xt)}(Ft)||!Ft())||(gt?nt(xt,dt,{configurable:!0,enumerable:!1,value:St,writable:!0}):xt[dt]=St)},Nt=function(xt,dt){var St=arguments.length>2?arguments[2]:{},Ft=B(dt);j&&(Ft=$.call(Ft,Object.getOwnPropertySymbols(dt)));for(var tt=0;tt<Ft.length;tt+=1)Lt(xt,Ft[tt],dt[Ft[tt]],St[Ft[tt]])};Nt.supportsDescriptors=!!gt,Tt.exports=Nt},5810:Tt=>{function yt(Z,B,j,Q){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(Z,B,j,Q)}yt.prototype.run=function(Z,B,j,Q){this._init(Z,B,j,Q);for(var $=0;$<this._datasetLength;$++)if(1!==this._visited[$]){this._visited[$]=1;var nt=this._regionQuery($);if(nt.length<this.minPts)this.noise.push($);else{var V=this.clusters.length;this.clusters.push([]),this._addToCluster($,V),this._expandCluster(V,nt)}}return this.clusters},yt.prototype._init=function(Z,B,j,Q){if(Z){if(!(Z instanceof Array))throw Error("Dataset must be of type array, "+typeof Z+" given");this.dataset=Z,this.clusters=[],this.noise=[],this._datasetLength=Z.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}B&&(this.epsilon=B),j&&(this.minPts=j),Q&&(this.distance=Q)},yt.prototype._expandCluster=function(Z,B){for(var j=0;j<B.length;j++){var Q=B[j];if(1!==this._visited[Q]){this._visited[Q]=1;var $=this._regionQuery(Q);$.length>=this.minPts&&(B=this._mergeArrays(B,$))}1!==this._assigned[Q]&&this._addToCluster(Q,Z)}},yt.prototype._addToCluster=function(Z,B){this.clusters[B].push(Z),this._assigned[Z]=1},yt.prototype._regionQuery=function(Z){for(var B=[],j=0;j<this._datasetLength;j++)this.distance(this.dataset[Z],this.dataset[j])<this.epsilon&&B.push(j);return B},yt.prototype._mergeArrays=function(Z,B){for(var j=B.length,Q=0;Q<j;Q++){var $=B[Q];Z.indexOf($)<0&&Z.push($)}return Z},yt.prototype._euclideanDistance=function(Z,B){for(var j=0,Q=Math.min(Z.length,B.length);Q--;)j+=(Z[Q]-B[Q])*(Z[Q]-B[Q]);return Math.sqrt(j)},Tt.exports&&(Tt.exports=yt)},1955:Tt=>{function yt(Z,B,j){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(Z,B,j)}yt.prototype.init=function(Z,B,j){this.assignments=[],this.centroids=[],void 0!==Z&&(this.dataset=Z),void 0!==B&&(this.k=B),void 0!==j&&(this.distance=j)},yt.prototype.run=function(Z,B){this.init(Z,B);for(var j=this.dataset.length,Q=0;Q<this.k;Q++)this.centroids[Q]=this.randomCentroid();for(var $=!0;$;){$=this.assign();for(var nt=0;nt<this.k;nt++){for(var V=new Array(Nt),it=0,gt=0;gt<Nt;gt++)V[gt]=0;for(var Lt=0;Lt<j;Lt++){var Nt=this.dataset[Lt].length;if(nt===this.assignments[Lt]){for(gt=0;gt<Nt;gt++)V[gt]+=this.dataset[Lt][gt];it++}}if(it>0){for(gt=0;gt<Nt;gt++)V[gt]/=it;this.centroids[nt]=V}else this.centroids[nt]=this.randomCentroid(),$=!0}}return this.getClusters()},yt.prototype.randomCentroid=function(){var B,j,Z=this.dataset.length-1;do{j=Math.round(Math.random()*Z),B=this.dataset[j]}while(this.centroids.indexOf(B)>=0);return B},yt.prototype.assign=function(){for(var j,Z=!1,B=this.dataset.length,Q=0;Q<B;Q++)(j=this.argmin(this.dataset[Q],this.centroids,this.distance))!=this.assignments[Q]&&(this.assignments[Q]=j,Z=!0);return Z},yt.prototype.getClusters=function(){for(var B,Z=new Array(this.k),j=0;j<this.assignments.length;j++)void 0===Z[B=this.assignments[j]]&&(Z[B]=[]),Z[B].push(j);return Z},yt.prototype.argmin=function(Z,B,j){for(var V,Q=Number.MAX_VALUE,$=0,nt=B.length,it=0;it<nt;it++)(V=j(Z,B[it]))<Q&&(Q=V,$=it);return $},yt.prototype.distance=function(Z,B){for(var j=0,Q=Math.min(Z.length,B.length);Q--;){var $=Z[Q]-B[Q];j+=$*$}return Math.sqrt(j)},Tt.exports&&(Tt.exports=yt)},5e3:(Tt,yt,Z)=>{if(Tt.exports)var B=Z(571);function j(Q,$,nt,V){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(Q,$,nt,V)}j.prototype.run=function(Q,$,nt,V){this._init(Q,$,nt,V);for(var it=0,gt=this.dataset.length;it<gt;it++)if(1!==this._processed[it]){this._processed[it]=1,this.clusters.push([it]);var Lt=this.clusters.length-1;this._orderedList.push(it);var Nt=new B(null,null,"asc"),xt=this._regionQuery(it);void 0!==this._distanceToCore(it)&&(this._updateQueue(it,xt,Nt),this._expandCluster(Lt,Nt))}return this.clusters},j.prototype.getReachabilityPlot=function(){for(var Q=[],$=0,nt=this._orderedList.length;$<nt;$++){var V=this._orderedList[$];Q.push([V,this._reachability[V]])}return Q},j.prototype._init=function(Q,$,nt,V){if(Q){if(!(Q instanceof Array))throw Error("Dataset must be of type array, "+typeof Q+" given");this.dataset=Q,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}$&&(this.epsilon=$),nt&&(this.minPts=nt),V&&(this.distance=V)},j.prototype._updateQueue=function(Q,$,nt){var V=this;this._coreDistance=this._distanceToCore(Q),$.forEach(function(it){if(void 0===V._processed[it]){var gt=V.distance(V.dataset[Q],V.dataset[it]),Lt=Math.max(V._coreDistance,gt);void 0===V._reachability[it]?(V._reachability[it]=Lt,nt.insert(it,Lt)):Lt<V._reachability[it]&&(V._reachability[it]=Lt,nt.remove(it),nt.insert(it,Lt))}})},j.prototype._expandCluster=function(Q,$){for(var nt=$.getElements(),V=0,it=nt.length;V<it;V++){var gt=nt[V];if(void 0===this._processed[gt]){var Lt=this._regionQuery(gt);this._processed[gt]=1,this.clusters[Q].push(gt),this._orderedList.push(gt),void 0!==this._distanceToCore(gt)&&(this._updateQueue(gt,Lt,$),this._expandCluster(Q,$))}}},j.prototype._distanceToCore=function(Q){for(var $=this.epsilon,nt=0;nt<$;nt++)if(this._regionQuery(Q,nt).length>=this.minPts)return nt},j.prototype._regionQuery=function(Q,$){$=$||this.epsilon;for(var nt=[],V=0,it=this.dataset.length;V<it;V++)this.distance(this.dataset[Q],this.dataset[V])<$&&nt.push(V);return nt},j.prototype._euclideanDistance=function(Q,$){for(var nt=0,V=Math.min(Q.length,$.length);V--;)nt+=(Q[V]-$[V])*(Q[V]-$[V]);return Math.sqrt(nt)},Tt.exports&&(Tt.exports=j)},571:Tt=>{function yt(Z,B,j){this._queue=[],this._priorities=[],this._sorting="desc",this._init(Z,B,j)}yt.prototype.insert=function(Z,B){for(var j=this._queue.length,Q=j;Q--;){var $=this._priorities[Q];"desc"===this._sorting?B>$&&(j=Q):B<$&&(j=Q)}this._insertAt(Z,B,j)},yt.prototype.remove=function(Z){for(var B=this._queue.length;B--;)if(Z===this._queue[B]){this._queue.splice(B,1),this._priorities.splice(B,1);break}},yt.prototype.forEach=function(Z){this._queue.forEach(Z)},yt.prototype.getElements=function(){return this._queue},yt.prototype.getElementPriority=function(Z){return this._priorities[Z]},yt.prototype.getPriorities=function(){return this._priorities},yt.prototype.getElementsWithPriorities=function(){for(var Z=[],B=0,j=this._queue.length;B<j;B++)Z.push([this._queue[B],this._priorities[B]]);return Z},yt.prototype._init=function(Z,B,j){if(Z&&B){if(this._queue=[],this._priorities=[],Z.length!==B.length)throw new Error("Arrays must have the same length");for(var Q=0;Q<Z.length;Q++)this.insert(Z[Q],B[Q])}j&&(this._sorting=j)},yt.prototype._insertAt=function(Z,B,j){this._queue.length===j?(this._queue.push(Z),this._priorities.push(B)):(this._queue.splice(j,0,Z),this._priorities.splice(j,0,B))},Tt.exports&&(Tt.exports=yt)},6882:(Tt,yt,Z)=>{Tt.exports&&(Tt.exports={DBSCAN:Z(5810),KMEANS:Z(1955),OPTICS:Z(5e3),PriorityQueue:Z(571)})},1604:Tt=>{"use strict";function yt(k,ft,U){U=U||2;var bt,Ut,Ot,ie,pe,oe,Wt,ot=ft&&ft.length,ut=ot?ft[0]*U:k.length,G=Z(k,0,ut,U,!0),Et=[];if(!G||G.next===G.prev)return Et;if(ot&&(G=function(k,ft,U,ot){var G,Et,Ot,ut=[];for(G=0,Et=ft.length;G<Et;G++)(Ot=Z(k,ft[G]*ot,G<Et-1?ft[G+1]*ot:k.length,ot,!1))===Ot.next&&(Ot.steiner=!0),ut.push(tt(Ot));for(ut.sort(gt),G=0;G<ut.length;G++)U=B(U=Lt(ut[G],U),U.next);return U}(k,ft,G,U)),k.length>80*U){bt=Ot=k[0],Ut=ie=k[1];for(var jt=U;jt<ut;jt+=U)(pe=k[jt])<bt&&(bt=pe),(oe=k[jt+1])<Ut&&(Ut=oe),pe>Ot&&(Ot=pe),oe>ie&&(ie=oe);Wt=0!==(Wt=Math.max(Ot-bt,ie-Ut))?1/Wt:0}return j(G,Et,U,bt,Ut,Wt),Et}function Z(k,ft,U,ot,ut){var G,Et;if(ut===Ct(k,ft,U,ot)>0)for(G=ft;G<U;G+=ot)Et=J(G,k[G],k[G+1],Et);else for(G=U-ot;G>=ft;G-=ot)Et=J(G,k[G],k[G+1],Et);return Et&&P(Et,Et.next)&&(R(Et),Et=Et.next),Et}function B(k,ft){if(!k)return k;ft||(ft=k);var ot,U=k;do{if(ot=!1,U.steiner||!P(U,U.next)&&0!==S(U.prev,U,U.next))U=U.next;else{if(R(U),(U=ft=U.prev)===U.next)break;ot=!0}}while(ot||U!==ft);return ft}function j(k,ft,U,ot,ut,G,Et){if(k){!Et&&G&&function(k,ft,U,ot){var ut=k;do{null===ut.z&&(ut.z=Ft(ut.x,ut.y,ft,U,ot)),ut.prevZ=ut.prev,ut.nextZ=ut.next,ut=ut.next}while(ut!==k);ut.prevZ.nextZ=null,ut.prevZ=null,function(k){var ft,U,ot,ut,G,Et,bt,Ut,Ot=1;do{for(U=k,k=null,G=null,Et=0;U;){for(Et++,ot=U,bt=0,ft=0;ft<Ot&&(bt++,ot=ot.nextZ);ft++);for(Ut=Ot;bt>0||Ut>0&&ot;)0!==bt&&(0===Ut||!ot||U.z<=ot.z)?(ut=U,U=U.nextZ,bt--):(ut=ot,ot=ot.nextZ,Ut--),G?G.nextZ=ut:k=ut,ut.prevZ=G,G=ut;U=ot}G.nextZ=null,Ot*=2}while(Et>1)}(ut)}(k,ot,ut,G);for(var Ut,Ot,bt=k;k.prev!==k.next;)if(Ut=k.prev,Ot=k.next,G?$(k,ot,ut,G):Q(k))ft.push(Ut.i/U),ft.push(k.i/U),ft.push(Ot.i/U),R(k),k=Ot.next,bt=Ot.next;else if((k=Ot)===bt){Et?1===Et?j(k=nt(B(k),ft,U),ft,U,ot,ut,G,2):2===Et&&V(k,ft,U,ot,ut,G):j(B(k),ft,U,ot,ut,G,1);break}}}function Q(k){var ft=k.prev,U=k,ot=k.next;if(S(ft,U,ot)>=0)return!1;for(var ut=k.next.next;ut!==k.prev;){if(lt(ft.x,ft.y,U.x,U.y,ot.x,ot.y,ut.x,ut.y)&&S(ut.prev,ut,ut.next)>=0)return!1;ut=ut.next}return!0}function $(k,ft,U,ot){var ut=k.prev,G=k,Et=k.next;if(S(ut,G,Et)>=0)return!1;for(var Ot=ut.x>G.x?ut.x>Et.x?ut.x:Et.x:G.x>Et.x?G.x:Et.x,ie=ut.y>G.y?ut.y>Et.y?ut.y:Et.y:G.y>Et.y?G.y:Et.y,pe=Ft(ut.x<G.x?ut.x<Et.x?ut.x:Et.x:G.x<Et.x?G.x:Et.x,ut.y<G.y?ut.y<Et.y?ut.y:Et.y:G.y<Et.y?G.y:Et.y,ft,U,ot),oe=Ft(Ot,ie,ft,U,ot),Wt=k.prevZ,jt=k.nextZ;Wt&&Wt.z>=pe&&jt&&jt.z<=oe;){if(Wt!==k.prev&&Wt!==k.next&&lt(ut.x,ut.y,G.x,G.y,Et.x,Et.y,Wt.x,Wt.y)&&S(Wt.prev,Wt,Wt.next)>=0||(Wt=Wt.prevZ,jt!==k.prev&&jt!==k.next&&lt(ut.x,ut.y,G.x,G.y,Et.x,Et.y,jt.x,jt.y)&&S(jt.prev,jt,jt.next)>=0))return!1;jt=jt.nextZ}for(;Wt&&Wt.z>=pe;){if(Wt!==k.prev&&Wt!==k.next&&lt(ut.x,ut.y,G.x,G.y,Et.x,Et.y,Wt.x,Wt.y)&&S(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.prevZ}for(;jt&&jt.z<=oe;){if(jt!==k.prev&&jt!==k.next&&lt(ut.x,ut.y,G.x,G.y,Et.x,Et.y,jt.x,jt.y)&&S(jt.prev,jt,jt.next)>=0)return!1;jt=jt.nextZ}return!0}function nt(k,ft,U){var ot=k;do{var ut=ot.prev,G=ot.next.next;!P(ut,G)&&q(ut,ot,ot.next,G)&&I(ut,G)&&I(G,ut)&&(ft.push(ut.i/U),ft.push(ot.i/U),ft.push(G.i/U),R(ot),R(ot.next),ot=k=G),ot=ot.next}while(ot!==k);return B(ot)}function V(k,ft,U,ot,ut,G){var Et=k;do{for(var bt=Et.next.next;bt!==Et.prev;){if(Et.i!==bt.i&&E(Et,bt)){var Ut=Y(Et,bt);return Et=B(Et,Et.next),Ut=B(Ut,Ut.next),j(Et,ft,U,ot,ut,G),void j(Ut,ft,U,ot,ut,G)}bt=bt.next}Et=Et.next}while(Et!==k)}function gt(k,ft){return k.x-ft.x}function Lt(k,ft){var U=function(k,ft){var Et,U=ft,ot=k.x,ut=k.y,G=-1/0;do{if(ut<=U.y&&ut>=U.next.y&&U.next.y!==U.y){var bt=U.x+(ut-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(bt<=ot&&bt>G){if(G=bt,bt===ot){if(ut===U.y)return U;if(ut===U.next.y)return U.next}Et=U.x<U.next.x?U:U.next}}U=U.next}while(U!==ft);if(!Et)return null;if(ot===G)return Et;var oe,Ut=Et,Ot=Et.x,ie=Et.y,pe=1/0;U=Et;do{ot>=U.x&&U.x>=Ot&&ot!==U.x&&lt(ut<ie?ot:G,ut,Ot,ie,ut<ie?G:ot,ut,U.x,U.y)&&(oe=Math.abs(ut-U.y)/(ot-U.x),I(U,k)&&(oe<pe||oe===pe&&(U.x>Et.x||U.x===Et.x&&xt(Et,U)))&&(Et=U,pe=oe)),U=U.next}while(U!==Ut);return Et}(k,ft);if(!U)return ft;var ot=Y(U,k),ut=B(U,U.next);return B(ot,ot.next),ft===U?ut:ft}function xt(k,ft){return S(k.prev,k,ft.prev)<0&&S(ft.next,k,k.next)<0}function Ft(k,ft,U,ot,ut){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-U)*ut)|k<<8))|k<<4))|k<<2))|k<<1))|(ft=1431655765&((ft=858993459&((ft=252645135&((ft=16711935&((ft=32767*(ft-ot)*ut)|ft<<8))|ft<<4))|ft<<2))|ft<<1))<<1}function tt(k){var ft=k,U=k;do{(ft.x<U.x||ft.x===U.x&&ft.y<U.y)&&(U=ft),ft=ft.next}while(ft!==k);return U}function lt(k,ft,U,ot,ut,G,Et,bt){return(ut-Et)*(ft-bt)-(k-Et)*(G-bt)>=0&&(k-Et)*(ot-bt)-(U-Et)*(ft-bt)>=0&&(U-Et)*(G-bt)-(ut-Et)*(ot-bt)>=0}function E(k,ft){return k.next.i!==ft.i&&k.prev.i!==ft.i&&!function(k,ft){var U=k;do{if(U.i!==k.i&&U.next.i!==k.i&&U.i!==ft.i&&U.next.i!==ft.i&&q(U,U.next,k,ft))return!0;U=U.next}while(U!==k);return!1}(k,ft)&&(I(k,ft)&&I(ft,k)&&function(k,ft){var U=k,ot=!1,ut=(k.x+ft.x)/2,G=(k.y+ft.y)/2;do{U.y>G!=U.next.y>G&&U.next.y!==U.y&&ut<(U.next.x-U.x)*(G-U.y)/(U.next.y-U.y)+U.x&&(ot=!ot),U=U.next}while(U!==k);return ot}(k,ft)&&(S(k.prev,k,ft.prev)||S(k,ft.prev,ft))||P(k,ft)&&S(k.prev,k,k.next)>0&&S(ft.prev,ft,ft.next)>0)}function S(k,ft,U){return(ft.y-k.y)*(U.x-ft.x)-(ft.x-k.x)*(U.y-ft.y)}function P(k,ft){return k.x===ft.x&&k.y===ft.y}function q(k,ft,U,ot){var ut=b(S(k,ft,U)),G=b(S(k,ft,ot)),Et=b(S(U,ot,k)),bt=b(S(U,ot,ft));return!!(ut!==G&&Et!==bt||0===ut&&N(k,U,ft)||0===G&&N(k,ot,ft)||0===Et&&N(U,k,ot)||0===bt&&N(U,ft,ot))}function N(k,ft,U){return ft.x<=Math.max(k.x,U.x)&&ft.x>=Math.min(k.x,U.x)&&ft.y<=Math.max(k.y,U.y)&&ft.y>=Math.min(k.y,U.y)}function b(k){return k>0?1:k<0?-1:0}function I(k,ft){return S(k.prev,k,k.next)<0?S(k,ft,k.next)>=0&&S(k,k.prev,ft)>=0:S(k,ft,k.prev)<0||S(k,k.next,ft)<0}function Y(k,ft){var U=new Rt(k.i,k.x,k.y),ot=new Rt(ft.i,ft.x,ft.y),ut=k.next,G=ft.prev;return k.next=ft,ft.prev=k,U.next=ut,ut.prev=U,ot.next=U,U.prev=ot,G.next=ot,ot.prev=G,ot}function J(k,ft,U,ot){var ut=new Rt(k,ft,U);return ot?(ut.next=ot.next,ut.prev=ot,ot.next.prev=ut,ot.next=ut):(ut.prev=ut,ut.next=ut),ut}function R(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function Rt(k,ft,U){this.i=k,this.x=ft,this.y=U,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ct(k,ft,U,ot){for(var ut=0,G=ft,Et=U-ot;G<U;G+=ot)ut+=(k[Et]-k[G])*(k[G+1]+k[Et+1]),Et=G;return ut}Tt.exports=yt,Tt.exports.default=yt,yt.deviation=function(k,ft,U,ot){var ut=ft&&ft.length,Et=Math.abs(Ct(k,0,ut?ft[0]*U:k.length,U));if(ut)for(var bt=0,Ut=ft.length;bt<Ut;bt++)Et-=Math.abs(Ct(k,ft[bt]*U,bt<Ut-1?ft[bt+1]*U:k.length,U));var pe=0;for(bt=0;bt<ot.length;bt+=3){var oe=ot[bt]*U,Wt=ot[bt+1]*U,jt=ot[bt+2]*U;pe+=Math.abs((k[oe]-k[jt])*(k[Wt+1]-k[oe+1])-(k[oe]-k[Wt])*(k[jt+1]-k[oe+1]))}return 0===Et&&0===pe?0:Math.abs((pe-Et)/Et)},yt.flatten=function(k){for(var ft=k[0][0].length,U={vertices:[],holes:[],dimensions:ft},ot=0,ut=0;ut<k.length;ut++){for(var G=0;G<k[ut].length;G++)for(var Et=0;Et<ft;Et++)U.vertices.push(k[ut][G][Et]);ut>0&&U.holes.push(ot+=k[ut-1].length)}return U}},1609:Tt=>{"use strict";var yt="Function.prototype.bind called on incompatible ",Z=Array.prototype.slice,B=Object.prototype.toString,j="[object Function]";Tt.exports=function($){var nt=this;if("function"!=typeof nt||B.call(nt)!==j)throw new TypeError(yt+nt);for(var it,V=Z.call(arguments,1),gt=function(){if(this instanceof it){var St=nt.apply(this,V.concat(Z.call(arguments)));return Object(St)===St?St:this}return nt.apply($,V.concat(Z.call(arguments)))},Lt=Math.max(0,nt.length-V.length),Nt=[],xt=0;xt<Lt;xt++)Nt.push("$"+xt);if(it=Function("binder","return function ("+Nt.join(",")+"){ return binder.apply(this,arguments); }")(gt),nt.prototype){var dt=function(){};dt.prototype=nt.prototype,it.prototype=new dt,dt.prototype=null}return it}},5396:(Tt,yt,Z)=>{"use strict";var B=Z(1609);Tt.exports=Function.prototype.bind||B},9331:(Tt,yt,Z)=>{var B=Z(2978),j=function(V){this.precision=V&&V.precision?V.precision:17,this.direction=!(!V||!V.direction)&&V.direction,this.pseudoNode=!(!V||!V.pseudoNode)&&V.pseudoNode,this.objectComparator=V&&V.objectComparator?V.objectComparator:nt};function Q(V){return V.coordinates.map(function(it){return{type:V.type.replace("Multi",""),coordinates:it}})}function $(V,it){return V.hasOwnProperty("coordinates")?V.coordinates.length===it.coordinates.length:V.length===it.length}function nt(V,it){return B(V,it,{strict:!0})}j.prototype.compare=function(V,it){if(V.type!==it.type||!$(V,it))return!1;switch(V.type){case"Point":return this.compareCoord(V.coordinates,it.coordinates);case"LineString":return this.compareLine(V.coordinates,it.coordinates,0,!1);case"Polygon":return this.comparePolygon(V,it);case"Feature":return this.compareFeature(V,it);default:if(0===V.type.indexOf("Multi")){var gt=this,Lt=Q(V),Nt=Q(it);return Lt.every(function(xt){return this.some(function(dt){return gt.compare(xt,dt)})},Nt)}}return!1},j.prototype.compareCoord=function(V,it){if(V.length!==it.length)return!1;for(var gt=0;gt<V.length;gt++)if(V[gt].toFixed(this.precision)!==it[gt].toFixed(this.precision))return!1;return!0},j.prototype.compareLine=function(V,it,gt,Lt){if(!$(V,it))return!1;var Nt=this.pseudoNode?V:this.removePseudo(V),xt=this.pseudoNode?it:this.removePseudo(it);if(!Lt||this.compareCoord(Nt[0],xt[0])||(xt=this.fixStartIndex(xt,Nt))){var dt=this.compareCoord(Nt[gt],xt[gt]);return this.direction||dt?this.comparePath(Nt,xt):!!this.compareCoord(Nt[gt],xt[xt.length-(1+gt)])&&this.comparePath(Nt.slice().reverse(),xt)}},j.prototype.fixStartIndex=function(V,it){for(var gt,Lt=-1,Nt=0;Nt<V.length;Nt++)if(this.compareCoord(V[Nt],it[0])){Lt=Nt;break}return Lt>=0&&(gt=[].concat(V.slice(Lt,V.length),V.slice(1,Lt+1))),gt},j.prototype.comparePath=function(V,it){var gt=this;return V.every(function(Lt,Nt){return gt.compareCoord(Lt,this[Nt])},it)},j.prototype.comparePolygon=function(V,it){if(this.compareLine(V.coordinates[0],it.coordinates[0],1,!0)){var gt=V.coordinates.slice(1,V.coordinates.length),Lt=it.coordinates.slice(1,it.coordinates.length),Nt=this;return gt.every(function(xt){return this.some(function(dt){return Nt.compareLine(xt,dt,1,!0)})},Lt)}return!1},j.prototype.compareFeature=function(V,it){return!(V.id!==it.id||!this.objectComparator(V.properties,it.properties)||!this.compareBBox(V,it))&&this.compare(V.geometry,it.geometry)},j.prototype.compareBBox=function(V,it){return!!(!V.bbox&&!it.bbox||V.bbox&&it.bbox&&this.compareCoord(V.bbox,it.bbox))},j.prototype.removePseudo=function(V){return V},Tt.exports=j},2689:(Tt,yt,Z)=>{var B=Z(3036),j=Z(8410),Q=Z(3033),$=Z(185).Z,nt=Q.featureEach,gt=j.featureCollection;function Lt(Nt){var xt=new B(Nt);return xt.insert=function(dt){if("Feature"!==dt.type)throw new Error("invalid feature");return dt.bbox=dt.bbox?dt.bbox:$(dt),B.prototype.insert.call(this,dt)},xt.load=function(dt){var St=[];return Array.isArray(dt)?dt.forEach(function(Ft){if("Feature"!==Ft.type)throw new Error("invalid features");Ft.bbox=Ft.bbox?Ft.bbox:$(Ft),St.push(Ft)}):nt(dt,function(Ft){if("Feature"!==Ft.type)throw new Error("invalid features");Ft.bbox=Ft.bbox?Ft.bbox:$(Ft),St.push(Ft)}),B.prototype.load.call(this,St)},xt.remove=function(dt,St){if("Feature"!==dt.type)throw new Error("invalid feature");return dt.bbox=dt.bbox?dt.bbox:$(dt),B.prototype.remove.call(this,dt,St)},xt.clear=function(){return B.prototype.clear.call(this)},xt.search=function(dt){var St=B.prototype.search.call(this,this.toBBox(dt));return gt(St)},xt.collides=function(dt){return B.prototype.collides.call(this,this.toBBox(dt))},xt.all=function(){var dt=B.prototype.all.call(this);return gt(dt)},xt.toJSON=function(){return B.prototype.toJSON.call(this)},xt.fromJSON=function(dt){return B.prototype.fromJSON.call(this,dt)},xt.toBBox=function(dt){var St;if(dt.bbox)St=dt.bbox;else if(Array.isArray(dt)&&4===dt.length)St=dt;else if(Array.isArray(dt)&&6===dt.length)St=[dt[0],dt[1],dt[3],dt[4]];else if("Feature"===dt.type)St=$(dt);else{if("FeatureCollection"!==dt.type)throw new Error("invalid geojson");St=$(dt)}return{minX:St[0],minY:St[1],maxX:St[2],maxY:St[3]}},xt}Tt.exports=Lt,Tt.exports.default=Lt},8540:(Tt,yt,Z)=>{"use strict";var B,j=SyntaxError,Q=Function,$=TypeError,nt=function(Y){try{return Q('"use strict"; return ('+Y+").constructor;")()}catch(J){}},V=Object.getOwnPropertyDescriptor;if(V)try{V({},"")}catch(Y){V=null}var it=function(){throw new $},gt=V?function(){try{return it}catch(Y){try{return V(arguments,"callee").get}catch(J){return it}}}():it,Lt=Z(9326)(),Nt=Object.getPrototypeOf||function(Y){return Y.__proto__},xt={},dt="undefined"==typeof Uint8Array?B:Nt(Uint8Array),St={"%AggregateError%":"undefined"==typeof AggregateError?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?B:ArrayBuffer,"%ArrayIteratorPrototype%":Lt?Nt([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":xt,"%AsyncGenerator%":xt,"%AsyncGeneratorFunction%":xt,"%AsyncIteratorPrototype%":xt,"%Atomics%":"undefined"==typeof Atomics?B:Atomics,"%BigInt%":"undefined"==typeof BigInt?B:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?B:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?B:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?B:FinalizationRegistry,"%Function%":Q,"%GeneratorFunction%":xt,"%Int8Array%":"undefined"==typeof Int8Array?B:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?B:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lt?Nt(Nt([][Symbol.iterator]())):B,"%JSON%":"object"==typeof JSON?JSON:B,"%Map%":"undefined"==typeof Map?B:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Lt?Nt((new Map)[Symbol.iterator]()):B,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?B:Promise,"%Proxy%":"undefined"==typeof Proxy?B:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?B:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?B:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Lt?Nt((new Set)[Symbol.iterator]()):B,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lt?Nt(""[Symbol.iterator]()):B,"%Symbol%":Lt?Symbol:B,"%SyntaxError%":j,"%ThrowTypeError%":gt,"%TypedArray%":dt,"%TypeError%":$,"%Uint8Array%":"undefined"==typeof Uint8Array?B:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?B:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?B:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?B:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?B:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?B:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?B:WeakSet},Ft=function Y(J){var R;if("%AsyncFunction%"===J)R=nt("async function () {}");else if("%GeneratorFunction%"===J)R=nt("function* () {}");else if("%AsyncGeneratorFunction%"===J)R=nt("async function* () {}");else if("%AsyncGenerator%"===J){var Rt=Y("%AsyncGeneratorFunction%");Rt&&(R=Rt.prototype)}else if("%AsyncIteratorPrototype%"===J){var Ct=Y("%AsyncGenerator%");Ct&&(R=Nt(Ct.prototype))}return St[J]=R,R},tt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lt=Z(5396),E=Z(6558),S=lt.call(Function.call,Array.prototype.concat),P=lt.call(Function.apply,Array.prototype.splice),q=lt.call(Function.call,String.prototype.replace),N=lt.call(Function.call,String.prototype.slice),b=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,I=function(J){var R=N(J,0,1),Rt=N(J,-1);if("%"===R&&"%"!==Rt)throw new j("invalid intrinsic syntax, expected closing `%`");if("%"===Rt&&"%"!==R)throw new j("invalid intrinsic syntax, expected opening `%`");var Ct=[];return q(J,b,function(k,ft,U,ot){Ct[Ct.length]=U?q(ot,O,"$1"):ft||k}),Ct},at=function(J,R){var Ct,Rt=J;if(E(tt,Rt)&&(Rt="%"+(Ct=tt[Rt])[0]+"%"),E(St,Rt)){var k=St[Rt];if(k===xt&&(k=Ft(Rt)),void 0===k&&!R)throw new $("intrinsic "+J+" exists, but is not available. Please file an issue!");return{alias:Ct,name:Rt,value:k}}throw new j("intrinsic "+J+" does not exist!")};Tt.exports=function(J,R){if("string"!=typeof J||0===J.length)throw new $("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof R)throw new $('"allowMissing" argument must be a boolean');var Rt=I(J),Ct=Rt.length>0?Rt[0]:"",k=at("%"+Ct+"%",R),ft=k.name,U=k.value,ot=!1,ut=k.alias;ut&&(Ct=ut[0],P(Rt,S([0,1],ut)));for(var G=1,Et=!0;G<Rt.length;G+=1){var bt=Rt[G],Ut=N(bt,0,1),Ot=N(bt,-1);if(('"'===Ut||"'"===Ut||"`"===Ut||'"'===Ot||"'"===Ot||"`"===Ot)&&Ut!==Ot)throw new j("property names with quotes must have matching quotes");if(("constructor"===bt||!Et)&&(ot=!0),E(St,ft="%"+(Ct+="."+bt)+"%"))U=St[ft];else if(null!=U){if(!(bt in U)){if(!R)throw new $("base intrinsic for "+J+" exists, but the property is not available.");return}if(V&&G+1>=Rt.length){var ie=V(U,bt);U=(Et=!!ie)&&"get"in ie&&!("originalValue"in ie.get)?ie.get:U[bt]}else Et=E(U,bt),U=U[bt];Et&&!ot&&(St[ft]=U)}}return U}},9326:(Tt,yt,Z)=>{"use strict";var B="undefined"!=typeof Symbol&&Symbol,j=Z(9045);Tt.exports=function(){return"function"==typeof B&&"function"==typeof Symbol&&"symbol"==typeof B("foo")&&"symbol"==typeof Symbol("bar")&&j()}},9045:Tt=>{"use strict";Tt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var Z={},B=Symbol("test"),j=Object(B);if("string"==typeof B||"[object Symbol]"!==Object.prototype.toString.call(B)||"[object Symbol]"!==Object.prototype.toString.call(j))return!1;for(B in Z[B]=42,Z)return!1;if("function"==typeof Object.keys&&0!==Object.keys(Z).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(Z).length)return!1;var $=Object.getOwnPropertySymbols(Z);if(1!==$.length||$[0]!==B||!Object.prototype.propertyIsEnumerable.call(Z,B))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var nt=Object.getOwnPropertyDescriptor(Z,B);if(42!==nt.value||!0!==nt.enumerable)return!1}return!0}},1407:(Tt,yt,Z)=>{"use strict";var B=Z(9045);Tt.exports=function(){return B()&&!!Symbol.toStringTag}},6558:(Tt,yt,Z)=>{"use strict";var B=Z(5396);Tt.exports=B.call(Function.call,Object.prototype.hasOwnProperty)},7316:(Tt,yt,Z)=>{"use strict";var B=Z(1407)(),Q=Z(9568)("Object.prototype.toString"),$=function(gt){return!(B&&gt&&"object"==typeof gt&&Symbol.toStringTag in gt)&&"[object Arguments]"===Q(gt)},nt=function(gt){return!!$(gt)||null!==gt&&"object"==typeof gt&&"number"==typeof gt.length&&gt.length>=0&&"[object Array]"!==Q(gt)&&"[object Function]"===Q(gt.callee)},V=function(){return $(arguments)}();$.isLegacyArguments=nt,Tt.exports=V?$:nt},3105:(Tt,yt,Z)=>{"use strict";var B=Date.prototype.getDay,Q=Object.prototype.toString,nt=Z(1407)();Tt.exports=function(it){return"object"==typeof it&&null!==it&&(nt?function(it){try{return B.call(it),!0}catch(gt){return!1}}(it):"[object Date]"===Q.call(it))}},5544:(Tt,yt,Z)=>{"use strict";var Q,$,nt,V,B=Z(9568),j=Z(1407)();if(j){Q=B("Object.prototype.hasOwnProperty"),$=B("RegExp.prototype.exec"),nt={};var it=function(){throw nt};V={toString:it,valueOf:it},"symbol"==typeof Symbol.toPrimitive&&(V[Symbol.toPrimitive]=it)}var gt=B("Object.prototype.toString"),Lt=Object.getOwnPropertyDescriptor;Tt.exports=j?function(dt){if(!dt||"object"!=typeof dt)return!1;var St=Lt(dt,"lastIndex");if(!St||!Q(St,"value"))return!1;try{$(dt,V)}catch(tt){return tt===nt}}:function(dt){return!(!dt||"object"!=typeof dt&&"function"!=typeof dt)&&"[object RegExp]"===gt(dt)}},8228:Tt=>{"use strict";var yt=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;function j($){if(null==$)throw new TypeError("Object.assign cannot be called with null or undefined");return Object($)}Tt.exports=function(){try{if(!Object.assign)return!1;var $=new String("abc");if($[5]="de","5"===Object.getOwnPropertyNames($)[0])return!1;for(var nt={},V=0;V<10;V++)nt["_"+String.fromCharCode(V)]=V;if("0123456789"!==Object.getOwnPropertyNames(nt).map(function(Lt){return nt[Lt]}).join(""))return!1;var gt={};return"abcdefghijklmnopqrst".split("").forEach(function(Lt){gt[Lt]=Lt}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},gt)).join("")}catch(Lt){return!1}}()?Object.assign:function($,nt){for(var V,gt,it=j($),Lt=1;Lt<arguments.length;Lt++){for(var Nt in V=Object(arguments[Lt]))Z.call(V,Nt)&&(it[Nt]=V[Nt]);if(yt){gt=yt(V);for(var xt=0;xt<gt.length;xt++)B.call(V,gt[xt])&&(it[gt[xt]]=V[gt[xt]])}}return it}},7859:Tt=>{"use strict";var yt=function(Z){return Z!=Z};Tt.exports=function(B,j){return 0===B&&0===j?1/B==1/j:!!(B===j||yt(B)&&yt(j))}},4269:(Tt,yt,Z)=>{"use strict";var B=Z(6886),j=Z(44),Q=Z(7859),$=Z(8593),nt=Z(6343),V=j($(),Object);B(V,{getPolyfill:$,implementation:Q,shim:nt}),Tt.exports=V},8593:(Tt,yt,Z)=>{"use strict";var B=Z(7859);Tt.exports=function(){return"function"==typeof Object.is?Object.is:B}},6343:(Tt,yt,Z)=>{"use strict";var B=Z(8593),j=Z(6886);Tt.exports=function(){var $=B();return j(Object,{is:$},{is:function(){return Object.is!==$}}),$}},6068:(Tt,yt,Z)=>{"use strict";var B;if(!Object.keys){var j=Object.prototype.hasOwnProperty,Q=Object.prototype.toString,$=Z(2666),nt=Object.prototype.propertyIsEnumerable,V=!nt.call({toString:null},"toString"),it=nt.call(function(){},"prototype"),gt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Lt=function(St){var Ft=St.constructor;return Ft&&Ft.prototype===St},Nt={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},xt=function(){if("undefined"==typeof window)return!1;for(var St in window)try{if(!Nt["$"+St]&&j.call(window,St)&&null!==window[St]&&"object"==typeof window[St])try{Lt(window[St])}catch(Ft){return!0}}catch(Ft){return!0}return!1}();B=function(Ft){var tt=null!==Ft&&"object"==typeof Ft,lt="[object Function]"===Q.call(Ft),E=$(Ft),S=tt&&"[object String]"===Q.call(Ft),P=[];if(!tt&&!lt&&!E)throw new TypeError("Object.keys called on a non-object");var q=it&&lt;if(S&&Ft.length>0&&!j.call(Ft,0))for(var N=0;N<Ft.length;++N)P.push(String(N));if(E&&Ft.length>0)for(var b=0;b<Ft.length;++b)P.push(String(b));else for(var O in Ft)(!q||"prototype"!==O)&&j.call(Ft,O)&&P.push(String(O));if(V)for(var I=function(St){if("undefined"==typeof window||!xt)return Lt(St);try{return Lt(St)}catch(Ft){return!1}}(Ft),at=0;at<gt.length;++at)(!I||"constructor"!==gt[at])&&j.call(Ft,gt[at])&&P.push(gt[at]);return P}}Tt.exports=B},8507:(Tt,yt,Z)=>{"use strict";var B=Array.prototype.slice,j=Z(2666),Q=Object.keys,$=Q?function(it){return Q(it)}:Z(6068),nt=Object.keys;$.shim=function(){return Object.keys?function(){var gt=Object.keys(arguments);return gt&&gt.length===arguments.length}(1,2)||(Object.keys=function(Lt){return j(Lt)?nt(B.call(Lt)):nt(Lt)}):Object.keys=$,Object.keys||$},Tt.exports=$},2666:Tt=>{"use strict";var yt=Object.prototype.toString;Tt.exports=function(B){var j=yt.call(B),Q="[object Arguments]"===j;return Q||(Q="[object Array]"!==j&&null!==B&&"object"==typeof B&&"number"==typeof B.length&&B.length>=0&&"[object Function]"===yt.call(B.callee)),Q}},5751:Tt=>{Tt.exports=function(Z,B,j,Q){var $=Z[0],nt=Z[1],V=!1;void 0===j&&(j=0),void 0===Q&&(Q=B.length);for(var it=(Q-j)/2,gt=0,Lt=it-1;gt<it;Lt=gt++){var Nt=B[j+2*gt+0],xt=B[j+2*gt+1],St=B[j+2*Lt+1];xt>nt!=St>nt&&$<(B[j+2*Lt+0]-Nt)*(nt-xt)/(St-xt)+Nt&&(V=!V)}return V}},5503:(Tt,yt,Z)=>{var B=Z(5751),j=Z(5891);Tt.exports=function($,nt,V,it){return nt.length>0&&Array.isArray(nt[0])?j($,nt,V,it):B($,nt,V,it)},Tt.exports.nested=j,Tt.exports.flat=B},5891:Tt=>{Tt.exports=function(Z,B,j,Q){var $=Z[0],nt=Z[1],V=!1;void 0===j&&(j=0),void 0===Q&&(Q=B.length);for(var it=Q-j,gt=0,Lt=it-1;gt<it;Lt=gt++){var Nt=B[gt+j][0],xt=B[gt+j][1],St=B[Lt+j][1];xt>nt!=St>nt&&$<(B[Lt+j][0]-Nt)*(nt-xt)/(St-xt)+Nt&&(V=!V)}return V}},171:function(Tt){Tt.exports=function(){"use strict";function yt(pt,A){if(!(pt instanceof A))throw new TypeError("Cannot call a class as a function")}function Z(pt,A){for(var L=0;L<A.length;L++){var C=A[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(pt,C.key,C)}}function B(pt,A,L){return A&&Z(pt.prototype,A),L&&Z(pt,L),pt}var j=function(A,L){this.next=null,this.key=A,this.data=L,this.left=null,this.right=null};function Q(pt,A){return pt>A?1:pt<A?-1:0}function $(pt,A,L){for(var C=new j(null,null),H=C,st=C;;){var wt=L(pt,A.key);if(wt<0){if(null===A.left)break;if(L(pt,A.left.key)<0&&(A.left=(At=A.left).right,At.right=A,null===(A=At).left))break;st.left=A,st=A,A=A.left}else{if(!(wt>0))break;if(null===A.right)break;var At;if(L(pt,A.right.key)>0&&(A.right=(At=A.right).left,At.left=A,null===(A=At).right))break;H.right=A,H=A,A=A.right}}return H.right=A.left,st.left=A.right,A.left=C.right,A.right=C.left,A}function nt(pt,A,L,C){var H=new j(pt,A);if(null===L)return H.left=H.right=null,H;var st=C(pt,(L=$(pt,L,C)).key);return st<0?(H.left=L.left,H.right=L,L.left=null):st>=0&&(H.right=L.right,H.left=L,L.right=null),H}function V(pt,A,L){var C=null,H=null;if(A){var st=L((A=$(pt,A,L)).key,pt);0===st?(C=A.left,H=A.right):st<0?(H=A.right,A.right=null,C=A):(C=A.left,A.left=null,H=A)}return{left:C,right:H}}function gt(pt,A,L,C,H){if(pt){C(A+(L?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+H(pt)+"\n");var st=A+(L?"    ":"\u2502   ");pt.left&&gt(pt.left,st,!1,C,H),pt.right&&gt(pt.right,st,!0,C,H)}}var Lt=function(){function pt(A){void 0===A&&(A=Q),this._root=null,this._size=0,this._comparator=A}return pt.prototype.insert=function(A,L){return this._size++,this._root=nt(A,L,this._root,this._comparator)},pt.prototype.add=function(A,L){var C=new j(A,L);null===this._root&&(C.left=C.right=null,this._size++,this._root=C);var H=this._comparator,st=$(A,this._root,H),wt=H(A,st.key);return 0===wt?this._root=st:(wt<0?(C.left=st.left,C.right=st,st.left=null):wt>0&&(C.right=st.right,C.left=st,st.right=null),this._size++,this._root=C),this._root},pt.prototype.remove=function(A){this._root=this._remove(A,this._root,this._comparator)},pt.prototype._remove=function(A,L,C){var H;return null===L?null:0===C(A,(L=$(A,L,C)).key)?(null===L.left?H=L.right:(H=$(A,L.left,C)).right=L.right,this._size--,H):L},pt.prototype.pop=function(){var A=this._root;if(A){for(;A.left;)A=A.left;return this._root=$(A.key,this._root,this._comparator),this._root=this._remove(A.key,this._root,this._comparator),{key:A.key,data:A.data}}return null},pt.prototype.findStatic=function(A){for(var L=this._root,C=this._comparator;L;){var H=C(A,L.key);if(0===H)return L;L=H<0?L.left:L.right}return null},pt.prototype.find=function(A){return this._root&&(this._root=$(A,this._root,this._comparator),0!==this._comparator(A,this._root.key))?null:this._root},pt.prototype.contains=function(A){for(var L=this._root,C=this._comparator;L;){var H=C(A,L.key);if(0===H)return!0;L=H<0?L.left:L.right}return!1},pt.prototype.forEach=function(A,L){for(var C=this._root,H=[],st=!1;!st;)null!==C?(H.push(C),C=C.left):0!==H.length?(C=H.pop(),A.call(L,C),C=C.right):st=!0;return this},pt.prototype.range=function(A,L,C,H){for(var st=[],wt=this._comparator,At=this._root;0!==st.length||At;)if(At)st.push(At),At=At.left;else{if(wt((At=st.pop()).key,L)>0)break;if(wt(At.key,A)>=0&&C.call(H,At))return this;At=At.right}return this},pt.prototype.keys=function(){var A=[];return this.forEach(function(L){return A.push(L.key)}),A},pt.prototype.values=function(){var A=[];return this.forEach(function(L){return A.push(L.data)}),A},pt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},pt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},pt.prototype.minNode=function(A){if(void 0===A&&(A=this._root),A)for(;A.left;)A=A.left;return A},pt.prototype.maxNode=function(A){if(void 0===A&&(A=this._root),A)for(;A.right;)A=A.right;return A},pt.prototype.at=function(A){for(var L=this._root,C=!1,H=0,st=[];!C;)if(L)st.push(L),L=L.left;else if(st.length>0){if(L=st.pop(),H===A)return L;H++,L=L.right}else C=!0;return null},pt.prototype.next=function(A){var L=this._root,C=null;if(A.right){for(C=A.right;C.left;)C=C.left;return C}for(var H=this._comparator;L;){var st=H(A.key,L.key);if(0===st)break;st<0?(C=L,L=L.left):L=L.right}return C},pt.prototype.prev=function(A){var L=this._root,C=null;if(null!==A.left){for(C=A.left;C.right;)C=C.right;return C}for(var H=this._comparator;L;){var st=H(A.key,L.key);if(0===st)break;st<0?L=L.left:(C=L,L=L.right)}return C},pt.prototype.clear=function(){return this._root=null,this._size=0,this},pt.prototype.toList=function(){return function(pt){for(var A=pt,L=[],C=!1,H=new j(null,null),st=H;!C;)A?(L.push(A),A=A.left):L.length>0?A=(A=st=st.next=L.pop()).right:C=!0;return st.next=null,H.next}(this._root)},pt.prototype.load=function(A,L,C){void 0===L&&(L=[]),void 0===C&&(C=!1);var H=A.length,st=this._comparator;if(C&&tt(A,L,0,H-1,st),null===this._root)this._root=Nt(A,L,0,H),this._size=H;else{var wt=function(pt,A,L){for(var C=new j(null,null),H=C,st=pt,wt=A;null!==st&&null!==wt;)L(st.key,wt.key)<0?(H.next=st,st=st.next):(H.next=wt,wt=wt.next),H=H.next;return null!==st?H.next=st:null!==wt&&(H.next=wt),C.next}(this.toList(),function(pt,A){for(var L=new j(null,null),C=L,H=0;H<pt.length;H++)C=C.next=new j(pt[H],A[H]);return C.next=null,L.next}(A,L),st);this._root=St({head:wt},0,H=this._size+H)}return this},pt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(pt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(pt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),pt.prototype.toString=function(A){void 0===A&&(A=function(H){return String(H.key)});var L=[];return gt(this._root,"",!0,function(C){return L.push(C)},A),L.join("")},pt.prototype.update=function(A,L,C){var H=this._comparator,st=V(A,this._root,H),wt=st.left,At=st.right;H(A,L)<0?At=nt(L,C,At,H):wt=nt(L,C,wt,H),this._root=function(pt,A,L){return null===A?pt:(null===pt||((A=$(pt.key,A,L)).left=pt),A)}(wt,At,H)},pt.prototype.split=function(A){return V(A,this._root,this._comparator)},pt}();function Nt(pt,A,L,C){var H=C-L;if(H>0){var st=L+Math.floor(H/2),Dt=new j(pt[st],A[st]);return Dt.left=Nt(pt,A,L,st),Dt.right=Nt(pt,A,st+1,C),Dt}return null}function St(pt,A,L){var C=L-A;if(C>0){var H=A+Math.floor(C/2),st=St(pt,A,H),wt=pt.head;return wt.left=st,pt.head=pt.head.next,wt.right=St(pt,H+1,L),wt}return null}function tt(pt,A,L,C,H){if(!(L>=C)){for(var st=pt[L+C>>1],wt=L-1,At=C+1;;){do{wt++}while(H(pt[wt],st)<0);do{At--}while(H(pt[At],st)>0);if(wt>=At)break;var Dt=pt[wt];pt[wt]=pt[At],pt[At]=Dt,Dt=A[wt],A[wt]=A[At],A[At]=Dt}tt(pt,A,L,At,H),tt(pt,A,At+1,C,H)}}var lt=function(A,L){return A.ll.x<=L.x&&L.x<=A.ur.x&&A.ll.y<=L.y&&L.y<=A.ur.y},E=function(A,L){return L.ur.x<A.ll.x||A.ur.x<L.ll.x||L.ur.y<A.ll.y||A.ur.y<L.ll.y?null:{ll:{x:A.ll.x<L.ll.x?L.ll.x:A.ll.x,y:A.ll.y<L.ll.y?L.ll.y:A.ll.y},ur:{x:A.ur.x<L.ur.x?A.ur.x:L.ur.x,y:A.ur.y<L.ur.y?A.ur.y:L.ur.y}}},S=Number.EPSILON;void 0===S&&(S=Math.pow(2,-52));var P=S*S,q=function(A,L){if(-S<A&&A<S&&-S<L&&L<S)return 0;var C=A-L;return C*C<P*A*L?0:A<L?-1:1},N=function(){function pt(){yt(this,pt),this.reset()}return B(pt,[{key:"reset",value:function(){this.xRounder=new b,this.yRounder=new b}},{key:"round",value:function(L,C){return{x:this.xRounder.round(L),y:this.yRounder.round(C)}}}]),pt}(),b=function(){function pt(){yt(this,pt),this.tree=new Lt,this.round(0)}return B(pt,[{key:"round",value:function(L){var C=this.tree.add(L),H=this.tree.prev(C);if(null!==H&&0===q(C.key,H.key))return this.tree.remove(L),H.key;var st=this.tree.next(C);return null!==st&&0===q(C.key,st.key)?(this.tree.remove(L),st.key):L}}]),pt}(),O=new N,I=function(A,L){return A.x*L.y-A.y*L.x},at=function(A,L){return A.x*L.x+A.y*L.y},Y=function(A,L,C){var wt=I({x:L.x-A.x,y:L.y-A.y},{x:C.x-A.x,y:C.y-A.y});return q(wt,0)},J=function(A){return Math.sqrt(at(A,A))},R=function(A,L,C){var H={x:L.x-A.x,y:L.y-A.y},st={x:C.x-A.x,y:C.y-A.y};return I(st,H)/J(st)/J(H)},Rt=function(A,L,C){var H={x:L.x-A.x,y:L.y-A.y},st={x:C.x-A.x,y:C.y-A.y};return at(st,H)/J(st)/J(H)},Ct=function(A,L,C){return 0===L.y?null:{x:A.x+L.x/L.y*(C-A.y),y:C}},k=function(A,L,C){return 0===L.x?null:{x:C,y:A.y+L.y/L.x*(C-A.x)}},U=function(){function pt(A,L){yt(this,pt),void 0===A.events?A.events=[this]:A.events.push(this),this.point=A,this.isLeft=L}return B(pt,null,[{key:"compare",value:function(L,C){var H=pt.comparePoints(L.point,C.point);return 0!==H?H:(L.point!==C.point&&L.link(C),L.isLeft!==C.isLeft?L.isLeft?1:-1:ut.compare(L.segment,C.segment))}},{key:"comparePoints",value:function(L,C){return L.x<C.x?-1:L.x>C.x?1:L.y<C.y?-1:L.y>C.y?1:0}}]),B(pt,[{key:"link",value:function(L){if(L.point===this.point)throw new Error("Tried to link already linked events");for(var C=L.point.events,H=0,st=C.length;H<st;H++){var wt=C[H];this.point.events.push(wt),wt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var L=this.point.events.length,C=0;C<L;C++){var H=this.point.events[C];if(void 0===H.segment.consumedBy)for(var st=C+1;st<L;st++){var wt=this.point.events[st];void 0===wt.consumedBy&&H.otherSE.point.events===wt.otherSE.point.events&&H.segment.consume(wt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var L=[],C=0,H=this.point.events.length;C<H;C++){var st=this.point.events[C];st!==this&&!st.segment.ringOut&&st.segment.isInResult()&&L.push(st)}return L}},{key:"getLeftmostComparator",value:function(L){var C=this,H=new Map,st=function(At){var Dt=At.otherSE;H.set(At,{sine:R(C.point,L.point,Dt.point),cosine:Rt(C.point,L.point,Dt.point)})};return function(wt,At){H.has(wt)||st(wt),H.has(At)||st(At);var Dt=H.get(wt),Mt=Dt.sine,ae=Dt.cosine,ce=H.get(At),Xt=ce.sine,Ht=ce.cosine;return Mt>=0&&Xt>=0?ae<Ht?1:ae>Ht?-1:0:Mt<0&&Xt<0?ae<Ht?-1:ae>Ht?1:0:Xt<Mt?-1:Xt>Mt?1:0}}}]),pt}(),ot=0,ut=function(){function pt(A,L,C,H){yt(this,pt),this.id=++ot,this.leftSE=A,A.segment=this,A.otherSE=L,this.rightSE=L,L.segment=this,L.otherSE=A,this.rings=C,this.windings=H}return B(pt,null,[{key:"compare",value:function(L,C){var H=L.leftSE.point.x,st=C.leftSE.point.x,wt=L.rightSE.point.x,At=C.rightSE.point.x;if(At<H)return 1;if(wt<st)return-1;var Dt=L.leftSE.point.y,Mt=C.leftSE.point.y,ae=L.rightSE.point.y,ce=C.rightSE.point.y;if(H<st){if(Mt<Dt&&Mt<ae)return 1;if(Mt>Dt&&Mt>ae)return-1;var Xt=L.comparePoint(C.leftSE.point);if(Xt<0)return 1;if(Xt>0)return-1;var Ht=C.comparePoint(L.rightSE.point);return 0!==Ht?Ht:-1}if(H>st){if(Dt<Mt&&Dt<ce)return-1;if(Dt>Mt&&Dt>ce)return 1;var dn=C.comparePoint(L.leftSE.point);if(0!==dn)return dn;var Pe=L.comparePoint(C.rightSE.point);return Pe<0?1:Pe>0?-1:1}if(Dt<Mt)return-1;if(Dt>Mt)return 1;if(wt<At){var Ne=C.comparePoint(L.rightSE.point);if(0!==Ne)return Ne}if(wt>At){var yn=L.comparePoint(C.rightSE.point);if(yn<0)return 1;if(yn>0)return-1}if(wt!==At){var Sn=ae-Dt,Zn=wt-H,Ln=ce-Mt,ur=At-st;if(Sn>Zn&&Ln<ur)return 1;if(Sn<Zn&&Ln>ur)return-1}return wt>At?1:wt<At||ae<ce?-1:ae>ce?1:L.id<C.id?-1:L.id>C.id?1:0}}]),B(pt,[{key:"replaceRightSE",value:function(L){this.rightSE=L,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var L=this.leftSE.point.y,C=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:L<C?L:C},ur:{x:this.rightSE.point.x,y:L>C?L:C}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(L){return L.x===this.leftSE.point.x&&L.y===this.leftSE.point.y||L.x===this.rightSE.point.x&&L.y===this.rightSE.point.y}},{key:"comparePoint",value:function(L){if(this.isAnEndpoint(L))return 0;var C=this.leftSE.point,H=this.rightSE.point,st=this.vector();if(C.x===H.x)return L.x===C.x?0:L.x<C.x?1:-1;if(L.x===C.x+(L.y-C.y)/st.y*st.x)return 0;var Mt=C.y+(L.x-C.x)/st.x*st.y;return L.y===Mt?0:L.y<Mt?-1:1}},{key:"getIntersection",value:function(L){var C=this.bbox(),H=L.bbox(),st=E(C,H);if(null===st)return null;var wt=this.leftSE.point,At=this.rightSE.point,Dt=L.leftSE.point,Mt=L.rightSE.point,ae=lt(C,Dt)&&0===this.comparePoint(Dt),ce=lt(H,wt)&&0===L.comparePoint(wt),Xt=lt(C,Mt)&&0===this.comparePoint(Mt),Ht=lt(H,At)&&0===L.comparePoint(At);if(ce&&ae)return Ht&&!Xt?At:!Ht&&Xt?Mt:null;if(ce)return Xt&&wt.x===Mt.x&&wt.y===Mt.y?null:wt;if(ae)return Ht&&At.x===Dt.x&&At.y===Dt.y?null:Dt;if(Ht&&Xt)return null;if(Ht)return At;if(Xt)return Mt;var dn=function(A,L,C,H){if(0===L.x)return k(C,H,A.x);if(0===H.x)return k(A,L,C.x);if(0===L.y)return Ct(C,H,A.y);if(0===H.y)return Ct(A,L,C.y);var st=I(L,H);if(0==st)return null;var wt={x:C.x-A.x,y:C.y-A.y},At=I(wt,L)/st,Dt=I(wt,H)/st;return{x:(A.x+Dt*L.x+(C.x+At*H.x))/2,y:(A.y+Dt*L.y+(C.y+At*H.y))/2}}(wt,this.vector(),Dt,L.vector());return null!==dn&&lt(st,dn)?O.round(dn.x,dn.y):null}},{key:"split",value:function(L){var C=[],H=void 0!==L.events,st=new U(L,!0),wt=new U(L,!1),At=this.rightSE;this.replaceRightSE(wt),C.push(wt),C.push(st);var Dt=new pt(st,At,this.rings.slice(),this.windings.slice());return U.comparePoints(Dt.leftSE.point,Dt.rightSE.point)>0&&Dt.swapEvents(),U.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),H&&(st.checkForConsuming(),wt.checkForConsuming()),C}},{key:"swapEvents",value:function(){var L=this.rightSE;this.rightSE=this.leftSE,this.leftSE=L,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var C=0,H=this.windings.length;C<H;C++)this.windings[C]*=-1}},{key:"consume",value:function(L){for(var C=this,H=L;C.consumedBy;)C=C.consumedBy;for(;H.consumedBy;)H=H.consumedBy;var st=pt.compare(C,H);if(0!==st){if(st>0){var wt=C;C=H,H=wt}if(C.prev===H){var At=C;C=H,H=At}for(var Dt=0,Mt=H.rings.length;Dt<Mt;Dt++){var ae=H.rings[Dt],ce=H.windings[Dt],Xt=C.rings.indexOf(ae);-1===Xt?(C.rings.push(ae),C.windings.push(ce)):C.windings[Xt]+=ce}H.rings=null,H.windings=null,H.consumedBy=C,H.leftSE.consumedBy=C.leftSE,H.rightSE.consumedBy=C.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var L=this.beforeState();this._afterState={rings:L.rings.slice(0),windings:L.windings.slice(0),multiPolys:[]};for(var C=this._afterState.rings,H=this._afterState.windings,st=this._afterState.multiPolys,wt=0,At=this.rings.length;wt<At;wt++){var Dt=this.rings[wt],Mt=this.windings[wt],ae=C.indexOf(Dt);-1===ae?(C.push(Dt),H.push(Mt)):H[ae]+=Mt}for(var ce=[],Xt=[],Ht=0,dn=C.length;Ht<dn;Ht++)if(0!==H[Ht]){var Pe=C[Ht],Ne=Pe.poly;if(-1===Xt.indexOf(Ne))if(Pe.isExterior)ce.push(Ne);else{-1===Xt.indexOf(Ne)&&Xt.push(Ne);var yn=ce.indexOf(Pe.poly);-1!==yn&&ce.splice(yn,1)}}for(var Sn=0,Zn=ce.length;Sn<Zn;Sn++){var Ln=ce[Sn].multiPoly;-1===st.indexOf(Ln)&&st.push(Ln)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var L=this.beforeState().multiPolys,C=this.afterState().multiPolys;switch(kt.type){case"union":this._isInResult=0===L.length!=(0===C.length);break;case"intersection":var wt,At;L.length<C.length?(wt=L.length,At=C.length):(wt=C.length,At=L.length),this._isInResult=At===kt.numMultiPolys&&wt<At;break;case"xor":var Dt=Math.abs(L.length-C.length);this._isInResult=Dt%2==1;break;case"difference":var Mt=function(ce){return 1===ce.length&&ce[0].isSubject};this._isInResult=Mt(L)!==Mt(C);break;default:throw new Error("Unrecognized operation type found ".concat(kt.type))}return this._isInResult}}],[{key:"fromRing",value:function(L,C,H){var st,wt,At,Dt=U.comparePoints(L,C);if(Dt<0)st=L,wt=C,At=1;else{if(!(Dt>0))throw new Error("Tried to create degenerate segment at [".concat(L.x,", ").concat(L.y,"]"));st=C,wt=L,At=-1}return new pt(new U(st,!0),new U(wt,!1),[H],[At])}}]),pt}(),G=function(){function pt(A,L,C){if(yt(this,pt),!Array.isArray(A)||0===A.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=L,this.isExterior=C,this.segments=[],"number"!=typeof A[0][0]||"number"!=typeof A[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var H=O.round(A[0][0],A[0][1]);this.bbox={ll:{x:H.x,y:H.y},ur:{x:H.x,y:H.y}};for(var st=H,wt=1,At=A.length;wt<At;wt++){if("number"!=typeof A[wt][0]||"number"!=typeof A[wt][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Dt=O.round(A[wt][0],A[wt][1]);Dt.x===st.x&&Dt.y===st.y||(this.segments.push(ut.fromRing(st,Dt,this)),Dt.x<this.bbox.ll.x&&(this.bbox.ll.x=Dt.x),Dt.y<this.bbox.ll.y&&(this.bbox.ll.y=Dt.y),Dt.x>this.bbox.ur.x&&(this.bbox.ur.x=Dt.x),Dt.y>this.bbox.ur.y&&(this.bbox.ur.y=Dt.y),st=Dt)}(H.x!==st.x||H.y!==st.y)&&this.segments.push(ut.fromRing(st,H,this))}return B(pt,[{key:"getSweepEvents",value:function(){for(var L=[],C=0,H=this.segments.length;C<H;C++){var st=this.segments[C];L.push(st.leftSE),L.push(st.rightSE)}return L}}]),pt}(),Et=function(){function pt(A,L){if(yt(this,pt),!Array.isArray(A))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new G(A[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var C=1,H=A.length;C<H;C++){var st=new G(A[C],this,!1);st.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=st.bbox.ll.x),st.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=st.bbox.ll.y),st.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=st.bbox.ur.x),st.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=st.bbox.ur.y),this.interiorRings.push(st)}this.multiPoly=L}return B(pt,[{key:"getSweepEvents",value:function(){for(var L=this.exteriorRing.getSweepEvents(),C=0,H=this.interiorRings.length;C<H;C++)for(var st=this.interiorRings[C].getSweepEvents(),wt=0,At=st.length;wt<At;wt++)L.push(st[wt]);return L}}]),pt}(),bt=function(){function pt(A,L){if(yt(this,pt),!Array.isArray(A))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof A[0][0][0]&&(A=[A])}catch(wt){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var C=0,H=A.length;C<H;C++){var st=new Et(A[C],this);st.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=st.bbox.ll.x),st.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=st.bbox.ll.y),st.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=st.bbox.ur.x),st.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=st.bbox.ur.y),this.polys.push(st)}this.isSubject=L}return B(pt,[{key:"getSweepEvents",value:function(){for(var L=[],C=0,H=this.polys.length;C<H;C++)for(var st=this.polys[C].getSweepEvents(),wt=0,At=st.length;wt<At;wt++)L.push(st[wt]);return L}}]),pt}(),Ut=function(){function pt(A){yt(this,pt),this.events=A;for(var L=0,C=A.length;L<C;L++)A[L].segment.ringOut=this;this.poly=null}return B(pt,null,[{key:"factory",value:function(L){for(var C=[],H=0,st=L.length;H<st;H++){var wt=L[H];if(wt.isInResult()&&!wt.ringOut){for(var At=null,Dt=wt.leftSE,Mt=wt.rightSE,ae=[Dt],ce=Dt.point,Xt=[];At=Dt,ae.push(Dt=Mt),Dt.point!==ce;)for(;;){var Ht=Dt.getAvailableLinkedEvents();if(0===Ht.length){var dn=ae[0].point,Pe=ae[ae.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(dn.x,",")+" ".concat(dn.y,"]. Last matching segment found ends at")+" [".concat(Pe.x,", ").concat(Pe.y,"]."))}if(1===Ht.length){Mt=Ht[0].otherSE;break}for(var Ne=null,yn=0,Sn=Xt.length;yn<Sn;yn++)if(Xt[yn].point===Dt.point){Ne=yn;break}if(null===Ne){Xt.push({index:ae.length,point:Dt.point});var ur=Dt.getLeftmostComparator(At);Mt=Ht.sort(ur)[0].otherSE;break}var Zn=Xt.splice(Ne)[0],Ln=ae.splice(Zn.index);Ln.unshift(Ln[0].otherSE),C.push(new pt(Ln.reverse()))}C.push(new pt(ae))}}return C}}]),B(pt,[{key:"getGeom",value:function(){for(var L=this.events[0].point,C=[L],H=1,st=this.events.length-1;H<st;H++){var wt=this.events[H].point;0!==Y(wt,L,this.events[H+1].point)&&(C.push(wt),L=wt)}if(1===C.length)return null;0===Y(C[0],L,C[1])&&C.shift(),C.push(C[0]);for(var ae=this.isExteriorRing()?1:-1,ce=this.isExteriorRing()?0:C.length-1,Xt=this.isExteriorRing()?C.length:-1,Ht=[],dn=ce;dn!=Xt;dn+=ae)Ht.push([C[dn].x,C[dn].y]);return Ht}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var L=this.enclosingRing();this._isExteriorRing=!L||!L.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var L=this.events[0],C=1,H=this.events.length;C<H;C++){var st=this.events[C];U.compare(L,st)>0&&(L=st)}for(var wt=L.segment.prevInResult(),At=wt?wt.prevInResult():null;;){if(!wt)return null;if(!At)return wt.ringOut;if(At.ringOut!==wt.ringOut)return At.ringOut.enclosingRing()!==wt.ringOut?wt.ringOut:wt.ringOut.enclosingRing();wt=At.prevInResult(),At=wt?wt.prevInResult():null}}}]),pt}(),Ot=function(){function pt(A){yt(this,pt),this.exteriorRing=A,A.poly=this,this.interiorRings=[]}return B(pt,[{key:"addInterior",value:function(L){this.interiorRings.push(L),L.poly=this}},{key:"getGeom",value:function(){var L=[this.exteriorRing.getGeom()];if(null===L[0])return null;for(var C=0,H=this.interiorRings.length;C<H;C++){var st=this.interiorRings[C].getGeom();null!==st&&L.push(st)}return L}}]),pt}(),ie=function(){function pt(A){yt(this,pt),this.rings=A,this.polys=this._composePolys(A)}return B(pt,[{key:"getGeom",value:function(){for(var L=[],C=0,H=this.polys.length;C<H;C++){var st=this.polys[C].getGeom();null!==st&&L.push(st)}return L}},{key:"_composePolys",value:function(L){for(var C=[],H=0,st=L.length;H<st;H++){var wt=L[H];if(!wt.poly)if(wt.isExteriorRing())C.push(new Ot(wt));else{var At=wt.enclosingRing();At.poly||C.push(new Ot(At)),At.poly.addInterior(wt)}}return C}}]),pt}(),pe=function(){function pt(A){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.compare;yt(this,pt),this.queue=A,this.tree=new Lt(L),this.segments=[]}return B(pt,[{key:"process",value:function(L){var C=L.segment,H=[];if(L.consumedBy)return L.isLeft?this.queue.remove(L.otherSE):this.tree.remove(C),H;var st=L.isLeft?this.tree.insert(C):this.tree.find(C);if(!st)throw new Error("Unable to find segment #".concat(C.id," ")+"[".concat(C.leftSE.point.x,", ").concat(C.leftSE.point.y,"] -> ")+"[".concat(C.rightSE.point.x,", ").concat(C.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var wt=st,At=st,Dt=void 0,Mt=void 0;void 0===Dt;)null===(wt=this.tree.prev(wt))?Dt=null:void 0===wt.key.consumedBy&&(Dt=wt.key);for(;void 0===Mt;)null===(At=this.tree.next(At))?Mt=null:void 0===At.key.consumedBy&&(Mt=At.key);if(L.isLeft){var ae=null;if(Dt){var ce=Dt.getIntersection(C);if(null!==ce&&(C.isAnEndpoint(ce)||(ae=ce),!Dt.isAnEndpoint(ce)))for(var Xt=this._splitSafely(Dt,ce),Ht=0,dn=Xt.length;Ht<dn;Ht++)H.push(Xt[Ht])}var Pe=null;if(Mt){var Ne=Mt.getIntersection(C);if(null!==Ne&&(C.isAnEndpoint(Ne)||(Pe=Ne),!Mt.isAnEndpoint(Ne)))for(var yn=this._splitSafely(Mt,Ne),Sn=0,Zn=yn.length;Sn<Zn;Sn++)H.push(yn[Sn])}if(null!==ae||null!==Pe){var Ln;Ln=null===ae?Pe:null===Pe||U.comparePoints(ae,Pe)<=0?ae:Pe,this.queue.remove(C.rightSE),H.push(C.rightSE);for(var cn=C.split(Ln),Br=0,Gn=cn.length;Br<Gn;Br++)H.push(cn[Br])}H.length>0?(this.tree.remove(C),H.push(L)):(this.segments.push(C),C.prev=Dt)}else{if(Dt&&Mt){var Bt=Dt.getIntersection(Mt);if(null!==Bt){if(!Dt.isAnEndpoint(Bt))for(var mo=this._splitSafely(Dt,Bt),Jr=0,ye=mo.length;Jr<ye;Jr++)H.push(mo[Jr]);if(!Mt.isAnEndpoint(Bt))for(var ii=this._splitSafely(Mt,Bt),Zr=0,Ii=ii.length;Zr<Ii;Zr++)H.push(ii[Zr])}}this.tree.remove(C)}return H}},{key:"_splitSafely",value:function(L,C){this.tree.remove(L);var H=L.rightSE;this.queue.remove(H);var st=L.split(C);return st.push(H),void 0===L.consumedBy&&this.tree.insert(L),st}}]),pt}(),oe="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Wt="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,kt=new(function(){function pt(){yt(this,pt)}return B(pt,[{key:"run",value:function(L,C,H){kt.type=L,O.reset();for(var st=[new bt(C,!0)],wt=0,At=H.length;wt<At;wt++)st.push(new bt(H[wt],!1));if(kt.numMultiPolys=st.length,"difference"===kt.type)for(var Dt=st[0],Mt=1;Mt<st.length;)null!==E(st[Mt].bbox,Dt.bbox)?Mt++:st.splice(Mt,1);if("intersection"===kt.type)for(var ae=0,ce=st.length;ae<ce;ae++)for(var Xt=st[ae],Ht=ae+1,dn=st.length;Ht<dn;Ht++)if(null===E(Xt.bbox,st[Ht].bbox))return[];for(var Pe=new Lt(U.compare),Ne=0,yn=st.length;Ne<yn;Ne++)for(var Sn=st[Ne].getSweepEvents(),Zn=0,Ln=Sn.length;Zn<Ln;Zn++)if(Pe.insert(Sn[Zn]),Pe.size>oe)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var ur=new pe(Pe),cn=Pe.size,Br=Pe.pop();Br;){var Gn=Br.key;if(Pe.size===cn){var Bt=Gn.segment;throw new Error("Unable to pop() ".concat(Gn.isLeft?"left":"right"," SweepEvent ")+"[".concat(Gn.point.x,", ").concat(Gn.point.y,"] from segment #").concat(Bt.id," ")+"[".concat(Bt.leftSE.point.x,", ").concat(Bt.leftSE.point.y,"] -> ")+"[".concat(Bt.rightSE.point.x,", ").concat(Bt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Pe.size>oe)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(ur.segments.length>Wt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var mo=ur.process(Gn),Jr=0,ye=mo.length;Jr<ye;Jr++){var ii=mo[Jr];void 0===ii.consumedBy&&Pe.insert(ii)}cn=Pe.size,Br=Pe.pop()}O.reset();var Zr=Ut.factory(ur.segments);return new ie(Zr).getGeom()}}]),pt}());return{union:function(A){for(var L=arguments.length,C=new Array(L>1?L-1:0),H=1;H<L;H++)C[H-1]=arguments[H];return kt.run("union",A,C)},intersection:function(A){for(var L=arguments.length,C=new Array(L>1?L-1:0),H=1;H<L;H++)C[H-1]=arguments[H];return kt.run("intersection",A,C)},xor:function(A){for(var L=arguments.length,C=new Array(L>1?L-1:0),H=1;H<L;H++)C[H-1]=arguments[H];return kt.run("xor",A,C)},difference:function(A){for(var L=arguments.length,C=new Array(L>1?L-1:0),H=1;H<L;H++)C[H-1]=arguments[H];return kt.run("difference",A,C)}}}()},3036:function(Tt){Tt.exports=function(){"use strict";function yt(tt,lt,E,S,P){!function q(N,b,O,I,at){for(;I>O;){if(I-O>600){var Y=I-O+1,J=b-O+1,R=Math.log(Y),Rt=.5*Math.exp(2*R/3),Ct=.5*Math.sqrt(R*Rt*(Y-Rt)/Y)*(J-Y/2<0?-1:1);q(N,b,Math.max(O,Math.floor(b-J*Rt/Y+Ct)),Math.min(I,Math.floor(b+(Y-J)*Rt/Y+Ct)),at)}var U=N[b],ot=O,ut=I;for(Z(N,O,b),at(N[I],U)>0&&Z(N,O,I);ot<ut;){for(Z(N,ot,ut),ot++,ut--;at(N[ot],U)<0;)ot++;for(;at(N[ut],U)>0;)ut--}0===at(N[O],U)?Z(N,O,ut):Z(N,++ut,I),ut<=b&&(O=ut+1),b<=ut&&(I=ut-1)}}(tt,lt,E||0,S||tt.length-1,P||B)}function Z(tt,lt,E){var S=tt[lt];tt[lt]=tt[E],tt[E]=S}function B(tt,lt){return tt<lt?-1:tt>lt?1:0}var j=function(tt){void 0===tt&&(tt=9),this._maxEntries=Math.max(4,tt),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function Q(tt,lt,E){if(!E)return lt.indexOf(tt);for(var S=0;S<lt.length;S++)if(E(tt,lt[S]))return S;return-1}function $(tt,lt){nt(tt,0,tt.children.length,lt,tt)}function nt(tt,lt,E,S,P){P||(P=St(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var q=lt;q<E;q++){var N=tt.children[q];V(P,tt.leaf?S(N):N)}return P}function V(tt,lt){return tt.minX=Math.min(tt.minX,lt.minX),tt.minY=Math.min(tt.minY,lt.minY),tt.maxX=Math.max(tt.maxX,lt.maxX),tt.maxY=Math.max(tt.maxY,lt.maxY),tt}function it(tt,lt){return tt.minX-lt.minX}function gt(tt,lt){return tt.minY-lt.minY}function Lt(tt){return(tt.maxX-tt.minX)*(tt.maxY-tt.minY)}function Nt(tt){return tt.maxX-tt.minX+(tt.maxY-tt.minY)}function xt(tt,lt){return tt.minX<=lt.minX&&tt.minY<=lt.minY&&lt.maxX<=tt.maxX&&lt.maxY<=tt.maxY}function dt(tt,lt){return lt.minX<=tt.maxX&&lt.minY<=tt.maxY&&lt.maxX>=tt.minX&&lt.maxY>=tt.minY}function St(tt){return{children:tt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ft(tt,lt,E,S,P){for(var q=[lt,E];q.length;)if(!((E=q.pop())-(lt=q.pop())<=S)){var N=lt+Math.ceil((E-lt)/S/2)*S;yt(tt,N,lt,E,P),q.push(lt,N,N,E)}}return j.prototype.all=function(){return this._all(this.data,[])},j.prototype.search=function(tt){var lt=this.data,E=[];if(!dt(tt,lt))return E;for(var S=this.toBBox,P=[];lt;){for(var q=0;q<lt.children.length;q++){var N=lt.children[q],b=lt.leaf?S(N):N;dt(tt,b)&&(lt.leaf?E.push(N):xt(tt,b)?this._all(N,E):P.push(N))}lt=P.pop()}return E},j.prototype.collides=function(tt){var lt=this.data;if(!dt(tt,lt))return!1;for(var E=[];lt;){for(var S=0;S<lt.children.length;S++){var P=lt.children[S],q=lt.leaf?this.toBBox(P):P;if(dt(tt,q)){if(lt.leaf||xt(tt,q))return!0;E.push(P)}}lt=E.pop()}return!1},j.prototype.load=function(tt){if(!tt||!tt.length)return this;if(tt.length<this._minEntries){for(var lt=0;lt<tt.length;lt++)this.insert(tt[lt]);return this}var E=this._build(tt.slice(),0,tt.length-1,0);if(this.data.children.length)if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var S=this.data;this.data=E,E=S}this._insert(E,this.data.height-E.height-1,!0)}else this.data=E;return this},j.prototype.insert=function(tt){return tt&&this._insert(tt,this.data.height-1),this},j.prototype.clear=function(){return this.data=St([]),this},j.prototype.remove=function(tt,lt){if(!tt)return this;for(var E,S,P,q=this.data,N=this.toBBox(tt),b=[],O=[];q||b.length;){if(q||(q=b.pop(),S=b[b.length-1],E=O.pop(),P=!0),q.leaf){var I=Q(tt,q.children,lt);if(-1!==I)return q.children.splice(I,1),b.push(q),this._condense(b),this}P||q.leaf||!xt(q,N)?S?(E++,q=S.children[E],P=!1):q=null:(b.push(q),O.push(E),E=0,S=q,q=q.children[0])}return this},j.prototype.toBBox=function(tt){return tt},j.prototype.compareMinX=function(tt,lt){return tt.minX-lt.minX},j.prototype.compareMinY=function(tt,lt){return tt.minY-lt.minY},j.prototype.toJSON=function(){return this.data},j.prototype.fromJSON=function(tt){return this.data=tt,this},j.prototype._all=function(tt,lt){for(var E=[];tt;)tt.leaf?lt.push.apply(lt,tt.children):E.push.apply(E,tt.children),tt=E.pop();return lt},j.prototype._build=function(tt,lt,E,S){var P,q=E-lt+1,N=this._maxEntries;if(q<=N)return $(P=St(tt.slice(lt,E+1)),this.toBBox),P;S||(S=Math.ceil(Math.log(q)/Math.log(N)),N=Math.ceil(q/Math.pow(N,S-1))),(P=St([])).leaf=!1,P.height=S;var b=Math.ceil(q/N),O=b*Math.ceil(Math.sqrt(N));Ft(tt,lt,E,O,this.compareMinX);for(var I=lt;I<=E;I+=O){var at=Math.min(I+O-1,E);Ft(tt,I,at,b,this.compareMinY);for(var Y=I;Y<=at;Y+=b){var J=Math.min(Y+b-1,at);P.children.push(this._build(tt,Y,J,S-1))}}return $(P,this.toBBox),P},j.prototype._chooseSubtree=function(tt,lt,E,S){for(;S.push(lt),!lt.leaf&&S.length-1!==E;){for(var P=1/0,q=1/0,N=void 0,b=0;b<lt.children.length;b++){var O=lt.children[b],I=Lt(O),at=(Y=tt,J=O,(Math.max(J.maxX,Y.maxX)-Math.min(J.minX,Y.minX))*(Math.max(J.maxY,Y.maxY)-Math.min(J.minY,Y.minY))-I);at<q?(q=at,P=I<P?I:P,N=O):at===q&&I<P&&(P=I,N=O)}lt=N||lt.children[0]}var Y,J;return lt},j.prototype._insert=function(tt,lt,E){var S=E?tt:this.toBBox(tt),P=[],q=this._chooseSubtree(S,this.data,lt,P);for(q.children.push(tt),V(q,S);lt>=0&&P[lt].children.length>this._maxEntries;)this._split(P,lt),lt--;this._adjustParentBBoxes(S,P,lt)},j.prototype._split=function(tt,lt){var E=tt[lt],S=E.children.length,P=this._minEntries;this._chooseSplitAxis(E,P,S);var q=this._chooseSplitIndex(E,P,S),N=St(E.children.splice(q,E.children.length-q));N.height=E.height,N.leaf=E.leaf,$(E,this.toBBox),$(N,this.toBBox),lt?tt[lt-1].children.push(N):this._splitRoot(E,N)},j.prototype._splitRoot=function(tt,lt){this.data=St([tt,lt]),this.data.height=tt.height+1,this.data.leaf=!1,$(this.data,this.toBBox)},j.prototype._chooseSplitIndex=function(tt,lt,E){for(var S,P,q,N,b,O,I,at=1/0,Y=1/0,J=lt;J<=E-lt;J++){var R=nt(tt,0,J,this.toBBox),Rt=nt(tt,J,E,this.toBBox),Ct=(P=R,q=Rt,void 0,void 0,void 0,void 0,N=Math.max(P.minX,q.minX),b=Math.max(P.minY,q.minY),O=Math.min(P.maxX,q.maxX),I=Math.min(P.maxY,q.maxY),Math.max(0,O-N)*Math.max(0,I-b)),k=Lt(R)+Lt(Rt);Ct<at?(at=Ct,S=J,Y=k<Y?k:Y):Ct===at&&k<Y&&(Y=k,S=J)}return S||E-lt},j.prototype._chooseSplitAxis=function(tt,lt,E){var S=tt.leaf?this.compareMinX:it,P=tt.leaf?this.compareMinY:gt;this._allDistMargin(tt,lt,E,S)<this._allDistMargin(tt,lt,E,P)&&tt.children.sort(S)},j.prototype._allDistMargin=function(tt,lt,E,S){tt.children.sort(S);for(var P=this.toBBox,q=nt(tt,0,lt,P),N=nt(tt,E-lt,E,P),b=Nt(q)+Nt(N),O=lt;O<E-lt;O++){var I=tt.children[O];V(q,tt.leaf?P(I):I),b+=Nt(q)}for(var at=E-lt-1;at>=lt;at--){var Y=tt.children[at];V(N,tt.leaf?P(Y):Y),b+=Nt(N)}return b},j.prototype._adjustParentBBoxes=function(tt,lt,E){for(var S=E;S>=0;S--)V(lt[S],tt)},j.prototype._condense=function(tt){for(var lt=tt.length-1,E=void 0;lt>=0;lt--)0===tt[lt].children.length?lt>0?(E=tt[lt-1].children).splice(E.indexOf(tt[lt]),1):this.clear():$(tt[lt],this.toBBox)},j}()},565:Tt=>{"use strict";var yt=Object,Z=TypeError;Tt.exports=function(){if(null!=this&&this!==yt(this))throw new Z("RegExp.prototype.flags getter called on non-object");var j="";return this.global&&(j+="g"),this.ignoreCase&&(j+="i"),this.multiline&&(j+="m"),this.dotAll&&(j+="s"),this.unicode&&(j+="u"),this.sticky&&(j+="y"),j}},437:(Tt,yt,Z)=>{"use strict";var B=Z(6886),j=Z(44),Q=Z(565),$=Z(3880),nt=Z(9129),V=j(Q);B(V,{getPolyfill:$,implementation:Q,shim:nt}),Tt.exports=V},3880:(Tt,yt,Z)=>{"use strict";var B=Z(565),j=Z(6886).supportsDescriptors,Q=Object.getOwnPropertyDescriptor,$=TypeError;Tt.exports=function(){if(!j)throw new $("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var V=Q(RegExp.prototype,"flags");if(V&&"function"==typeof V.get&&"boolean"==typeof/a/.dotAll)return V.get}return B}},9129:(Tt,yt,Z)=>{"use strict";var B=Z(6886).supportsDescriptors,j=Z(3880),Q=Object.getOwnPropertyDescriptor,$=Object.defineProperty,nt=TypeError,V=Object.getPrototypeOf,it=/a/;Tt.exports=function(){if(!B||!V)throw new nt("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Lt=j(),Nt=V(it),xt=Q(Nt,"flags");return(!xt||xt.get!==Lt)&&$(Nt,"flags",{configurable:!0,enumerable:!1,get:Lt}),Lt}},5322:function(Tt,yt){!function(Z){"use strict";const B=134217729;function Q(St,Ft,tt,lt,E){let S,P,q,N,b=Ft[0],O=lt[0],I=0,at=0;O>b==O>-b?(S=b,b=Ft[++I]):(S=O,O=lt[++at]);let Y=0;if(I<St&&at<tt)for(O>b==O>-b?(q=S-((P=b+S)-b),b=Ft[++I]):(q=S-((P=O+S)-O),O=lt[++at]),S=P,0!==q&&(E[Y++]=q);I<St&&at<tt;)O>b==O>-b?(q=S-((P=S+b)-(N=P-S))+(b-N),b=Ft[++I]):(q=S-((P=S+O)-(N=P-S))+(O-N),O=lt[++at]),S=P,0!==q&&(E[Y++]=q);for(;I<St;)q=S-((P=S+b)-(N=P-S))+(b-N),b=Ft[++I],S=P,0!==q&&(E[Y++]=q);for(;at<tt;)q=S-((P=S+O)-(N=P-S))+(O-N),O=lt[++at],S=P,0!==q&&(E[Y++]=q);return 0===S&&0!==Y||(E[Y++]=S),Y}function $(St){return new Float64Array(St)}const gt=$(4),Lt=$(8),Nt=$(12),xt=$(16),dt=$(4);Z.orient2d=function(St,Ft,tt,lt,E,S){const P=(Ft-S)*(tt-E),q=(St-E)*(lt-S),N=P-q;if(0===P||0===q||P>0!=q>0)return N;const b=Math.abs(P+q);return Math.abs(N)>=33306690738754716e-32*b?N:-function(O,I,at,Y,J,R,Rt){let Ct,k,ft,U,ot,ut,G,Et,bt,Ut,Ot,ie,pe,oe,Wt,jt,kt,In;const fn=O-J,mn=at-J,ln=I-R,_n=Y-R;ot=(Wt=(Et=fn-(G=(ut=B*fn)-(ut-fn)))*(Ut=_n-(bt=(ut=B*_n)-(ut-_n)))-((oe=fn*_n)-G*bt-Et*bt-G*Ut))-(Ot=Wt-(kt=(Et=ln-(G=(ut=B*ln)-(ut-ln)))*(Ut=mn-(bt=(ut=B*mn)-(ut-mn)))-((jt=ln*mn)-G*bt-Et*bt-G*Ut))),gt[0]=Wt-(Ot+ot)+(ot-kt),ot=(pe=oe-((ie=oe+Ot)-(ot=ie-oe))+(Ot-ot))-(Ot=pe-jt),gt[1]=pe-(Ot+ot)+(ot-jt),ot=(In=ie+Ot)-ie,gt[2]=ie-(In-ot)+(Ot-ot),gt[3]=In;let pt=function(st,wt){let At=wt[0];for(let Dt=1;Dt<4;Dt++)At+=wt[Dt];return At}(0,gt),A=22204460492503146e-32*Rt;if(pt>=A||-pt>=A||(Ct=O-(fn+(ot=O-fn))+(ot-J),ft=at-(mn+(ot=at-mn))+(ot-J),k=I-(ln+(ot=I-ln))+(ot-R),U=Y-(_n+(ot=Y-_n))+(ot-R),0===Ct&&0===k&&0===ft&&0===U)||(A=11093356479670487e-47*Rt+33306690738754706e-32*Math.abs(pt),(pt+=fn*U+_n*Ct-(ln*ft+mn*k))>=A||-pt>=A))return pt;ot=(Wt=(Et=Ct-(G=(ut=B*Ct)-(ut-Ct)))*(Ut=_n-(bt=(ut=B*_n)-(ut-_n)))-((oe=Ct*_n)-G*bt-Et*bt-G*Ut))-(Ot=Wt-(kt=(Et=k-(G=(ut=B*k)-(ut-k)))*(Ut=mn-(bt=(ut=B*mn)-(ut-mn)))-((jt=k*mn)-G*bt-Et*bt-G*Ut))),dt[0]=Wt-(Ot+ot)+(ot-kt),ot=(pe=oe-((ie=oe+Ot)-(ot=ie-oe))+(Ot-ot))-(Ot=pe-jt),dt[1]=pe-(Ot+ot)+(ot-jt),ot=(In=ie+Ot)-ie,dt[2]=ie-(In-ot)+(Ot-ot),dt[3]=In;const L=Q(4,gt,4,dt,Lt);ot=(Wt=(Et=fn-(G=(ut=B*fn)-(ut-fn)))*(Ut=U-(bt=(ut=B*U)-(ut-U)))-((oe=fn*U)-G*bt-Et*bt-G*Ut))-(Ot=Wt-(kt=(Et=ln-(G=(ut=B*ln)-(ut-ln)))*(Ut=ft-(bt=(ut=B*ft)-(ut-ft)))-((jt=ln*ft)-G*bt-Et*bt-G*Ut))),dt[0]=Wt-(Ot+ot)+(ot-kt),ot=(pe=oe-((ie=oe+Ot)-(ot=ie-oe))+(Ot-ot))-(Ot=pe-jt),dt[1]=pe-(Ot+ot)+(ot-jt),ot=(In=ie+Ot)-ie,dt[2]=ie-(In-ot)+(Ot-ot),dt[3]=In;const C=Q(L,Lt,4,dt,Nt);ot=(Wt=(Et=Ct-(G=(ut=B*Ct)-(ut-Ct)))*(Ut=U-(bt=(ut=B*U)-(ut-U)))-((oe=Ct*U)-G*bt-Et*bt-G*Ut))-(Ot=Wt-(kt=(Et=k-(G=(ut=B*k)-(ut-k)))*(Ut=ft-(bt=(ut=B*ft)-(ut-ft)))-((jt=k*ft)-G*bt-Et*bt-G*Ut))),dt[0]=Wt-(Ot+ot)+(ot-kt),ot=(pe=oe-((ie=oe+Ot)-(ot=ie-oe))+(Ot-ot))-(Ot=pe-jt),dt[1]=pe-(Ot+ot)+(ot-jt),ot=(In=ie+Ot)-ie,dt[2]=ie-(In-ot)+(Ot-ot),dt[3]=In;const H=Q(C,Nt,4,dt,xt);return xt[H-1]}(St,Ft,tt,lt,E,S,b)},Z.orient2dfast=function(St,Ft,tt,lt,E,S){return(Ft-S)*(tt-E)-(St-E)*(lt-S)},Object.defineProperty(Z,"__esModule",{value:!0})}(yt)},6257:Tt=>{"use strict";Tt.exports={eudist:function(Z,B,j){for(var Q=Z.length,$=0,nt=0;nt<Q;nt++){var V=(Z[nt]||0)-(B[nt]||0);$+=V*V}return j?Math.sqrt($):$},mandist:function(Z,B,j){for(var Q=Z.length,$=0,nt=0;nt<Q;nt++)$+=Math.abs((Z[nt]||0)-(B[nt]||0));return j?Math.sqrt($):$},dist:function(Z,B,j){var Q=Math.abs(Z-B);return j?Q:Q*Q}}},6019:(Tt,yt,Z)=>{"use strict";var B=Z(6257),j=B.eudist,Q=B.dist;Tt.exports={kmrand:function(nt,V){for(var it={},gt=[],Lt=V<<2,Nt=nt.length,xt=nt[0].length>0;gt.length<V&&Lt-- >0;){var dt=nt[Math.floor(Math.random()*Nt)],St=xt?dt.join("_"):""+dt;it[St]||(it[St]=!0,gt.push(dt))}if(gt.length<V)throw new Error("Error initializating clusters");return gt},kmpp:function(nt,V){var it=nt[0].length?j:Q,gt=[],Lt=nt.length,Nt=nt[0].length>0,dt=nt[Math.floor(Math.random()*Lt)];for(Nt&&dt.join("_"),gt.push(dt);gt.length<V;){for(var Ft=[],tt=gt.length,lt=0,E=[],S=0;S<Lt;S++){for(var P=1/0,q=0;q<tt;q++){var N=it(nt[S],gt[q]);N<=P&&(P=N)}Ft[S]=P}for(var b=0;b<Lt;b++)lt+=Ft[b];for(var O=0;O<Lt;O++)E[O]={i:O,v:nt[O],pr:Ft[O]/lt,cs:0};E.sort(function(J,R){return J.pr-R.pr}),E[0].cs=E[0].pr;for(var I=1;I<Lt;I++)E[I].cs=E[I-1].cs+E[I].pr;for(var at=Math.random(),Y=0;Y<Lt-1&&E[Y++].cs<at;);gt.push(E[Y-1].v)}return gt}}},3212:(Tt,yt,Z)=>{"use strict";var B=Z(6257),j=Z(6019),Q=B.eudist,V=j.kmrand,it=j.kmpp;function Lt(xt,dt,St){St=St||[];for(var Ft=0;Ft<xt;Ft++)St[Ft]=dt;return St}Tt.exports=function(xt,dt,St,Ft){var tt=[],lt=[],E=[],S=[],P=!1,q=Ft||1e4,N=xt.length,b=xt[0].length,O=b>0,I=[];if(St)tt="kmrand"==St?V(xt,dt):"kmpp"==St?it(xt,dt):St;else for(var at={};tt.length<dt;){var Y=Math.floor(Math.random()*N);at[Y]||(at[Y]=!0,tt.push(xt[Y]))}do{Lt(dt,0,I);for(var J=0;J<N;J++){for(var R=1/0,Rt=0,Ct=0;Ct<dt;Ct++)(S=O?Q(xt[J],tt[Ct]):Math.abs(xt[J]-tt[Ct]))<=R&&(R=S,Rt=Ct);E[J]=Rt,I[Rt]++}for(var k=[],U=(lt=[],0);U<dt;U++)k[U]=O?Lt(b,0,k[U]):0,lt[U]=tt[U];if(O){for(var ot=0;ot<dt;ot++)tt[ot]=[];for(var ut=0;ut<N;ut++)for(var Et=k[E[ut]],bt=xt[ut],Ut=0;Ut<b;Ut++)Et[Ut]+=bt[Ut];P=!0;for(var Ot=0;Ot<dt;Ot++){for(var ie=tt[Ot],pe=k[Ot],oe=lt[Ot],Wt=I[Ot],jt=0;jt<b;jt++)ie[jt]=pe[jt]/Wt||0;if(P)for(var kt=0;kt<b;kt++)if(oe[kt]!=ie[kt]){P=!1;break}}}else{for(var In=0;In<N;In++)k[E[In]]+=xt[In];for(var mn=0;mn<dt;mn++)tt[mn]=k[mn]/I[mn]||0;P=!0;for(var ln=0;ln<dt;ln++)if(lt[ln]!=tt[ln]){P=!1;break}}P=P||--q<=0}while(!P);return{it:1e4-q,k:dt,idxs:E,centroids:tt}}},54:(Tt,yt,Z)=>{"use strict";Z.r(yt),Z.d(yt,{default:()=>B});class B{constructor($=[],nt=j){if(this.data=$,this.length=this.data.length,this.compare=nt,this.length>0)for(let V=(this.length>>1)-1;V>=0;V--)this._down(V)}push($){this.data.push($),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const $=this.data[0],nt=this.data.pop();return this.length--,this.length>0&&(this.data[0]=nt,this._down(0)),$}peek(){return this.data[0]}_up($){const{data:nt,compare:V}=this,it=nt[$];for(;$>0;){const gt=$-1>>1,Lt=nt[gt];if(V(it,Lt)>=0)break;nt[$]=Lt,$=gt}nt[$]=it}_down($){const{data:nt,compare:V}=this,it=this.length>>1,gt=nt[$];for(;$<it;){let Lt=1+($<<1),Nt=nt[Lt];const xt=Lt+1;if(xt<this.length&&V(nt[xt],Nt)<0&&(Lt=xt,Nt=nt[xt]),V(Nt,gt)>=0)break;nt[$]=Nt,$=Lt}nt[$]=gt}}function j(Q,$){return Q<$?-1:Q>$?1:0}},7299:function(Tt,yt){!function(Z){"use strict";function B(){}function j(t){this.message=t||""}function Q(t){this.message=t||""}function $(t){this.message=t||""}function nt(){}function V(t){return null===t?Oi:t.color}function it(t){return null===t?null:t.parent}function gt(t,e){null!==t&&(t.color=e)}function Lt(t){return null===t?null:t.left}function Nt(t){return null===t?null:t.right}function xt(){this.root_=null,this.size_=0}function dt(){}function St(){this.array_=[],arguments[0]instanceof cn&&this.addAll(arguments[0])}function Ft(){}function tt(t){this.message=t||""}function lt(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),i=Math.max(Math.min(e.length,9007199254740991),0)||0,s=1 in arguments&&parseInt(Number(arguments[1]),10)||0;s=s<0?Math.max(i+s,0):Math.min(s,i);var l=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:i;for(l=l<0?Math.max(i+arguments[2],0):Math.min(l,i);s<l;)e[s]=t,++s;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var E=function(){};E.prototype.interfaces_=function(){return[]},E.prototype.getClass=function(){return E},E.prototype.equalsWithTolerance=function(t,e,i){return Math.abs(t-e)<=i};var S=function(t){function e(i){t.call(this,i),this.name="IllegalArgumentException",this.message=i,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),P=function(){},q={MAX_VALUE:{configurable:!0}};P.isNaN=function(t){return Number.isNaN(t)},P.doubleToLongBits=function(t){return t},P.longBitsToDouble=function(t){return t},P.isInfinite=function(t){return!Number.isFinite(t)},q.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(P,q);var N=function(){},b=function(){},O=function(){},I=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},at={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};I.prototype.setOrdinate=function(t,e){switch(t){case I.X:this.x=e;break;case I.Y:this.y=e;break;case I.Z:this.z=e;break;default:throw new S("Invalid ordinate index: "+t)}},I.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!E.equalsWithTolerance(this.x,e.x,i)&&!!E.equalsWithTolerance(this.y,e.y,i)}},I.prototype.getOrdinate=function(t){switch(t){case I.X:return this.x;case I.Y:return this.y;case I.Z:return this.z}throw new S("Invalid ordinate index: "+t)},I.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||P.isNaN(this.z))&&P.isNaN(t.z)},I.prototype.equals=function(t){return t instanceof I&&this.equals2D(t)},I.prototype.equalInZ=function(t,e){return E.equalsWithTolerance(this.z,t.z,e)},I.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},I.prototype.clone=function(){},I.prototype.copy=function(){return new I(this)},I.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},I.prototype.distance3D=function(t){var e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return Math.sqrt(e*e+i*i+s*s)},I.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},I.prototype.hashCode=function(){var t=17;return 37*(t=37*t+I.hashCode(this.x))+I.hashCode(this.y)},I.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},I.prototype.interfaces_=function(){return[N,b,B]},I.prototype.getClass=function(){return I},I.hashCode=function(){if(1===arguments.length){var e=P.doubleToLongBits(arguments[0]);return Math.trunc((e^e)>>>32)}},at.DimensionalComparator.get=function(){return Y},at.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},at.NULL_ORDINATE.get=function(){return P.NaN},at.X.get=function(){return 0},at.Y.get=function(){return 1},at.Z.get=function(){return 2},Object.defineProperties(I,at);var Y=function(t){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new S("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Y.prototype.compare=function(t,e){var i=t,s=e,l=Y.compare(i.x,s.x);if(0!==l)return l;var d=Y.compare(i.y,s.y);return 0!==d?d:this._dimensionsToTest<=2?0:Y.compare(i.z,s.z)},Y.prototype.interfaces_=function(){return[O]},Y.prototype.getClass=function(){return Y},Y.compare=function(t,e){return t<e?-1:t>e?1:P.isNaN(t)?P.isNaN(e)?0:-1:P.isNaN(e)?1:0};var J=function(){};J.prototype.create=function(){},J.prototype.interfaces_=function(){return[]},J.prototype.getClass=function(){return J};var R=function(){},Rt={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.toLocationSymbol=function(t){switch(t){case R.EXTERIOR:return"e";case R.BOUNDARY:return"b";case R.INTERIOR:return"i";case R.NONE:return"-"}throw new S("Unknown location value: "+t)},Rt.INTERIOR.get=function(){return 0},Rt.BOUNDARY.get=function(){return 1},Rt.EXTERIOR.get=function(){return 2},Rt.NONE.get=function(){return-1},Object.defineProperties(R,Rt);var Ct=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},k=function(){},ft={LOG_10:{configurable:!0}};k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},k.log10=function(t){var e=Math.log(t);return P.isInfinite(e)||P.isNaN(e)?e:e/k.LOG_10},k.min=function(t,e,i,s){var l=t;return e<l&&(l=e),i<l&&(l=i),s<l&&(l=s),l},k.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],i=arguments[2];return t<e?e:t>i?i:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],l=arguments[1],d=arguments[2];return s<l?l:s>d?d:s}},k.wrap=function(t,e){return t<0?e- -t%e:t%e},k.max=function(){if(3===arguments.length){var e=arguments[1],i=arguments[2],s=arguments[0];return e>s&&(s=e),i>s&&(s=i),s}if(4===arguments.length){var d=arguments[1],_=arguments[2],w=arguments[3],F=arguments[0];return d>F&&(F=d),_>F&&(F=_),w>F&&(F=w),F}},k.average=function(t,e){return(t+e)/2},ft.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(k,ft);var U=function(t){this.str=t};U.prototype.append=function(t){this.str+=t},U.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},U.prototype.toString=function(t){return this.str};var ot=function(t){this.value=t};ot.prototype.intValue=function(){return this.value},ot.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},ot.isNaN=function(t){return Number.isNaN(t)};var ut=function(){};ut.isWhitespace=function(t){return t<=32&&t>=0||127===t},ut.toUpperCase=function(t){return t.toUpperCase()};var G=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Et={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};G.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},G.prototype.extractSignificantDigits=function(t,e){var i=this.abs(),s=G.magnitude(i._hi),l=G.TEN.pow(s);(i=i.divide(l)).gt(G.TEN)?(i=i.divide(G.TEN),s+=1):i.lt(G.ONE)&&(i=i.multiply(G.TEN),s-=1);for(var d=s+1,_=new U,w=G.MAX_PRINT_DIGITS-1,F=0;F<=w;F++){t&&F===d&&_.append(".");var et=Math.trunc(i._hi);if(et<0)break;var _t=!1,Pt=0;et>9?(_t=!0,Pt="9"):Pt="0"+et,_.append(Pt),i=i.subtract(G.valueOf(et)).multiply(G.TEN),_t&&i.selfAdd(G.TEN);var zt=!0,qt=G.magnitude(i._hi);if(qt<0&&Math.abs(qt)>=w-F&&(zt=!1),!zt)break}return e[0]=s,_.toString()},G.prototype.sqr=function(){return this.multiply(this)},G.prototype.doubleValue=function(){return this._hi+this._lo},G.prototype.subtract=function(){return arguments[0]instanceof G?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},G.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},G.prototype.isZero=function(){return 0===this._hi&&0===this._lo},G.prototype.selfSubtract=function(){if(arguments[0]instanceof G){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},G.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},G.prototype.min=function(t){return this.le(t)?this:t},G.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var i=arguments[0],l=null,d=null,_=null,w=null,F=null,et=null,_t=null,Pt=null;return this._hi=Pt=(F=this._hi/i)+(et=(this._hi-(_t=F*i)-(Pt=(l=(et=G.SPLIT*F)-(l=et-F))*(_=(Pt=G.SPLIT*i)-(_=Pt-i))-_t+l*(w=i-_)+(d=F-l)*_+d*w)+this._lo-F*arguments[1])/i),this._lo=F-Pt+et,this}},G.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},G.prototype.divide=function(){if(arguments[0]instanceof G){var t=arguments[0],e=null,i=null,s=null,l=null,d=null,_=null,w=null,F=null;return i=(d=this._hi/t._hi)-(e=(_=G.SPLIT*d)-(e=_-d)),F=e*(s=(F=G.SPLIT*t._hi)-(s=F-t._hi))-(w=d*t._hi)+e*(l=t._hi-s)+i*s+i*l,new G(F=d+(_=(this._hi-w-F+this._lo-d*t._lo)/t._hi),d-F+_)}if("number"==typeof arguments[0]){var et=arguments[0];return P.isNaN(et)?G.createNaN():G.copy(this).selfDivide(et,0)}},G.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},G.prototype.pow=function(t){if(0===t)return G.valueOf(1);var e=new G(this),i=G.valueOf(1),s=Math.abs(t);if(s>1)for(;s>0;)s%2==1&&i.selfMultiply(e),(s/=2)>0&&(e=e.sqr());else i=e;return t<0?i.reciprocal():i},G.prototype.ceil=function(){if(this.isNaN())return G.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new G(t,e)},G.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},G.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},G.prototype.setValue=function(){return arguments[0]instanceof G||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},G.prototype.max=function(t){return this.ge(t)?this:t},G.prototype.sqrt=function(){if(this.isZero())return G.valueOf(0);if(this.isNegative())return G.NaN;var t=1/Math.sqrt(this._hi),i=G.valueOf(this._hi*t),s=this.subtract(i.sqr())._hi*(.5*t);return i.add(s)},G.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],i=null,s=null,l=null,_=null,w=null;return this._hi=(i=(l=this._hi+e)+(w=e-(_=l-this._hi)+(this._hi-(l-_))+this._lo))+(s=w+(l-i)),this._lo=s+(i-this._hi),this}}else if(2===arguments.length){var F=arguments[0],et=arguments[1],_t=null,Pt=null,zt=null,qt=null,Zt=null,Jt=null,me=null;Zt=(qt=this._hi+F)-(Jt=qt-this._hi),zt=(Pt=this._lo+et)-(me=Pt-this._lo);var Ee=(_t=qt+(Jt=(Zt=F-Jt+(this._hi-Zt))+Pt))+(Jt=(zt=et-me+(this._lo-zt))+(Jt+(qt-_t))),nn=Jt+(_t-Ee);return this._hi=Ee,this._lo=nn,this}},G.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof G){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var i=arguments[0],l=null,d=null,_=null,w=null,F=null,et=null;l=(F=G.SPLIT*this._hi)-this._hi,l=F-l;var _t=(F=this._hi*i)+(et=l*(_=(et=G.SPLIT*i)-(_=et-i))-F+l*(w=i-_)+(d=this._hi-l)*_+d*w+(this._hi*arguments[1]+this._lo*i)),Pt=et+(l=F-_t);return this._hi=_t,this._lo=Pt,this}},G.prototype.selfSqr=function(){return this.selfMultiply(this)},G.prototype.floor=function(){if(this.isNaN())return G.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new G(t,e)},G.prototype.negate=function(){return this.isNaN()?this:new G(-this._hi,-this._lo)},G.prototype.clone=function(){},G.prototype.multiply=function(){if(arguments[0]instanceof G){var t=arguments[0];return t.isNaN()?G.createNaN():G.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return P.isNaN(e)?G.createNaN():G.copy(this).selfMultiply(e,0)}},G.prototype.isNaN=function(){return P.isNaN(this._hi)},G.prototype.intValue=function(){return Math.trunc(this._hi)},G.prototype.toString=function(){var t=G.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},G.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!0,e),s=e[0]+1,l=i;return"."===i.charAt(0)?l="0"+i:s<0?l="0."+G.stringOfChar("0",-s)+i:-1===i.indexOf(".")&&(l=i+G.stringOfChar("0",s-i.length)+".0"),this.isNegative()?"-"+l:l},G.prototype.reciprocal=function(){var e,s,l,_,t=null,i=null,d=null,w=null;e=(l=1/this._hi)-(t=(d=G.SPLIT*l)-(t=d-l)),i=(w=G.SPLIT*this._hi)-this._hi;var F=l+(d=(1-(_=l*this._hi)-(w=t*(i=w-i)-_+t*(s=this._hi-i)+e*i+e*s)-l*this._lo)/this._hi);return new G(F,l-F+d)},G.prototype.toSciNotation=function(){if(this.isZero())return G.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!1,e),s=G.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===i.charAt(0))throw new Error("Found leading zero: "+i);var l="";i.length>1&&(l=i.substring(1));var d=i.charAt(0)+"."+l;return this.isNegative()?"-"+d+s:d+s},G.prototype.abs=function(){return this.isNaN()?G.NaN:this.isNegative()?this.negate():new G(this)},G.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},G.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},G.prototype.add=function(){if(arguments[0]instanceof G){var t=arguments[0];return G.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return G.copy(this).selfAdd(e)}},G.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof G){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var s=arguments[1];this._hi=arguments[0],this._lo=s}},G.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},G.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},G.prototype.trunc=function(){return this.isNaN()?G.NaN:this.isPositive()?this.floor():this.ceil()},G.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},G.prototype.interfaces_=function(){return[B,N,b]},G.prototype.getClass=function(){return G},G.sqr=function(t){return G.valueOf(t).selfMultiply(t)},G.valueOf=function(){return"string"==typeof arguments[0]?G.parse(arguments[0]):"number"==typeof arguments[0]?new G(arguments[0]):void 0},G.sqrt=function(t){return G.valueOf(t).sqrt()},G.parse=function(t){for(var e=0,i=t.length;ut.isWhitespace(t.charAt(e));)e++;var s=!1;if(e<i){var l=t.charAt(e);"-"!==l&&"+"!==l||(e++,"-"===l&&(s=!0))}for(var d=new G,_=0,w=0,F=0;!(e>=i);){var et=t.charAt(e);if(e++,ut.isDigit(et)){var _t=et-"0";d.selfMultiply(G.TEN),d.selfAdd(_t),_++}else{if("."!==et){if("e"===et||"E"===et){var Pt=t.substring(e);try{F=ot.parseInt(Pt)}catch(me){throw me instanceof Error?new Error("Invalid exponent "+Pt+" in string "+t):me}break}throw new Error("Unexpected character '"+et+"' at position "+e+" in string "+t)}w=_}}var zt=d,qt=_-w-F;if(0===qt)zt=d;else if(qt>0){var Zt=G.TEN.pow(qt);zt=d.divide(Zt)}else if(qt<0){var Jt=G.TEN.pow(-qt);zt=d.multiply(Jt)}return s?zt.negate():zt},G.createNaN=function(){return new G(P.NaN,P.NaN)},G.copy=function(t){return new G(t)},G.magnitude=function(t){var e=Math.abs(t),i=Math.log(e)/Math.log(10),s=Math.trunc(Math.floor(i));return 10*Math.pow(10,s)<=e&&(s+=1),s},G.stringOfChar=function(t,e){for(var i=new U,s=0;s<e;s++)i.append(t);return i.toString()},Et.PI.get=function(){return new G(3.141592653589793,12246467991473532e-32)},Et.TWO_PI.get=function(){return new G(6.283185307179586,24492935982947064e-32)},Et.PI_2.get=function(){return new G(1.5707963267948966,6123233995736766e-32)},Et.E.get=function(){return new G(2.718281828459045,14456468917292502e-32)},Et.NaN.get=function(){return new G(P.NaN,P.NaN)},Et.EPS.get=function(){return 123259516440783e-46},Et.SPLIT.get=function(){return 134217729},Et.MAX_PRINT_DIGITS.get=function(){return 32},Et.TEN.get=function(){return G.valueOf(10)},Et.ONE.get=function(){return G.valueOf(1)},Et.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Et.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(G,Et);var bt=function(){},Ut={DP_SAFE_EPSILON:{configurable:!0}};bt.prototype.interfaces_=function(){return[]},bt.prototype.getClass=function(){return bt},bt.orientationIndex=function(t,e,i){var s=bt.orientationIndexFilter(t,e,i);if(s<=1)return s;var l=G.valueOf(e.x).selfAdd(-t.x),d=G.valueOf(e.y).selfAdd(-t.y),_=G.valueOf(i.x).selfAdd(-e.x),w=G.valueOf(i.y).selfAdd(-e.y);return l.selfMultiply(w).selfSubtract(d.selfMultiply(_)).signum()},bt.signOfDet2x2=function(t,e,i,s){return t.multiply(s).selfSubtract(e.multiply(i)).signum()},bt.intersection=function(t,e,i,s){var l=G.valueOf(s.y).selfSubtract(i.y).selfMultiply(G.valueOf(e.x).selfSubtract(t.x)),d=G.valueOf(s.x).selfSubtract(i.x).selfMultiply(G.valueOf(e.y).selfSubtract(t.y)),_=l.subtract(d),w=G.valueOf(s.x).selfSubtract(i.x).selfMultiply(G.valueOf(t.y).selfSubtract(i.y)),F=G.valueOf(s.y).selfSubtract(i.y).selfMultiply(G.valueOf(t.x).selfSubtract(i.x)),et=w.subtract(F).selfDivide(_).doubleValue(),_t=G.valueOf(t.x).selfAdd(G.valueOf(e.x).selfSubtract(t.x).selfMultiply(et)).doubleValue(),Pt=G.valueOf(e.x).selfSubtract(t.x).selfMultiply(G.valueOf(t.y).selfSubtract(i.y)),zt=G.valueOf(e.y).selfSubtract(t.y).selfMultiply(G.valueOf(t.x).selfSubtract(i.x)),qt=Pt.subtract(zt).selfDivide(_).doubleValue(),Zt=G.valueOf(i.y).selfAdd(G.valueOf(s.y).selfSubtract(i.y).selfMultiply(qt)).doubleValue();return new I(_t,Zt)},bt.orientationIndexFilter=function(t,e,i){var s=null,l=(t.x-i.x)*(e.y-i.y),d=(t.y-i.y)*(e.x-i.x),_=l-d;if(l>0){if(d<=0)return bt.signum(_);s=l+d}else{if(!(l<0)||d>=0)return bt.signum(_);s=-l-d}var w=bt.DP_SAFE_EPSILON*s;return _>=w||-_>=w?bt.signum(_):2},bt.signum=function(t){return t>0?1:t<0?-1:0},Ut.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(bt,Ut);var Ot=function(){},ie={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};ie.X.get=function(){return 0},ie.Y.get=function(){return 1},ie.Z.get=function(){return 2},ie.M.get=function(){return 3},Ot.prototype.setOrdinate=function(t,e,i){},Ot.prototype.size=function(){},Ot.prototype.getOrdinate=function(t,e){},Ot.prototype.getCoordinate=function(){},Ot.prototype.getCoordinateCopy=function(t){},Ot.prototype.getDimension=function(){},Ot.prototype.getX=function(t){},Ot.prototype.clone=function(){},Ot.prototype.expandEnvelope=function(t){},Ot.prototype.copy=function(){},Ot.prototype.getY=function(t){},Ot.prototype.toCoordinateArray=function(){},Ot.prototype.interfaces_=function(){return[b]},Ot.prototype.getClass=function(){return Ot},Object.defineProperties(Ot,ie);var pe=function(){},oe=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(pe),Wt=function(){};Wt.arraycopy=function(t,e,i,s,l){for(var d=0,_=e;_<e+l;_++)i[s+d]=t[_],d++},Wt.getProperty=function(t){return{"line.separator":"\n"}[t]};var jt=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[1];this.x=arguments[0],this.y=s,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var l=arguments[0],d=arguments[1];this.x=l.y*d.w-d.y*l.w,this.y=d.x*l.w-l.x*d.w,this.w=l.x*d.y-d.x*l.y}else if(arguments[0]instanceof I&&arguments[1]instanceof I){var _=arguments[0],w=arguments[1];this.x=_.y-w.y,this.y=w.x-_.x,this.w=_.x*w.y-w.x*_.y}}else if(3===arguments.length){var et=arguments[1],_t=arguments[2];this.x=arguments[0],this.y=et,this.w=_t}else if(4===arguments.length){var Pt=arguments[0],zt=arguments[1],qt=arguments[2],Zt=arguments[3],Jt=Pt.y-zt.y,me=zt.x-Pt.x,Ee=Pt.x*zt.y-zt.x*Pt.y,nn=qt.y-Zt.y,ge=Zt.x-qt.x,ve=qt.x*Zt.y-Zt.x*qt.y;this.x=me*ve-ge*Ee,this.y=nn*Ee-Jt*ve,this.w=Jt*ge-nn*me}};jt.prototype.getY=function(){var t=this.y/this.w;if(P.isNaN(t)||P.isInfinite(t))throw new oe;return t},jt.prototype.getX=function(){var t=this.x/this.w;if(P.isNaN(t)||P.isInfinite(t))throw new oe;return t},jt.prototype.getCoordinate=function(){var t=new I;return t.x=this.getX(),t.y=this.getY(),t},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.intersection=function(t,e,i,s){var l=t.y-e.y,d=e.x-t.x,_=t.x*e.y-e.x*t.y,w=i.y-s.y,F=s.x-i.x,et=i.x*s.y-s.x*i.y,_t=l*F-w*d,Pt=(d*et-F*_)/_t,zt=(w*_-l*et)/_t;if(P.isNaN(Pt)||P.isInfinite(Pt)||P.isNaN(zt)||P.isInfinite(zt))throw new oe;return new I(Pt,zt)};var kt=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof I){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var s=arguments[0],l=arguments[1];this.init(s.x,l.x,s.y,l.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},In={serialVersionUID:{configurable:!0}};kt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},kt.prototype.equals=function(t){if(!(t instanceof kt))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},kt.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new kt:new kt(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},kt.prototype.isNull=function(){return this._maxx<this._minx},kt.prototype.getMaxX=function(){return this._maxx},kt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof kt){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var i=arguments[0],s=arguments[1];return!this.isNull()&&i>=this._minx&&i<=this._maxx&&s>=this._miny&&s<=this._maxy}},kt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof kt){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof I){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var i=arguments[0],s=arguments[1];return!this.isNull()&&!(i>this._maxx||i<this._minx||s>this._maxy||s<this._miny)}},kt.prototype.getMinY=function(){return this._miny},kt.prototype.getMinX=function(){return this._minx},kt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof kt){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var i=arguments[0],s=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=s,this._maxy=s):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),s<this._miny&&(this._miny=s),s>this._maxy&&(this._maxy=s))}},kt.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},kt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},kt.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},kt.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},kt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},kt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},kt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},kt.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},kt.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=i,this._maxy+=i,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},kt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof kt)return this.covers(arguments[0]);if(arguments[0]instanceof I)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},kt.prototype.centre=function(){return this.isNull()?null:new I((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},kt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof kt){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var i=arguments[0],s=arguments[1];this.init(i.x,s.x,i.y,s.y)}else if(4===arguments.length){var l=arguments[0],d=arguments[1],_=arguments[2],w=arguments[3];l<d?(this._minx=l,this._maxx=d):(this._minx=d,this._maxx=l),_<w?(this._miny=_,this._maxy=w):(this._miny=w,this._maxy=_)}},kt.prototype.getMaxY=function(){return this._maxy},kt.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var i=0;return this._maxy<t._miny?i=t._miny-this._maxy:this._miny>t._maxy&&(i=this._miny-t._maxy),0===e?i:0===i?e:Math.sqrt(e*e+i*i)},kt.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+I.hashCode(this._minx))+I.hashCode(this._maxx))+I.hashCode(this._miny))+I.hashCode(this._maxy)},kt.prototype.interfaces_=function(){return[N,B]},kt.prototype.getClass=function(){return kt},kt.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2];return i.x>=(t.x<e.x?t.x:e.x)&&i.x<=(t.x>e.x?t.x:e.x)&&i.y>=(t.y<e.y?t.y:e.y)&&i.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var s=arguments[0],l=arguments[1],d=arguments[2],_=arguments[3],w=Math.min(d.x,_.x),F=Math.max(d.x,_.x),et=Math.min(s.x,l.x),_t=Math.max(s.x,l.x);return!(et>F||_t<w||(w=Math.min(d.y,_.y),F=Math.max(d.y,_.y),et=Math.min(s.y,l.y),_t=Math.max(s.y,l.y),et>F||_t<w))}},In.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(kt,In);var fn={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},mn=function(t){this.geometryFactory=t||new xe};mn.prototype.read=function(t){var e,i;t=t.replace(/[\n\r]/g," ");var l=fn.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((l=fn.emptyTypeStr.exec(t))[2]=void 0),l&&(i=l[1].toLowerCase(),_n[i]&&(e=_n[i].apply(this,[l[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},mn.prototype.write=function(t){return this.extractGeometry(t)},mn.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!ln[e])return null;var i=e.toUpperCase();return t.isEmpty()?i+" EMPTY":i+"("+ln[e].apply(this,[t])+")"};var ln={coordinate:function(t){return t.x+" "+t.y},point:function(t){return ln.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],i=0,s=t._geometries.length;i<s;++i)e.push("("+ln.point.apply(this,[t._geometries[i]])+")");return e.join(",")},linestring:function(t){for(var e=[],i=0,s=t._points._coordinates.length;i<s;++i)e.push(ln.coordinate.apply(this,[t._points._coordinates[i]]));return e.join(",")},linearring:function(t){for(var e=[],i=0,s=t._points._coordinates.length;i<s;++i)e.push(ln.coordinate.apply(this,[t._points._coordinates[i]]));return e.join(",")},multilinestring:function(t){for(var e=[],i=0,s=t._geometries.length;i<s;++i)e.push("("+ln.linestring.apply(this,[t._geometries[i]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+ln.linestring.apply(this,[t._shell])+")");for(var i=0,s=t._holes.length;i<s;++i)e.push("("+ln.linestring.apply(this,[t._holes[i]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],i=0,s=t._geometries.length;i<s;++i)e.push("("+ln.polygon.apply(this,[t._geometries[i]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],i=0,s=t._geometries.length;i<s;++i)e.push(this.extractGeometry(t._geometries[i]));return e.join(",")}},_n={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(fn.spaces);return this.geometryFactory.createPoint(new I(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,i=t.trim().split(","),s=[],l=0,d=i.length;l<d;++l)e=i[l].replace(fn.trimParens,"$1"),s.push(_n.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(s)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,i=t.trim().split(","),s=[],l=0,d=i.length;l<d;++l)e=i[l].trim().split(fn.spaces),s.push(new I(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(s)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,i=t.trim().split(","),s=[],l=0,d=i.length;l<d;++l)e=i[l].trim().split(fn.spaces),s.push(new I(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(s)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,i=t.trim().split(fn.parenComma),s=[],l=0,d=i.length;l<d;++l)e=i[l].replace(fn.trimParens,"$1"),s.push(_n.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(s)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,i,s,l,d=t.trim().split(fn.parenComma),_=[],w=0,F=d.length;w<F;++w)e=d[w].replace(fn.trimParens,"$1"),i=_n.linestring.apply(this,[e]),s=this.geometryFactory.createLinearRing(i._points),0===w?l=s:_.push(s);return this.geometryFactory.createPolygon(l,_)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,i=t.trim().split(fn.doubleParenComma),s=[],l=0,d=i.length;l<d;++l)e=i[l].replace(fn.trimParens,"$1"),s.push(_n.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(s)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),i=[],s=0,l=e.length;s<l;++s)i.push(this.read(e[s]));return this.geometryFactory.createGeometryCollection(i)}},pt=function(t){this.parser=new mn(t)};pt.prototype.write=function(t){return this.parser.write(t)},pt.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var A=function(t){function e(i){t.call(this,i),this.name="RuntimeException",this.message=i,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),L=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(A),C=function(){};C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C},C.shouldNeverReachHere=function(){if(0===arguments.length)C.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new L("Should never reach here"+(null!==t?": "+t:""))}},C.isTrue=function(){var e;if(1===arguments.length)C.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new L:new L(e)},C.equals=function(){var t,e,i;if(2===arguments.length)C.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(i=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new L("Expected "+t+" but encountered "+e+(null!==i?": "+i:""))};var H=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new I,this._intPt[1]=new I,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},st={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};H.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},H.prototype.getTopologySummary=function(){var t=new U;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},H.prototype.computeIntersection=function(t,e,i,s){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=i,this._inputLines[1][1]=s,this._result=this.computeIntersect(t,e,i,s)},H.prototype.getIntersectionNum=function(){return this._result},H.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},H.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},H.prototype.setPrecisionModel=function(t){this._precisionModel=t},H.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},H.prototype.getIntersection=function(t){return this._intPt[t]},H.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},H.prototype.hasIntersection=function(){return this._result!==H.NO_INTERSECTION},H.prototype.getEdgeDistance=function(t,e){return H.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},H.prototype.isCollinear=function(){return this._result===H.COLLINEAR_INTERSECTION},H.prototype.toString=function(){return pt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+pt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},H.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},H.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},H.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},H.prototype.interfaces_=function(){return[]},H.prototype.getClass=function(){return H},H.computeEdgeDistance=function(t,e,i){var s=Math.abs(i.x-e.x),l=Math.abs(i.y-e.y),d=-1;if(t.equals(e))d=0;else if(t.equals(i))d=s>l?s:l;else{var _=Math.abs(t.x-e.x),w=Math.abs(t.y-e.y);0!==(d=s>l?_:w)||t.equals(e)||(d=Math.max(_,w))}return C.isTrue(!(0===d&&!t.equals(e)),"Bad distance calculation"),d},H.nonRobustComputeEdgeDistance=function(t,e,i){var s=t.x-e.x,l=t.y-e.y,d=Math.sqrt(s*s+l*l);return C.isTrue(!(0===d&&!t.equals(e)),"Invalid distance calculation"),d},st.DONT_INTERSECT.get=function(){return 0},st.DO_INTERSECT.get=function(){return 1},st.COLLINEAR.get=function(){return 2},st.NO_INTERSECTION.get=function(){return 0},st.POINT_INTERSECTION.get=function(){return 1},st.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(H,st);var wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(i){var s=new kt(this._inputLines[0][0],this._inputLines[0][1]),l=new kt(this._inputLines[1][0],this._inputLines[1][1]);return s.contains(i)&&l.contains(i)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var i=arguments[0],s=arguments[1],l=arguments[2];if(this._isProper=!1,kt.intersects(s,l,i)&&0===Mt.orientationIndex(s,l,i)&&0===Mt.orientationIndex(l,s,i))return this._isProper=!0,(i.equals(s)||i.equals(l))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(i,s,l,d,_){_.x=this.smallestInAbsValue(i.x,s.x,l.x,d.x),_.y=this.smallestInAbsValue(i.y,s.y,l.y,d.y),i.x-=_.x,i.y-=_.y,s.x-=_.x,s.y-=_.y,l.x-=_.x,l.y-=_.y,d.x-=_.x,d.y-=_.y},e.prototype.safeHCoordinateIntersection=function(i,s,l,d){var _=null;try{_=jt.intersection(i,s,l,d)}catch(w){if(!(w instanceof oe))throw w;_=e.nearestEndpoint(i,s,l,d)}return _},e.prototype.intersection=function(i,s,l,d){var _=this.intersectionWithNormalization(i,s,l,d);return this.isInSegmentEnvelopes(_)||(_=new I(e.nearestEndpoint(i,s,l,d))),null!==this._precisionModel&&this._precisionModel.makePrecise(_),_},e.prototype.smallestInAbsValue=function(i,s,l,d){var _=i,w=Math.abs(_);return Math.abs(s)<w&&(_=s,w=Math.abs(s)),Math.abs(l)<w&&(_=l,w=Math.abs(l)),Math.abs(d)<w&&(_=d),_},e.prototype.checkDD=function(i,s,l,d,_){var w=bt.intersection(i,s,l,d),F=this.isInSegmentEnvelopes(w);Wt.out.println("DD in env = "+F+"  --------------------- "+w),_.distance(w)>1e-4&&Wt.out.println("Distance = "+_.distance(w))},e.prototype.intersectionWithNormalization=function(i,s,l,d){var _=new I(i),w=new I(s),F=new I(l),et=new I(d),_t=new I;this.normalizeToEnvCentre(_,w,F,et,_t);var Pt=this.safeHCoordinateIntersection(_,w,F,et);return Pt.x+=_t.x,Pt.y+=_t.y,Pt},e.prototype.computeCollinearIntersection=function(i,s,l,d){var _=kt.intersects(i,s,l),w=kt.intersects(i,s,d),F=kt.intersects(l,d,i),et=kt.intersects(l,d,s);return _&&w?(this._intPt[0]=l,this._intPt[1]=d,t.COLLINEAR_INTERSECTION):F&&et?(this._intPt[0]=i,this._intPt[1]=s,t.COLLINEAR_INTERSECTION):_&&F?(this._intPt[0]=l,this._intPt[1]=i,!l.equals(i)||w||et?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):_&&et?(this._intPt[0]=l,this._intPt[1]=s,!l.equals(s)||w||F?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):w&&F?(this._intPt[0]=d,this._intPt[1]=i,!d.equals(i)||_||et?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):w&&et?(this._intPt[0]=d,this._intPt[1]=s,!d.equals(s)||_||F?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(i,s,l,d,_){var w=i.x<s.x?i.x:s.x,F=i.y<s.y?i.y:s.y,et=i.x>s.x?i.x:s.x,_t=i.y>s.y?i.y:s.y,Pt=l.x<d.x?l.x:d.x,zt=l.y<d.y?l.y:d.y,qt=l.x>d.x?l.x:d.x,Zt=l.y>d.y?l.y:d.y,me=((F>zt?F:zt)+(_t<Zt?_t:Zt))/2;_.x=((w>Pt?w:Pt)+(et<qt?et:qt))/2,_.y=me,i.x-=_.x,i.y-=_.y,s.x-=_.x,s.y-=_.y,l.x-=_.x,l.y-=_.y,d.x-=_.x,d.y-=_.y},e.prototype.computeIntersect=function(i,s,l,d){if(this._isProper=!1,!kt.intersects(i,s,l,d))return t.NO_INTERSECTION;var _=Mt.orientationIndex(i,s,l),w=Mt.orientationIndex(i,s,d);if(_>0&&w>0||_<0&&w<0)return t.NO_INTERSECTION;var F=Mt.orientationIndex(l,d,i),et=Mt.orientationIndex(l,d,s);return F>0&&et>0||F<0&&et<0?t.NO_INTERSECTION:0===_&&0===w&&0===F&&0===et?this.computeCollinearIntersection(i,s,l,d):(0===_||0===w||0===F||0===et?(this._isProper=!1,i.equals2D(l)||i.equals2D(d)?this._intPt[0]=i:s.equals2D(l)||s.equals2D(d)?this._intPt[0]=s:0===_?this._intPt[0]=new I(l):0===w?this._intPt[0]=new I(d):0===F?this._intPt[0]=new I(i):0===et&&(this._intPt[0]=new I(s))):(this._isProper=!0,this._intPt[0]=this.intersection(i,s,l,d)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(i,s,l,d){var _=i,w=Mt.distancePointLine(i,l,d),F=Mt.distancePointLine(s,l,d);return F<w&&(w=F,_=s),(F=Mt.distancePointLine(l,i,s))<w&&(w=F,_=l),(F=Mt.distancePointLine(d,i,s))<w&&(w=F,_=d),_},e}(H),At=function(){};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},At.orientationIndex=function(t,e,i){return At.signOfDet2x2(e.x-t.x,e.y-t.y,i.x-e.x,i.y-e.y)},At.signOfDet2x2=function(t,e,i,s){var l=null,d=null,_=null;if(l=1,0===t||0===s)return 0===e||0===i?0:e>0?i>0?-l:l:i>0?l:-l;if(0===e||0===i)return s>0?t>0?l:-l:t>0?-l:l;if(e>0?s>0?e<=s||(l=-l,d=t,t=i,i=d,d=e,e=s,s=d):e<=-s?(l=-l,i=-i,s=-s):(d=t,t=-i,i=d,d=e,e=-s,s=d):s>0?-e<=s?(l=-l,t=-t,e=-e):(d=-t,t=i,i=d,d=-e,e=s,s=d):e>=s?(t=-t,e=-e,i=-i,s=-s):(l=-l,d=-t,t=-i,i=d,d=-e,e=-s,s=d),t>0){if(!(i>0&&t<=i))return l}else{if(i>0||!(t>=i))return-l;l=-l,t=-t,i=-i}for(;;){if((s-=(_=Math.floor(i/t))*e)<0)return-l;if(s>e)return l;if(t>(i-=_*t)+i){if(e<s+s)return l}else{if(e>s+s)return-l;i=t-i,s=e-s,l=-l}if(0===s)return 0===i?0:-l;if(0===i||(t-=(_=Math.floor(t/i))*i,(e-=_*s)<0))return l;if(e>s)return-l;if(i>t+t){if(s<e+e)return-l}else{if(s>e+e)return l;t=i-t,e=s-e,l=-l}if(0===e)return 0===t?0:l;if(0===t)return-l}};var Dt=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Dt.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var i=t.x,s=e.x;return i>s&&(i=e.x,s=t.x),this._p.x>=i&&this._p.x<=s&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var d=t.y-this._p.y,w=e.y-this._p.y,F=At.signOfDet2x2(t.x-this._p.x,d,e.x-this._p.x,w);if(0===F)return this._isPointOnSegment=!0,null;w<d&&(F=-F),F>0&&this._crossingCount++}},Dt.prototype.isPointInPolygon=function(){return this.getLocation()!==R.EXTERIOR},Dt.prototype.getLocation=function(){return this._isPointOnSegment?R.BOUNDARY:this._crossingCount%2==1?R.INTERIOR:R.EXTERIOR},Dt.prototype.isOnSegment=function(){return this._isPointOnSegment},Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},Dt.locatePointInRing=function(){if(arguments[0]instanceof I&&Ct(arguments[1],Ot)){for(var e=arguments[1],i=new Dt(arguments[0]),s=new I,l=new I,d=1;d<e.size();d++)if(e.getCoordinate(d,s),e.getCoordinate(d-1,l),i.countSegment(s,l),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof I&&arguments[1]instanceof Array){for(var w=arguments[1],F=new Dt(arguments[0]),et=1;et<w.length;et++)if(F.countSegment(w[et],w[et-1]),F.isOnSegment())return F.getLocation();return F.getLocation()}};var Mt=function(){},ae={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt},Mt.orientationIndex=function(t,e,i){return bt.orientationIndex(t,e,i)},Mt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,i=t[0].x,s=1;s<t.length-1;s++)e+=(t[s].x-i)*(t[s-1].y-t[s+1].y);return e/2}if(Ct(arguments[0],Ot)){var _=arguments[0],w=_.size();if(w<3)return 0;var F=new I,et=new I,_t=new I;_.getCoordinate(0,et),_.getCoordinate(1,_t);var Pt=et.x;_t.x-=Pt;for(var zt=0,qt=1;qt<w-1;qt++)F.y=et.y,et.x=_t.x,et.y=_t.y,_.getCoordinate(qt+1,_t),_t.x-=Pt,zt+=et.x*(F.y-_t.y);return zt/2}},Mt.distanceLineLine=function(t,e,i,s){if(t.equals(e))return Mt.distancePointLine(t,i,s);if(i.equals(s))return Mt.distancePointLine(s,t,e);var l=!1;if(kt.intersects(t,e,i,s)){var d=(e.x-t.x)*(s.y-i.y)-(e.y-t.y)*(s.x-i.x);if(0===d)l=!0;else{var w=((t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y))/d,F=((t.y-i.y)*(s.x-i.x)-(t.x-i.x)*(s.y-i.y))/d;(F<0||F>1||w<0||w>1)&&(l=!0)}}else l=!0;return l?k.min(Mt.distancePointLine(t,i,s),Mt.distancePointLine(e,i,s),Mt.distancePointLine(i,t,e),Mt.distancePointLine(s,t,e)):0},Mt.isPointInRing=function(t,e){return Mt.locatePointInRing(t,e)!==R.EXTERIOR},Mt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var i=0,s=new I;t.getCoordinate(0,s);for(var l=s.x,d=s.y,_=1;_<e;_++){t.getCoordinate(_,s);var w=s.x,F=s.y,et=w-l,_t=F-d;i+=Math.sqrt(et*et+_t*_t),l=w,d=F}return i},Mt.isCCW=function(t){var e=t.length-1;if(e<3)throw new S("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=t[0],s=0,l=1;l<=e;l++){var d=t[l];d.y>i.y&&(i=d,s=l)}var _=s;do{(_-=1)<0&&(_=e)}while(t[_].equals2D(i)&&_!==s);var w=s;do{w=(w+1)%e}while(t[w].equals2D(i)&&w!==s);var F=t[_],et=t[w];if(F.equals2D(i)||et.equals2D(i)||F.equals2D(et))return!1;var _t=Mt.computeOrientation(F,i,et);return 0===_t?F.x>et.x:_t>0},Mt.locatePointInRing=function(t,e){return Dt.locatePointInRing(t,e)},Mt.distancePointLinePerpendicular=function(t,e,i){var s=(i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y);return Math.abs(((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y))/s)*Math.sqrt(s)},Mt.computeOrientation=function(t,e,i){return Mt.orientationIndex(t,e,i)},Mt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new S("Line array must contain at least one vertex");for(var i=t.distance(e[0]),s=0;s<e.length-1;s++){var l=Mt.distancePointLine(t,e[s],e[s+1]);l<i&&(i=l)}return i}if(3===arguments.length){var d=arguments[0],_=arguments[1],w=arguments[2];if(_.x===w.x&&_.y===w.y)return d.distance(_);var F=(w.x-_.x)*(w.x-_.x)+(w.y-_.y)*(w.y-_.y),et=((d.x-_.x)*(w.x-_.x)+(d.y-_.y)*(w.y-_.y))/F;return et<=0?d.distance(_):et>=1?d.distance(w):Math.abs(((_.y-d.y)*(w.x-_.x)-(_.x-d.x)*(w.y-_.y))/F)*Math.sqrt(F)}},Mt.isOnLine=function(t,e){for(var i=new wt,s=1;s<e.length;s++)if(i.computeIntersection(t,e[s-1],e[s]),i.hasIntersection())return!0;return!1},ae.CLOCKWISE.get=function(){return-1},ae.RIGHT.get=function(){return Mt.CLOCKWISE},ae.COUNTERCLOCKWISE.get=function(){return 1},ae.LEFT.get=function(){return Mt.COUNTERCLOCKWISE},ae.COLLINEAR.get=function(){return 0},ae.STRAIGHT.get=function(){return Mt.COLLINEAR},Object.defineProperties(Mt,ae);var ce=function(){};ce.prototype.filter=function(t){},ce.prototype.interfaces_=function(){return[]},ce.prototype.getClass=function(){return ce};var Xt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Ht={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Xt.prototype.isGeometryCollection=function(){return this.getSortIndex()===Xt.SORTINDEX_GEOMETRYCOLLECTION},Xt.prototype.getFactory=function(){return this._factory},Xt.prototype.getGeometryN=function(t){return this},Xt.prototype.getArea=function(){return 0},Xt.prototype.isRectangle=function(){return!1},Xt.prototype.equals=function(){if(arguments[0]instanceof Xt){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Xt&&this.equalsExact(e)}},Xt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Xt.prototype.geometryChanged=function(){this.apply(Xt.geometryChangedFilter)},Xt.prototype.geometryChangedAction=function(){this._envelope=null},Xt.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Xt.prototype.getLength=function(){return 0},Xt.prototype.getNumGeometries=function(){return 1},Xt.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var i=arguments[0],s=arguments[1];return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(i,s)}},Xt.prototype.getUserData=function(){return this._userData},Xt.prototype.getSRID=function(){return this._SRID},Xt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Xt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Xt.SORTINDEX_GEOMETRYCOLLECTION)throw new S("This method does not support GeometryCollection arguments")},Xt.prototype.equal=function(t,e,i){return 0===i?t.equals(e):t.distance(e)<=i},Xt.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Xt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Xt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new kt(this._envelope)},Xt.prototype.setSRID=function(t){this._SRID=t},Xt.prototype.setUserData=function(t){this._userData=t},Xt.prototype.compare=function(t,e){for(var i=t.iterator(),s=e.iterator();i.hasNext()&&s.hasNext();){var l=i.next(),d=s.next(),_=l.compareTo(d);if(0!==_)return _}return i.hasNext()?1:s.hasNext()?-1:0},Xt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Xt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Xt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Xt.SORTINDEX_MULTIPOINT||this.getSortIndex()===Xt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Xt.SORTINDEX_MULTIPOLYGON},Xt.prototype.interfaces_=function(){return[b,N,B]},Xt.prototype.getClass=function(){return Xt},Xt.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Xt.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Ht.serialVersionUID.get=function(){return 0x799ea46522854c00},Ht.SORTINDEX_POINT.get=function(){return 0},Ht.SORTINDEX_MULTIPOINT.get=function(){return 1},Ht.SORTINDEX_LINESTRING.get=function(){return 2},Ht.SORTINDEX_LINEARRING.get=function(){return 3},Ht.SORTINDEX_MULTILINESTRING.get=function(){return 4},Ht.SORTINDEX_POLYGON.get=function(){return 5},Ht.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Ht.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Ht.geometryChangedFilter.get=function(){return dn},Object.defineProperties(Xt,Ht);var dn=function(){};dn.interfaces_=function(){return[ce]},dn.filter=function(t){t.geometryChangedAction()};var Pe=function(){};Pe.prototype.filter=function(t){},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var Ne=function(){},yn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Ne.prototype.isInBoundary=function(t){},Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne},yn.Mod2BoundaryNodeRule.get=function(){return Sn},yn.EndPointBoundaryNodeRule.get=function(){return Zn},yn.MultiValentEndPointBoundaryNodeRule.get=function(){return Ln},yn.MonoValentEndPointBoundaryNodeRule.get=function(){return ur},yn.MOD2_BOUNDARY_RULE.get=function(){return new Sn},yn.ENDPOINT_BOUNDARY_RULE.get=function(){return new Zn},yn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ln},yn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ur},yn.OGC_SFS_BOUNDARY_RULE.get=function(){return Ne.MOD2_BOUNDARY_RULE},Object.defineProperties(Ne,yn);var Sn=function(){};Sn.prototype.isInBoundary=function(t){return t%2==1},Sn.prototype.interfaces_=function(){return[Ne]},Sn.prototype.getClass=function(){return Sn};var Zn=function(){};Zn.prototype.isInBoundary=function(t){return t>0},Zn.prototype.interfaces_=function(){return[Ne]},Zn.prototype.getClass=function(){return Zn};var Ln=function(){};Ln.prototype.isInBoundary=function(t){return t>1},Ln.prototype.interfaces_=function(){return[Ne]},Ln.prototype.getClass=function(){return Ln};var ur=function(){};ur.prototype.isInBoundary=function(t){return 1===t},ur.prototype.interfaces_=function(){return[Ne]},ur.prototype.getClass=function(){return ur};var cn=function(){};cn.prototype.add=function(){},cn.prototype.addAll=function(){},cn.prototype.isEmpty=function(){},cn.prototype.iterator=function(){},cn.prototype.size=function(){},cn.prototype.toArray=function(){},cn.prototype.remove=function(){},(j.prototype=new Error).name="IndexOutOfBoundsException";var Br=function(){};Br.prototype.hasNext=function(){},Br.prototype.next=function(){},Br.prototype.remove=function(){};var Gn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(cn);(Q.prototype=new Error).name="NoSuchElementException";var Bt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof cn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,cn]},e.prototype.add=function(i){return 1===arguments.length?this.array_.push(i):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(i){for(var s=i.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.set=function(i,s){var l=this.array_[i];return this.array_[i]=s,l},e.prototype.iterator=function(){return new mo(this)},e.prototype.get=function(i){if(i<0||i>=this.size())throw new j;return this.array_[i]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var i=[],s=0,l=this.array_.length;s<l;s++)i.push(this.array_[s]);return i},e.prototype.remove=function(i){for(var s=!1,l=0,d=this.array_.length;l<d;l++)if(this.array_[l]===i){this.array_.splice(l,1),s=!0;break}return s},e}(Gn),mo=function(t){function e(i){t.call(this),this.arrayList_=i,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Q;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(i){return this.arrayList_.set(this.position_-1,i)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Br),Jr=function(t){function e(){if(t.call(this),0!==arguments.length)if(1===arguments.length){var s=arguments[0];this.ensureCapacity(s.length),this.add(s,!0)}else if(2===arguments.length){var l=arguments[0],d=arguments[1];this.ensureCapacity(l.length),this.add(l,d)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={coordArrayType:{configurable:!0}};return i.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(s){return this.get(s)},e.prototype.addAll=function(){if(2===arguments.length){for(var l=arguments[1],d=!1,_=arguments[0].iterator();_.hasNext();)this.add(_.next(),l),d=!0;return d}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var s=t.prototype.clone.call(this),l=0;l<this.size();l++)s.add(l,this.get(l).copy());return s},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof I&&"boolean"==typeof arguments[1]){var _=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(_))return null;t.prototype.add.call(this,_)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var et=arguments[0],_t=arguments[1];if(arguments[2])for(var Pt=0;Pt<et.length;Pt++)this.add(et[Pt],_t);else for(var zt=et.length-1;zt>=0;zt--)this.add(et[zt],_t);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof I){var qt=arguments[0],Zt=arguments[1];if(!arguments[2]){var Jt=this.size();if(Jt>0&&(qt>0&&this.get(qt-1).equals2D(Zt)||qt<Jt&&this.get(qt).equals2D(Zt)))return null}t.prototype.add.call(this,qt,Zt)}}else if(4===arguments.length){var me=arguments[0],Ee=arguments[1],nn=arguments[2],ge=arguments[3],ve=1;nn>ge&&(ve=-1);for(var we=nn;we!==ge;we+=ve)this.add(me[we],Ee);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new I(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,i),e}(Bt),ye=function(){},ii={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ii.ForwardComparator.get=function(){return Zr},ii.BidirectionalComparator.get=function(){return Ii},ii.coordArrayType.get=function(){return new Array(0).fill(null)},ye.prototype.interfaces_=function(){return[]},ye.prototype.getClass=function(){return ye},ye.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},ye.ptNotInList=function(t,e){for(var i=0;i<t.length;i++){var s=t[i];if(ye.indexOf(s,e)<0)return s}return null},ye.scroll=function(t,e){var i=ye.indexOf(e,t);if(i<0)return null;var s=new Array(t.length).fill(null);Wt.arraycopy(t,i,s,0,t.length-i),Wt.arraycopy(t,0,s,t.length-i,i),Wt.arraycopy(s,0,t,0,t.length)},ye.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].equals(e[i]))return!1;return!0}if(3===arguments.length){var s=arguments[0],l=arguments[1],d=arguments[2];if(s===l)return!0;if(null===s||null===l||s.length!==l.length)return!1;for(var _=0;_<s.length;_++)if(0!==d.compare(s[_],l[_]))return!1;return!0}},ye.intersection=function(t,e){for(var i=new Jr,s=0;s<t.length;s++)e.intersects(t[s])&&i.add(t[s],!0);return i.toCoordinateArray()},ye.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},ye.removeRepeatedPoints=function(t){return ye.hasRepeatedPoints(t)?new Jr(t,!1).toCoordinateArray():t},ye.reverse=function(t){for(var e=t.length-1,i=Math.trunc(e/2),s=0;s<=i;s++){var l=t[s];t[s]=t[e-s],t[e-s]=l}},ye.removeNull=function(t){for(var e=0,i=0;i<t.length;i++)null!==t[i]&&e++;var s=new Array(e).fill(null);if(0===e)return s;for(var l=0,d=0;d<t.length;d++)null!==t[d]&&(s[l++]=t[d]);return s},ye.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),i=0;i<t.length;i++)e[i]=new I(t[i]);return e}if(5===arguments.length)for(var s=arguments[0],l=arguments[1],d=arguments[2],_=arguments[3],w=arguments[4],F=0;F<w;F++)d[_+F]=new I(s[l+F])},ye.isEqualReversed=function(t,e){for(var i=0;i<t.length;i++)if(0!==t[i].compareTo(e[t.length-i-1]))return!1;return!0},ye.envelope=function(t){for(var e=new kt,i=0;i<t.length;i++)e.expandToInclude(t[i]);return e},ye.toCoordinateArray=function(t){return t.toArray(ye.coordArrayType)},ye.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},ye.indexOf=function(t,e){for(var i=0;i<e.length;i++)if(t.equals(e[i]))return i;return-1},ye.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var s=t[e].compareTo(t[t.length-1-e]);if(0!==s)return s}return 1},ye.compare=function(t,e){for(var i=0;i<t.length&&i<e.length;){var s=t[i].compareTo(e[i]);if(0!==s)return s;i++}return i<e.length?-1:i<t.length?1:0},ye.minCoordinate=function(t){for(var e=null,i=0;i<t.length;i++)(null===e||e.compareTo(t[i])>0)&&(e=t[i]);return e},ye.extract=function(t,e,i){e=k.clamp(e,0,t.length);var s=(i=k.clamp(i,-1,t.length))-e+1;i<0&&(s=0),e>=t.length&&(s=0),i<e&&(s=0);var l=new Array(s).fill(null);if(0===s)return l;for(var d=0,_=e;_<=i;_++)l[d++]=t[_];return l},Object.defineProperties(ye,ii);var Zr=function(){};Zr.prototype.compare=function(t,e){return ye.compare(t,e)},Zr.prototype.interfaces_=function(){return[O]},Zr.prototype.getClass=function(){return Zr};var Ii=function(){};Ii.prototype.compare=function(t,e){var i=t,s=e;if(i.length<s.length)return-1;if(i.length>s.length)return 1;if(0===i.length)return 0;var l=ye.compare(i,s);return ye.isEqualReversed(i,s)?0:l},Ii.prototype.OLDcompare=function(t,e){var i=t,s=e;if(i.length<s.length)return-1;if(i.length>s.length)return 1;if(0===i.length)return 0;for(var l=ye.increasingDirection(i),d=ye.increasingDirection(s),_=l>0?0:i.length-1,w=d>0?0:i.length-1,F=0;F<i.length;F++){var et=i[_].compareTo(s[w]);if(0!==et)return et;_+=l,w+=d}return 0},Ii.prototype.interfaces_=function(){return[O]},Ii.prototype.getClass=function(){return Ii};var _o=function(){};_o.prototype.get=function(){},_o.prototype.put=function(){},_o.prototype.size=function(){},_o.prototype.values=function(){},_o.prototype.entrySet=function(){};var al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(_o);($.prototype=new Error).name="OperationNotSupported",(nt.prototype=new cn).contains=function(){};var ea=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof cn&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(i){for(var s=0,l=this.array_.length;s<l;s++)if(this.array_[s]===i)return!0;return!1},e.prototype.add=function(i){return!this.contains(i)&&(this.array_.push(i),!0)},e.prototype.addAll=function(i){for(var s=i.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.remove=function(i){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var i=[],s=0,l=this.array_.length;s<l;s++)i.push(this.array_[s]);return i},e.prototype.iterator=function(){return new ul(this)},e}(nt),ul=function(t){function e(i){t.call(this),this.hashSet_=i,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Q;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new $},e}(Br),Oi=0;(xt.prototype=new al).get=function(t){for(var e=this.root_;null!==e;){var i=t.compareTo(e.key);if(i<0)e=e.left;else{if(!(i>0))return e.value;e=e.right}}return null},xt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Oi,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var i,s,l=this.root_;do{if(i=l,(s=t.compareTo(l.key))<0)l=l.left;else{if(!(s>0)){var d=l.value;return l.value=e,d}l=l.right}}while(null!==l);var _={key:t,left:null,right:null,value:e,parent:i,color:Oi,getValue:function(){return this.value},getKey:function(){return this.key}};return s<0?i.left=_:i.right=_,this.fixAfterInsertion(_),this.size_++,null},xt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(it(t)===Lt(it(it(t)))){var e=Nt(it(it(t)));1===V(e)?(gt(it(t),Oi),gt(e,Oi),gt(it(it(t)),1),t=it(it(t))):(t===Nt(it(t))&&(t=it(t),this.rotateLeft(t)),gt(it(t),Oi),gt(it(it(t)),1),this.rotateRight(it(it(t))))}else{var i=Lt(it(it(t)));1===V(i)?(gt(it(t),Oi),gt(i,Oi),gt(it(it(t)),1),t=it(it(t))):(t===Lt(it(t))&&(t=it(t),this.rotateRight(t)),gt(it(t),Oi),gt(it(it(t)),1),this.rotateLeft(it(it(t))))}this.root_.color=Oi},xt.prototype.values=function(){var t=new Bt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=xt.successor(e));)t.add(e.value);return t},xt.prototype.entrySet=function(){var t=new ea,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=xt.successor(e));)t.add(e);return t},xt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},xt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},xt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},xt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var i=t.parent,s=t;null!==i&&s===i.right;)s=i,i=i.parent;return i},xt.prototype.size=function(){return this.size_};var xo=function(){};xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo},dt.prototype=new nt,(St.prototype=new dt).contains=function(t){for(var e=0,i=this.array_.length;e<i;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},St.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,i=this.array_.length;e<i;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},St.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},St.prototype.remove=function(t){throw new $},St.prototype.size=function(){return this.array_.length},St.prototype.isEmpty=function(){return 0===this.array_.length},St.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},St.prototype.iterator=function(){return new ts(this)};var ts=function(t){this.treeSet_=t,this.position_=0};ts.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Q;return this.treeSet_.array_[this.position_++]},ts.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ts.prototype.remove=function(){throw new $};var Xi=function(){};Xi.sort=function(){var t,e,i,l=arguments[0];if(1===arguments.length)l.sort(function(_,w){return _.compareTo(w)});else if(2===arguments.length)i=arguments[1],l.sort(function(_,w){return i.compare(_,w)});else if(3===arguments.length){(e=l.slice(arguments[1],arguments[2])).sort();var d=l.slice(0,arguments[1]).concat(e,l.slice(arguments[2],l.length));for(l.splice(0,l.length),t=0;t<d.length;t++)l.push(d[t])}else if(4===arguments.length)for(e=l.slice(arguments[1],arguments[2]),i=arguments[3],e.sort(function(_,w){return i.compare(_,w)}),d=l.slice(0,arguments[1]).concat(e,l.slice(arguments[2],l.length)),l.splice(0,l.length),t=0;t<d.length;t++)l.push(d[t])},Xi.asList=function(t){for(var e=new Bt,i=0,s=t.length;i<s;i++)e.add(t[i]);return e};var Me=function(){},jr={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};jr.P.get=function(){return 0},jr.L.get=function(){return 1},jr.A.get=function(){return 2},jr.FALSE.get=function(){return-1},jr.TRUE.get=function(){return-2},jr.DONTCARE.get=function(){return-3},jr.SYM_FALSE.get=function(){return"F"},jr.SYM_TRUE.get=function(){return"T"},jr.SYM_DONTCARE.get=function(){return"*"},jr.SYM_P.get=function(){return"0"},jr.SYM_L.get=function(){return"1"},jr.SYM_A.get=function(){return"2"},Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me},Me.toDimensionSymbol=function(t){switch(t){case Me.FALSE:return Me.SYM_FALSE;case Me.TRUE:return Me.SYM_TRUE;case Me.DONTCARE:return Me.SYM_DONTCARE;case Me.P:return Me.SYM_P;case Me.L:return Me.SYM_L;case Me.A:return Me.SYM_A}throw new S("Unknown dimension value: "+t)},Me.toDimensionValue=function(t){switch(ut.toUpperCase(t)){case Me.SYM_FALSE:return Me.FALSE;case Me.SYM_TRUE:return Me.TRUE;case Me.SYM_DONTCARE:return Me.DONTCARE;case Me.SYM_P:return Me.P;case Me.SYM_L:return Me.L;case Me.SYM_A:return Me.A}throw new S("Unknown dimension symbol: "+t)},Object.defineProperties(Me,jr);var Ir=function(){};Ir.prototype.filter=function(t){},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir};var Gr=function(){};Gr.prototype.filter=function(t,e){},Gr.prototype.isDone=function(){},Gr.prototype.isGeometryChanged=function(){},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr};var lr=function(t){function e(s,l){if(t.call(this,l),this._geometries=s||[],t.hasNullElements(this._geometries))throw new S("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var s=new kt,l=0;l<this._geometries.length;l++)s.expandToInclude(this._geometries[l].getEnvelopeInternal());return s},e.prototype.getGeometryN=function(s){return this._geometries[s]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var s=new Array(this.getNumPoints()).fill(null),l=-1,d=0;d<this._geometries.length;d++)for(var _=this._geometries[d].getCoordinates(),w=0;w<_.length;w++)s[++l]=_[w];return s},e.prototype.getArea=function(){for(var s=0,l=0;l<this._geometries.length;l++)s+=this._geometries[l].getArea();return s},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(!this.isEquivalentClass(s))return!1;var d=s;if(this._geometries.length!==d._geometries.length)return!1;for(var _=0;_<this._geometries.length;_++)if(!this._geometries[_].equalsExact(d._geometries[_],l))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<this._geometries.length;s++)this._geometries[s].normalize();Xi.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var s=Me.FALSE,l=0;l<this._geometries.length;l++)s=Math.max(s,this._geometries[l].getBoundaryDimension());return s},e.prototype.getDimension=function(){for(var s=Me.FALSE,l=0;l<this._geometries.length;l++)s=Math.max(s,this._geometries[l].getDimension());return s},e.prototype.getLength=function(){for(var s=0,l=0;l<this._geometries.length;l++)s+=this._geometries[l].getLength();return s},e.prototype.getNumPoints=function(){for(var s=0,l=0;l<this._geometries.length;l++)s+=this._geometries[l].getNumPoints();return s},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var l=new Array(this._geometries.length).fill(null),d=0;d<this._geometries.length;d++)l[d]=this._geometries[d].reverse();return this.getFactory().createGeometryCollection(l)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0],l=new St(Xi.asList(this._geometries)),d=new St(Xi.asList(s._geometries));return this.compare(l,d)}if(2===arguments.length){for(var w=arguments[1],F=arguments[0],et=this.getNumGeometries(),_t=F.getNumGeometries(),Pt=0;Pt<et&&Pt<_t;){var zt=this.getGeometryN(Pt),qt=F.getGeometryN(Pt),Zt=zt.compareToSameClass(qt,w);if(0!==Zt)return Zt;Pt++}return Pt<et?1:Pt<_t?-1:0}},e.prototype.apply=function(){if(Ct(arguments[0],Pe))for(var s=arguments[0],l=0;l<this._geometries.length;l++)this._geometries[l].apply(s);else if(Ct(arguments[0],Gr)){var d=arguments[0];if(0===this._geometries.length)return null;for(var _=0;_<this._geometries.length&&(this._geometries[_].apply(d),!d.isDone());_++);d.isGeometryChanged()&&this.geometryChanged()}else if(Ct(arguments[0],Ir)){var w=arguments[0];w.filter(this);for(var F=0;F<this._geometries.length;F++)this._geometries[F].apply(w)}else if(Ct(arguments[0],ce)){var et=arguments[0];et.filter(this);for(var _t=0;_t<this._geometries.length;_t++)this._geometries[_t].apply(et)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),C.shouldNeverReachHere(),null},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._geometries=new Array(this._geometries.length).fill(null);for(var l=0;l<this._geometries.length;l++)s._geometries[l]=this._geometries[l].clone();return s},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.isEmpty=function(){for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,i),e}(Xt),io=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xt.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,l)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Me.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var s=this._geometries.length,l=new Array(s).fill(null),d=0;d<this._geometries.length;d++)l[s-1-d]=this._geometries[d].reverse();return this.getFactory().createMultiLineString(l)},e.prototype.getBoundary=function(){return new kr(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[xo]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,i),e}(lr),kr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Ne.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var i=arguments[0],s=arguments[1];this._geom=i,this._geomFact=i.getFactory(),this._bnRule=s}};kr.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},kr.prototype.getBoundary=function(){return this._geom instanceof xn?this.boundaryLineString(this._geom):this._geom instanceof io?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},kr.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},kr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},kr.prototype.computeBoundaryCoordinates=function(t){var e=new Bt;this._endpointMap=new xt;for(var i=0;i<t.getNumGeometries();i++){var s=t.getGeometryN(i);0!==s.getNumPoints()&&(this.addEndpoint(s.getCoordinateN(0)),this.addEndpoint(s.getCoordinateN(s.getNumPoints()-1)))}for(var l=this._endpointMap.entrySet().iterator();l.hasNext();){var d=l.next(),_=d.getValue().count;this._bnRule.isInBoundary(_)&&e.add(d.getKey())}return ye.toCoordinateArray(e)},kr.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Bo,this._endpointMap.put(t,e)),e.count++},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr},kr.getBoundary=function(){return 1===arguments.length?new kr(arguments[0]).getBoundary():2===arguments.length?new kr(arguments[0],arguments[1]).getBoundary():void 0};var Bo=function(){this.count=null};Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo};var Sr=function(){},Eo={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.chars=function(t,e){for(var i=new Array(e).fill(null),s=0;s<e;s++)i[s]=t;return String(i)},Sr.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},i=new function(){}(e);return t.printStackTrace(i),e.toString()}if(2===arguments.length){for(var l=arguments[1],d="",_=new function(){}(new function(){}(Sr.getStackTrace(arguments[0]))),w=0;w<l;w++)try{d+=_.readLine()+Sr.NEWLINE}catch(F){if(!(F instanceof Ft))throw F;C.shouldNeverReachHere()}return d}},Sr.split=function(t,e){for(var i=e.length,s=new Bt,l=""+t,d=l.indexOf(e);d>=0;){var _=l.substring(0,d);s.add(_),d=(l=l.substring(d+i)).indexOf(e)}l.length>0&&s.add(l);for(var w=new Array(s.size()).fill(null),F=0;F<w.length;F++)w[F]=s.get(F);return w},Sr.toString=function(){if(1===arguments.length)return Sr.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Sr.spaces=function(t){return Sr.chars(" ",t)},Eo.NEWLINE.get=function(){return Wt.getProperty("line.separator")},Eo.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Sr,Eo);var Pn=function(){};Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Pn.copyCoord=function(t,e,i,s){for(var l=Math.min(t.getDimension(),i.getDimension()),d=0;d<l;d++)i.setOrdinate(s,d,t.getOrdinate(e,d))},Pn.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Ot.X)===t.getOrdinate(e-1,Ot.X)&&t.getOrdinate(0,Ot.Y)===t.getOrdinate(e-1,Ot.Y)},Pn.isEqual=function(t,e){var i=t.size();if(i!==e.size())return!1;for(var s=Math.min(t.getDimension(),e.getDimension()),l=0;l<i;l++)for(var d=0;d<s;d++){var _=t.getOrdinate(l,d),w=e.getOrdinate(l,d);if(!(t.getOrdinate(l,d)===e.getOrdinate(l,d)||P.isNaN(_)&&P.isNaN(w)))return!1}return!0},Pn.extend=function(t,e,i){var s=t.create(i,e.getDimension()),l=e.size();if(Pn.copy(e,0,s,0,l),l>0)for(var d=l;d<i;d++)Pn.copy(e,l-1,s,d,1);return s},Pn.reverse=function(t){for(var e=t.size()-1,i=Math.trunc(e/2),s=0;s<=i;s++)Pn.swap(t,s,e-s)},Pn.swap=function(t,e,i){if(e===i)return null;for(var s=0;s<t.getDimension();s++){var l=t.getOrdinate(e,s);t.setOrdinate(e,s,t.getOrdinate(i,s)),t.setOrdinate(i,s,l)}},Pn.copy=function(t,e,i,s,l){for(var d=0;d<l;d++)Pn.copyCoord(t,e+d,i,s+d)},Pn.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var i=t.getDimension(),s=new U;s.append("(");for(var l=0;l<e;l++){l>0&&s.append(" ");for(var d=0;d<i;d++)d>0&&s.append(","),s.append(Sr.toString(t.getOrdinate(l,d)))}return s.append(")"),s.toString()}},Pn.ensureValidRing=function(t,e){var i=e.size();return 0===i?e:i<=3?Pn.createClosedRing(t,e,4):e.getOrdinate(0,Ot.X)===e.getOrdinate(i-1,Ot.X)&&e.getOrdinate(0,Ot.Y)===e.getOrdinate(i-1,Ot.Y)?e:Pn.createClosedRing(t,e,i+1)},Pn.createClosedRing=function(t,e,i){var s=t.create(i,e.getDimension()),l=e.size();Pn.copy(e,0,s,0,l);for(var d=l;d<i;d++)Pn.copy(e,0,s,d,1);return s};var xn=function(t){function e(s,l){t.call(this,l),this._points=null,this.init(s)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new kt:this._points.expandEnvelope(new kt)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(!this.isEquivalentClass(s))return!1;var d=s;if(this._points.size()!==d._points.size())return!1;for(var _=0;_<this._points.size();_++)if(!this.equal(this._points.getCoordinate(_),d._points.getCoordinate(_),l))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<Math.trunc(this._points.size()/2);s++){var l=this._points.size()-1-s;if(!this._points.getCoordinate(s).equals(this._points.getCoordinate(l)))return this._points.getCoordinate(s).compareTo(this._points.getCoordinate(l))>0&&Pn.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Me.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Mt.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var s=this._points.copy();return Pn.reverse(s),this.getFactory().createLineString(s)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var s=arguments[0],l=0,d=0;l<this._points.size()&&d<s._points.size();){var _=this._points.getCoordinate(l).compareTo(s._points.getCoordinate(d));if(0!==_)return _;l++,d++}return l<this._points.size()?1:d<s._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(Ct(arguments[0],Pe))for(var s=arguments[0],l=0;l<this._points.size();l++)s.filter(this._points.getCoordinate(l));else if(Ct(arguments[0],Gr)){var d=arguments[0];if(0===this._points.size())return null;for(var _=0;_<this._points.size()&&(d.filter(this._points,_),!d.isDone());_++);d.isGeometryChanged()&&this.geometryChanged()}else(Ct(arguments[0],Ir)||Ct(arguments[0],ce))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new kr(this).getBoundary()},e.prototype.isEquivalentClass=function(s){return s instanceof e},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._points=this._points.clone(),s},e.prototype.getCoordinateN=function(s){return this._points.getCoordinate(s)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(s){if(null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),1===s.size())throw new S("Invalid number of points in LineString (found "+s.size()+" - must be 0 or >= 2)");this._points=s},e.prototype.isCoordinate=function(s){for(var l=0;l<this._points.size();l++)if(this._points.getCoordinate(l).equals(s))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(s){return this.getFactory().createPoint(this._points.getCoordinate(s))},e.prototype.interfaces_=function(){return[xo]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,i),e}(Xt),es=function(){};es.prototype.interfaces_=function(){return[]},es.prototype.getClass=function(){return es};var yr=function(t){function e(s,l){t.call(this,l),this._coordinates=s||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new kt;var s=new kt;return s.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),s},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&(!(!this.isEmpty()||!s.isEmpty())||this.isEmpty()===s.isEmpty()&&this.equal(s.getCoordinate(),this.getCoordinate(),l))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Me.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0];return this.getCoordinate().compareTo(s.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(Ct(arguments[0],Pe)){var s=arguments[0];if(this.isEmpty())return null;s.filter(this.getCoordinate())}else if(Ct(arguments[0],Gr)){var l=arguments[0];if(this.isEmpty())return null;l.filter(this._coordinates,0),l.isGeometryChanged()&&this.geometryChanged()}else(Ct(arguments[0],Ir)||Ct(arguments[0],ce))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._coordinates=this._coordinates.clone(),s},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(s){null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),C.isTrue(s.size()<=1),this._coordinates=s},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[es]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,i),e}(Xt),oi=function(){};oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi};var Tn=function(t){function e(s,l,d){if(t.call(this,d),this._shell=null,this._holes=null,null===s&&(s=this.getFactory().createLinearRing()),null===l&&(l=[]),t.hasNullElements(l))throw new S("holes must not contain null elements");if(s.isEmpty()&&t.hasNonEmptyElements(l))throw new S("shell is empty but holes are not");this._shell=s,this._holes=l}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var s=new Array(this.getNumPoints()).fill(null),l=-1,d=this._shell.getCoordinates(),_=0;_<d.length;_++)s[++l]=d[_];for(var w=0;w<this._holes.length;w++)for(var F=this._holes[w].getCoordinates(),et=0;et<F.length;et++)s[++l]=F[et];return s},e.prototype.getArea=function(){var s=0;s+=Math.abs(Mt.signedArea(this._shell.getCoordinateSequence()));for(var l=0;l<this._holes.length;l++)s-=Math.abs(Mt.signedArea(this._holes[l].getCoordinateSequence()));return s},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var s=this._shell.getCoordinateSequence(),l=this.getEnvelopeInternal(),d=0;d<5;d++){var _=s.getX(d);if(_!==l.getMinX()&&_!==l.getMaxX())return!1;var w=s.getY(d);if(w!==l.getMinY()&&w!==l.getMaxY())return!1}for(var F=s.getX(0),et=s.getY(0),_t=1;_t<=4;_t++){var Pt=s.getX(_t),zt=s.getY(_t);if(Pt!==F==(zt!==et))return!1;F=Pt,et=zt}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(!this.isEquivalentClass(s))return!1;var d=s;if(!this._shell.equalsExact(d._shell,l)||this._holes.length!==d._holes.length)return!1;for(var F=0;F<this._holes.length;F++)if(!this._holes[F].equalsExact(d._holes[F],l))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var s=0;s<this._holes.length;s++)this.normalize(this._holes[s],!1);Xi.sort(this._holes)}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(l.isEmpty())return null;var _=new Array(l.getCoordinates().length-1).fill(null);Wt.arraycopy(l.getCoordinates(),0,_,0,_.length);var w=ye.minCoordinate(l.getCoordinates());ye.scroll(_,w),Wt.arraycopy(_,0,l.getCoordinates(),0,_.length),l.getCoordinates()[_.length]=_[0],Mt.isCCW(l.getCoordinates())===d&&ye.reverse(l.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var s=0;s+=this._shell.getLength();for(var l=0;l<this._holes.length;l++)s+=this._holes[l].getLength();return s},e.prototype.getNumPoints=function(){for(var s=this._shell.getNumPoints(),l=0;l<this._holes.length;l++)s+=this._holes[l].getNumPoints();return s},e.prototype.reverse=function(){var s=this.copy();s._shell=this._shell.copy().reverse(),s._holes=new Array(this._holes.length).fill(null);for(var l=0;l<this._holes.length;l++)s._holes[l]=this._holes[l].copy().reverse();return s},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var w=arguments[1],F=arguments[0],Pt=this._shell.compareToSameClass(F._shell,w);if(0!==Pt)return Pt;for(var zt=this.getNumInteriorRing(),qt=F.getNumInteriorRing(),Zt=0;Zt<zt&&Zt<qt;){var Jt=this.getInteriorRingN(Zt),me=F.getInteriorRingN(Zt),Ee=Jt.compareToSameClass(me,w);if(0!==Ee)return Ee;Zt++}return Zt<zt?1:Zt<qt?-1:0}},e.prototype.apply=function(s){if(Ct(s,Pe)){this._shell.apply(s);for(var l=0;l<this._holes.length;l++)this._holes[l].apply(s)}else if(Ct(s,Gr)){if(this._shell.apply(s),!s.isDone())for(var d=0;d<this._holes.length&&(this._holes[d].apply(s),!s.isDone());d++);s.isGeometryChanged()&&this.geometryChanged()}else if(Ct(s,Ir))s.filter(this);else if(Ct(s,ce)){s.filter(this),this._shell.apply(s);for(var _=0;_<this._holes.length;_++)this._holes[_].apply(s)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var s=new Array(this._holes.length+1).fill(null);s[0]=this._shell;for(var l=0;l<this._holes.length;l++)s[l+1]=this._holes[l];return s.length<=1?this.getFactory().createLinearRing(s[0].getCoordinateSequence()):this.getFactory().createMultiLineString(s)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._shell=this._shell.clone(),s._holes=new Array(this._holes.length).fill(null);for(var l=0;l<this._holes.length;l++)s._holes[l]=this._holes[l].clone();return s},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var s=this._shell.copy(),l=new Array(this._holes.length).fill(null),d=0;d<l.length;d++)l[d]=this._holes[d].copy();return new e(s,l,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(s){return this._holes[s]},e.prototype.interfaces_=function(){return[oi]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,i),e}(Xt),Go=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xt.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,l)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Me.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[es]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,i),e}(lr),Si=function(t){function e(s,l){s instanceof I&&l instanceof xe&&(s=l.getCoordinateSequenceFactory().create(s)),t.call(this,s,l),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xt.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Me.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var s=this._points.copy();return Pn.reverse(s),this.getFactory().createLinearRing(s)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new S("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new S("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},i.MINIMUM_VALID_SIZE.get=function(){return 4},i.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,i),e}(xn),Pi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xt.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,l)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var l=new Array(this._geometries.length).fill(null),d=0;d<this._geometries.length;d++)l[d]=this._geometries[d].reverse();return this.getFactory().createMultiPolygon(l)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var s=new Bt,l=0;l<this._geometries.length;l++)for(var d=this._geometries[l].getBoundary(),_=0;_<d.getNumGeometries();_++)s.add(d.getGeometryN(_));var w=new Array(s.size()).fill(null);return this.getFactory().createMultiLineString(s.toArray(w))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),l=0;l<s.length;l++)s[l]=this._geometries[l].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[oi]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,i),e}(lr),Or=function(t){this._factory=t||null,this._isUserDataCopied=!1},ns={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Or.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Or.prototype.edit=function(t,e){if(null===t)return null;var i=this.editInternal(t,e);return this._isUserDataCopied&&i.setUserData(t.getUserData()),i},Or.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof lr?this.editGeometryCollection(t,e):t instanceof Tn?this.editPolygon(t,e):t instanceof yr||t instanceof xn?e.edit(t,this._factory):(C.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Or.prototype.editGeometryCollection=function(t,e){for(var i=e.edit(t,this._factory),s=new Bt,l=0;l<i.getNumGeometries();l++){var d=this.edit(i.getGeometryN(l),e);null===d||d.isEmpty()||s.add(d)}return i.getClass()===Go?this._factory.createMultiPoint(s.toArray([])):i.getClass()===io?this._factory.createMultiLineString(s.toArray([])):i.getClass()===Pi?this._factory.createMultiPolygon(s.toArray([])):this._factory.createGeometryCollection(s.toArray([]))},Or.prototype.editPolygon=function(t,e){var i=e.edit(t,this._factory);if(null===i&&(i=this._factory.createPolygon(null)),i.isEmpty())return i;var s=this.edit(i.getExteriorRing(),e);if(null===s||s.isEmpty())return this._factory.createPolygon();for(var l=new Bt,d=0;d<i.getNumInteriorRing();d++){var _=this.edit(i.getInteriorRingN(d),e);null===_||_.isEmpty()||l.add(_)}return this._factory.createPolygon(s,l.toArray([]))},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.GeometryEditorOperation=function(){},ns.NoOpGeometryOperation.get=function(){return rs},ns.CoordinateOperation.get=function(){return is},ns.CoordinateSequenceOperation.get=function(){return ko},Object.defineProperties(Or,ns);var rs=function(){};rs.prototype.edit=function(t,e){return t},rs.prototype.interfaces_=function(){return[Or.GeometryEditorOperation]},rs.prototype.getClass=function(){return rs};var is=function(){};is.prototype.edit=function(t,e){var i=this.editCoordinates(t.getCoordinates(),t);return null===i?t:t instanceof Si?e.createLinearRing(i):t instanceof xn?e.createLineString(i):t instanceof yr?i.length>0?e.createPoint(i[0]):e.createPoint():t},is.prototype.interfaces_=function(){return[Or.GeometryEditorOperation]},is.prototype.getClass=function(){return is};var ko=function(){};ko.prototype.edit=function(t,e){return t instanceof Si?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof xn?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof yr?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ko.prototype.interfaces_=function(){return[Or.GeometryEditorOperation]},ko.prototype.getClass=function(){return ko};var Cn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new I}else if(Ct(arguments[0],Ot)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var s=0;s<this._coordinates.length;s++)this._coordinates[s]=i.getCoordinateCopy(s)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var l=arguments[0],d=arguments[1];this._coordinates=l,this._dimension=d,null===l&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var _=arguments[0],w=arguments[1];this._coordinates=new Array(_).fill(null),this._dimension=w;for(var F=0;F<_;F++)this._coordinates[F]=new I}},ja={serialVersionUID:{configurable:!0}};Cn.prototype.setOrdinate=function(t,e,i){switch(e){case Ot.X:this._coordinates[t].x=i;break;case Ot.Y:this._coordinates[t].y=i;break;case Ot.Z:this._coordinates[t].z=i;break;default:throw new S("invalid ordinateIndex")}},Cn.prototype.size=function(){return this._coordinates.length},Cn.prototype.getOrdinate=function(t,e){switch(e){case Ot.X:return this._coordinates[t].x;case Ot.Y:return this._coordinates[t].y;case Ot.Z:return this._coordinates[t].z}return P.NaN},Cn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var e=arguments[0],i=arguments[1];i.x=this._coordinates[e].x,i.y=this._coordinates[e].y,i.z=this._coordinates[e].z}},Cn.prototype.getCoordinateCopy=function(t){return new I(this._coordinates[t])},Cn.prototype.getDimension=function(){return this._dimension},Cn.prototype.getX=function(t){return this._coordinates[t].x},Cn.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Cn(t,this._dimension)},Cn.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Cn.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Cn(t,this._dimension)},Cn.prototype.toString=function(){if(this._coordinates.length>0){var t=new U(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Cn.prototype.getY=function(t){return this._coordinates[t].y},Cn.prototype.toCoordinateArray=function(){return this._coordinates},Cn.prototype.interfaces_=function(){return[Ot,B]},Cn.prototype.getClass=function(){return Cn},ja.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Cn,ja);var si=function(){},na={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};si.prototype.readResolve=function(){return si.instance()},si.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Cn(arguments[0]);if(Ct(arguments[0],Ot))return new Cn(arguments[0])}else if(2===arguments.length){var i=arguments[0],s=arguments[1];return s>3&&(s=3),s<2?new Cn(i):new Cn(i,s)}},si.prototype.interfaces_=function(){return[J,B]},si.prototype.getClass=function(){return si},si.instance=function(){return si.instanceObject},na.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},na.instanceObject.get=function(){return new si},Object.defineProperties(si,na);var $a=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(i){return this.map_.get(i)||null},e.prototype.put=function(i,s){return this.map_.set(i,s),s},e.prototype.values=function(){for(var i=new Bt,s=this.map_.values(),l=s.next();!l.done;)i.add(l.value),l=s.next();return i},e.prototype.entrySet=function(){var i=new ea;return this.map_.entries().forEach(function(s){return i.add(s)}),i},e.prototype.size=function(){return this.map_.size()},e}(_o),Ke=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ai){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var i=arguments[0];this._modelType=t.FIXED,this.setScale(i)}else if(arguments[0]instanceof t){var s=arguments[0];this._modelType=s._modelType,this._scale=s._scale}},ra={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Ke.prototype.equals=function(t){return t instanceof Ke&&this._modelType===t._modelType&&this._scale===t._scale},Ke.prototype.compareTo=function(t){var e=t,i=this.getMaximumSignificantDigits(),s=e.getMaximumSignificantDigits();return new ot(i).compareTo(new ot(s))},Ke.prototype.getScale=function(){return this._scale},Ke.prototype.isFloating=function(){return this._modelType===Ke.FLOATING||this._modelType===Ke.FLOATING_SINGLE},Ke.prototype.getType=function(){return this._modelType},Ke.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Ke.FLOATING?t="Floating":this._modelType===Ke.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ke.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Ke.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return P.isNaN(t)||this._modelType===Ke.FLOATING_SINGLE?t:this._modelType===Ke.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof I){var e=arguments[0];if(this._modelType===Ke.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Ke.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Ke.FLOATING?t=16:this._modelType===Ke.FLOATING_SINGLE?t=6:this._modelType===Ke.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Ke.prototype.setScale=function(t){this._scale=Math.abs(t)},Ke.prototype.interfaces_=function(){return[B,N]},Ke.prototype.getClass=function(){return Ke},Ke.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},ra.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ra.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Ke,ra);var ai=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ia={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ai.prototype.readResolve=function(){return ai.nameToTypeMap.get(this._name)},ai.prototype.toString=function(){return this._name},ai.prototype.interfaces_=function(){return[B]},ai.prototype.getClass=function(){return ai},ia.serialVersionUID.get=function(){return-552860263173159e4},ia.nameToTypeMap.get=function(){return new $a},Object.defineProperties(ai,ia),Ke.Type=ai,Ke.FIXED=new ai("FIXED"),Ke.FLOATING=new ai("FLOATING"),Ke.FLOATING_SINGLE=new ai("FLOATING SINGLE");var xe=function t(){this._precisionModel=new Ke,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Ct(arguments[0],J)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Ke&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},os={serialVersionUID:{configurable:!0}};xe.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new I(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new I(t.getMinX(),t.getMinY()),new I(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new I(t.getMinX(),t.getMinY()),new I(t.getMinX(),t.getMaxY()),new I(t.getMaxX(),t.getMaxY()),new I(t.getMaxX(),t.getMinY()),new I(t.getMinX(),t.getMinY())]),null)},xe.prototype.createLineString=function(t){return t?t instanceof Array?new xn(this.getCoordinateSequenceFactory().create(t),this):Ct(t,Ot)?new xn(t,this):void 0:new xn(this.getCoordinateSequenceFactory().create([]),this)},xe.prototype.createMultiLineString=function(){return 0===arguments.length?new io(null,this):1===arguments.length?new io(arguments[0],this):void 0},xe.prototype.buildGeometry=function(t){for(var e=null,i=!1,s=!1,l=t.iterator();l.hasNext();){var d=l.next(),_=d.getClass();null===e&&(e=_),_!==e&&(i=!0),d.isGeometryCollectionOrDerived()&&(s=!0)}if(null===e)return this.createGeometryCollection();if(i||s)return this.createGeometryCollection(xe.toGeometryArray(t));var w=t.iterator().next();if(t.size()>1){if(w instanceof Tn)return this.createMultiPolygon(xe.toPolygonArray(t));if(w instanceof xn)return this.createMultiLineString(xe.toLineStringArray(t));if(w instanceof yr)return this.createMultiPoint(xe.toPointArray(t));C.shouldNeverReachHere("Unhandled class: "+w.getClass().getName())}return w},xe.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},xe.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Ct(arguments[0],Ot))return new yr(arguments[0],this)}},xe.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},xe.prototype.createPolygon=function(){if(0===arguments.length)return new Tn(null,null,this);if(1===arguments.length){if(Ct(arguments[0],Ot))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Si)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Tn(arguments[0],arguments[1],this)},xe.prototype.getSRID=function(){return this._SRID},xe.prototype.createGeometryCollection=function(){return 0===arguments.length?new lr(null,this):1===arguments.length?new lr(arguments[0],this):void 0},xe.prototype.createGeometry=function(t){return new Or(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},xe.prototype.getPrecisionModel=function(){return this._precisionModel},xe.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Ct(arguments[0],Ot))return new Si(arguments[0],this)}},xe.prototype.createMultiPolygon=function(){return 0===arguments.length?new Pi(null,this):1===arguments.length?new Pi(arguments[0],this):void 0},xe.prototype.createMultiPoint=function(){if(0===arguments.length)return new Go(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Go(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Ct(arguments[0],Ot)){var i=arguments[0];if(null===i)return this.createMultiPoint(new Array(0).fill(null));for(var s=new Array(i.size()).fill(null),l=0;l<i.size();l++){var d=this.getCoordinateSequenceFactory().create(1,i.getDimension());Pn.copy(i,l,d,0,1),s[l]=this.createPoint(d)}return this.createMultiPoint(s)}}},xe.prototype.interfaces_=function(){return[B]},xe.prototype.getClass=function(){return xe},xe.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.getDefaultCoordinateSequenceFactory=function(){return si.instance()},xe.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},xe.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},os.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(xe,os);var oa=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],qo=function(t){this.geometryFactory=t||new xe};qo.prototype.read=function(t){var e,i=(e="string"==typeof t?JSON.parse(t):t).type;if(!ui[i])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==oa.indexOf(i)?ui[i].apply(this,[e.coordinates]):ui[i].apply(this,"GeometryCollection"===i?[e.geometries]:[e])},qo.prototype.write=function(t){var e=t.getGeometryType();if(!Ci[e])throw new Error("Geometry is not supported");return Ci[e].apply(this,[t])};var ui={Feature:function(t){var e={};for(var i in t)e[i]=t[i];if(t.geometry){if(!ui[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ui.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var i=0;i<t.features.length;++i)e.features.push(this.read(t.features[i]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],i=0;i<t.length;++i){var s=t[i];e.push(new I(s[0],s[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new I(t[0],t[1]),new I(t[2],t[1]),new I(t[2],t[3]),new I(t[0],t[3]),new I(t[0],t[1])])},Point:function(t){var e=new I(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],i=0;i<t.length;++i)e.push(ui.Point.apply(this,[t[i]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ui.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],i=0;i<t.length;++i)e.push(ui.LineString.apply(this,[t[i]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ui.coordinates.apply(this,[t[0]]),i=this.geometryFactory.createLinearRing(e),s=[],l=1;l<t.length;++l){var _=ui.coordinates.apply(this,[t[l]]),w=this.geometryFactory.createLinearRing(_);s.push(w)}return this.geometryFactory.createPolygon(i,s)},MultiPolygon:function(t){for(var e=[],i=0;i<t.length;++i)e.push(ui.Polygon.apply(this,[t[i]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],i=0;i<t.length;++i)e.push(this.read(t[i]));return this.geometryFactory.createGeometryCollection(e)}},Ci={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Ci.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var l=Ci.Point.apply(this,[t._geometries[i]]);e.push(l.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],i=t.getCoordinates(),s=0;s<i.length;++s)e.push(Ci.coordinate.apply(this,[i[s]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var l=Ci.LineString.apply(this,[t._geometries[i]]);e.push(l.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],i=Ci.LineString.apply(this,[t._shell]);e.push(i.coordinates);for(var s=0;s<t._holes.length;++s){var d=Ci.LineString.apply(this,[t._holes[s]]);e.push(d.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var l=Ci.Polygon.apply(this,[t._geometries[i]]);e.push(l.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var s=t._geometries[i],l=s.getGeometryType();e.push(Ci[l].apply(this,[s]))}return{type:"GeometryCollection",geometries:e}}},bs=function(t){this.geometryFactory=t||new xe,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new qo(this.geometryFactory)};bs.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ke.FIXED&&this.reducePrecision(e),e},bs.prototype.reducePrecision=function(t){var e,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,i=t.points.length;e<i;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,i=t.geometries.length;e<i;e++)this.reducePrecision(t.geometries[e])};var sa=function(){this.parser=new qo(this.geometryFactory)};sa.prototype.write=function(t){return this.parser.write(t)};var Gt=function(){},ss={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt},Gt.opposite=function(t){return t===Gt.LEFT?Gt.RIGHT:t===Gt.RIGHT?Gt.LEFT:t},ss.ON.get=function(){return 0},ss.LEFT.get=function(){return 1},ss.RIGHT.get=function(){return 2},Object.defineProperties(Gt,ss),(tt.prototype=new Error).name="EmptyStackException",(lt.prototype=new Gn).add=function(t){return this.array_.push(t),!0},lt.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},lt.prototype.push=function(t){return this.array_.push(t),t},lt.prototype.pop=function(t){if(0===this.array_.length)throw new tt;return this.array_.pop()},lt.prototype.peek=function(){if(0===this.array_.length)throw new tt;return this.array_[this.array_.length-1]},lt.prototype.empty=function(){return 0===this.array_.length},lt.prototype.isEmpty=function(){return this.empty()},lt.prototype.search=function(t){return this.array_.indexOf(t)},lt.prototype.size=function(){return this.array_.length},lt.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t};var Rr=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Rr.prototype.getCoordinate=function(){return this._minCoord},Rr.prototype.getRightmostSide=function(t,e){var i=this.getRightmostSideOfSegment(t,e);return i<0&&(i=this.getRightmostSideOfSegment(t,e-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),i},Rr.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();C.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],i=t[this._minIndex+1],s=Mt.computeOrientation(this._minCoord,i,e),l=!1;(e.y<this._minCoord.y&&i.y<this._minCoord.y&&s===Mt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&i.y>this._minCoord.y&&s===Mt.CLOCKWISE)&&(l=!0),l&&(this._minIndex=this._minIndex-1)},Rr.prototype.getRightmostSideOfSegment=function(t,e){var i=t.getEdge().getCoordinates();if(e<0||e+1>=i.length||i[e].y===i[e+1].y)return-1;var s=Gt.LEFT;return i[e].y<i[e+1].y&&(s=Gt.RIGHT),s},Rr.prototype.getEdge=function(){return this._orientedDe},Rr.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),i=0;i<e.length-1;i++)(null===this._minCoord||e[i].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=i,this._minCoord=e[i])},Rr.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Rr.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();i.isForward()&&this.checkForRightmostCoordinate(i)}C.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Gt.LEFT&&(this._orientedDe=this._minDe.getSym())},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr};var Ri=function(t){function e(i,s){t.call(this,e.msgWithCoord(i,s)),this.pt=s?new I(s):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(i,s){return s?i:i+" [ "+s+" ]"},e}(A),as=function(){this.array_=[]};as.prototype.addLast=function(t){this.array_.push(t)},as.prototype.removeFirst=function(){return this.array_.shift()},as.prototype.isEmpty=function(){return 0===this.array_.length};var jn=function(){this._finder=null,this._dirEdgeList=new Bt,this._nodes=new Bt,this._rightMostCoord=null,this._env=null,this._finder=new Rr};jn.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},jn.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},jn.prototype.computeNodeDepth=function(t){for(var e=null,i=t.getEdges().iterator();i.hasNext();){var s=i.next();if(s.isVisited()||s.getSym().isVisited()){e=s;break}}if(null===e)throw new Ri("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var l=t.getEdges().iterator();l.hasNext();){var d=l.next();d.setVisited(!0),this.copySymDepths(d)}},jn.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Gt.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},jn.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},jn.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Gt.RIGHT)>=1&&e.getDepth(Gt.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},jn.prototype.computeDepths=function(t){var e=new ea,i=new as,s=t.getNode();for(i.addLast(s),e.add(s),t.setVisited(!0);!i.isEmpty();){var l=i.removeFirst();e.add(l),this.computeNodeDepth(l);for(var d=l.getEdges().iterator();d.hasNext();){var _=d.next().getSym();if(!_.isVisited()){var w=_.getNode();e.contains(w)||(i.addLast(w),e.add(w))}}}},jn.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},jn.prototype.getEnvelope=function(){if(null===this._env){for(var t=new kt,e=this._dirEdgeList.iterator();e.hasNext();)for(var i=e.next().getEdge().getCoordinates(),s=0;s<i.length-1;s++)t.expandToInclude(i[s]);this._env=t}return this._env},jn.prototype.addReachable=function(t){var e=new lt;for(e.add(t);!e.empty();){var i=e.pop();this.add(i,e)}},jn.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Gt.LEFT,t.getDepth(Gt.RIGHT)),e.setDepth(Gt.RIGHT,t.getDepth(Gt.LEFT))},jn.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var s=i.next();this._dirEdgeList.add(s);var l=s.getSym().getNode();l.isVisited()||e.push(l)}},jn.prototype.getNodes=function(){return this._nodes},jn.prototype.getDirectedEdges=function(){return this._dirEdgeList},jn.prototype.interfaces_=function(){return[N]},jn.prototype.getClass=function(){return jn};var on=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[Gt.ON]=i}else if(arguments[0]instanceof t){var s=arguments[0];if(this.init(s.location.length),null!==s)for(var l=0;l<this.location.length;l++)this.location[l]=s.location[l]}}else if(3===arguments.length){var d=arguments[0],_=arguments[1],w=arguments[2];this.init(3),this.location[Gt.ON]=d,this.location[Gt.LEFT]=_,this.location[Gt.RIGHT]=w}};on.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},on.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==R.NONE)return!1;return!0},on.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===R.NONE&&(this.location[e]=t)},on.prototype.isLine=function(){return 1===this.location.length},on.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Gt.ON]=this.location[Gt.ON],e[Gt.LEFT]=R.NONE,e[Gt.RIGHT]=R.NONE,this.location=e}for(var i=0;i<this.location.length;i++)this.location[i]===R.NONE&&i<t.location.length&&(this.location[i]=t.location[i])},on.prototype.getLocations=function(){return this.location},on.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Gt.LEFT];this.location[Gt.LEFT]=this.location[Gt.RIGHT],this.location[Gt.RIGHT]=t},on.prototype.toString=function(){var t=new U;return this.location.length>1&&t.append(R.toLocationSymbol(this.location[Gt.LEFT])),t.append(R.toLocationSymbol(this.location[Gt.ON])),this.location.length>1&&t.append(R.toLocationSymbol(this.location[Gt.RIGHT])),t.toString()},on.prototype.setLocations=function(t,e,i){this.location[Gt.ON]=t,this.location[Gt.LEFT]=e,this.location[Gt.RIGHT]=i},on.prototype.get=function(t){return t<this.location.length?this.location[t]:R.NONE},on.prototype.isArea=function(){return this.location.length>1},on.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===R.NONE)return!0;return!1},on.prototype.setLocation=function(){1===arguments.length?this.setLocation(Gt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},on.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(R.NONE)},on.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},on.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var en=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new on(e),this.elt[1]=new on(e)}else if(arguments[0]instanceof t){var i=arguments[0];this.elt[0]=new on(i.elt[0]),this.elt[1]=new on(i.elt[1])}}else if(2===arguments.length){var s=arguments[0],l=arguments[1];this.elt[0]=new on(R.NONE),this.elt[1]=new on(R.NONE),this.elt[s].setLocation(l)}else if(3===arguments.length){var d=arguments[0],_=arguments[1],w=arguments[2];this.elt[0]=new on(d,_,w),this.elt[1]=new on(d,_,w)}else if(4===arguments.length){var F=arguments[0],et=arguments[1],_t=arguments[2],Pt=arguments[3];this.elt[0]=new on(R.NONE,R.NONE,R.NONE),this.elt[1]=new on(R.NONE,R.NONE,R.NONE),this.elt[F].setLocations(et,_t,Pt)}};en.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},en.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},en.prototype.isNull=function(t){return this.elt[t].isNull()},en.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},en.prototype.isLine=function(t){return this.elt[t].isLine()},en.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new on(t.elt[e]):this.elt[e].merge(t.elt[e])},en.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},en.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Gt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},en.prototype.toString=function(){var t=new U;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},en.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},en.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},en.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Gt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},en.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},en.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},en.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new on(this.elt[t].location[0]))},en.prototype.interfaces_=function(){return[]},en.prototype.getClass=function(){return en},en.toLineLabel=function(t){for(var e=new en(R.NONE),i=0;i<2;i++)e.setLocation(i,t.getLocation(i));return e};var bn=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Bt,this._pts=new Bt,this._label=new en(R.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Bt,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};bn.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Mt.isCCW(this._ring.getCoordinates())},bn.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},bn.prototype.computePoints=function(t){this._startDe=t;var e=t,i=!0;do{if(null===e)throw new Ri("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Ri("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var s=e.getLabel();C.isTrue(s.isArea()),this.mergeLabel(s),this.addPoints(e.getEdge(),e.isForward(),i),i=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},bn.prototype.getLinearRing=function(){return this._ring},bn.prototype.getCoordinate=function(t){return this._pts.get(t)},bn.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},bn.prototype.addPoints=function(t,e,i){var s=t.getCoordinates();if(e){var l=1;i&&(l=0);for(var d=l;d<s.length;d++)this._pts.add(s[d])}else{var _=s.length-2;i&&(_=s.length-1);for(var w=_;w>=0;w--)this._pts.add(s[w])}},bn.prototype.isHole=function(){return this._isHole},bn.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},bn.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t)||!Mt.isPointInRing(t,e.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(t))return!1;return!0},bn.prototype.addHole=function(t){this._holes.add(t)},bn.prototype.isShell=function(){return null===this._shell},bn.prototype.getLabel=function(){return this._label},bn.prototype.getEdges=function(){return this._edges},bn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},bn.prototype.getShell=function(){return this._shell},bn.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var i=arguments[1],s=arguments[0].getLocation(i,Gt.RIGHT);if(s===R.NONE)return null;if(this._label.getLocation(i)===R.NONE)return this._label.setLocation(i,s),null}},bn.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},bn.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)e[i]=this._holes.get(i).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn};var ll=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(i,s){i.setMinEdgeRing(s)},e.prototype.getNext=function(i){return i.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bn),fl=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var i=new Bt,s=this._startDe;do{if(null===s.getMinEdgeRing()){var l=new ll(s,this._geometryFactory);i.add(l)}s=s.getNext()}while(s!==this._startDe);return i},e.prototype.setEdgeRing=function(i,s){i.setEdgeRing(s)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var i=this._startDe;do{i.getNode().getEdges().linkMinimalDirectedEdges(this),i=i.getNext()}while(i!==this._startDe)},e.prototype.getNext=function(i){return i.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bn),Pr=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};Pr.prototype.setVisited=function(t){this._isVisited=t},Pr.prototype.setInResult=function(t){this._isInResult=t},Pr.prototype.isCovered=function(){return this._isCovered},Pr.prototype.isCoveredSet=function(){return this._isCoveredSet},Pr.prototype.setLabel=function(t){this._label=t},Pr.prototype.getLabel=function(){return this._label},Pr.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Pr.prototype.updateIM=function(t){C.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Pr.prototype.isInResult=function(){return this._isInResult},Pr.prototype.isVisited=function(){return this._isVisited},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr};var us=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var s=arguments[1];this._coord=arguments[0],this._edges=s,this._label=new en(0,R.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();)if(i.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(i){i.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(i){},e.prototype.computeMergedLocation=function(i,s){var l=R.NONE;if(l=this._label.getLocation(s),!i.isNull(s)){var d=i.getLocation(s);l!==R.BOUNDARY&&(l=d)}return l},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var i=arguments[0],s=arguments[1];null===this._label?this._label=new en(i,s):this._label.setLocation(i,s)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof en)for(var s=arguments[0],l=0;l<2;l++){var d=this.computeMergedLocation(s,l);this._label.getLocation(l)===R.NONE&&this._label.setLocation(l,d)}},e.prototype.add=function(i){this._edges.insert(i),i.setNode(this)},e.prototype.setLabelBoundary=function(i){if(null===this._label)return null;var s=R.NONE;null!==this._label&&(s=this._label.getLocation(i));var l=null;switch(s){case R.BOUNDARY:l=R.INTERIOR;break;case R.INTERIOR:default:l=R.BOUNDARY}this._label.setLocation(i,l)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Pr),li=function(){this.nodeMap=new xt,this.nodeFact=null,this.nodeFact=arguments[0]};li.prototype.find=function(t){return this.nodeMap.get(t)},li.prototype.addNode=function(){if(arguments[0]instanceof I){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof us){var i=arguments[0],s=this.nodeMap.get(i.getCoordinate());return null===s?(this.nodeMap.put(i.getCoordinate(),i),i):(s.mergeLabel(i),s)}},li.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},li.prototype.iterator=function(){return this.nodeMap.values().iterator()},li.prototype.values=function(){return this.nodeMap.values()},li.prototype.getBoundaryNodes=function(t){for(var e=new Bt,i=this.iterator();i.hasNext();){var s=i.next();s.getLabel().getLocation(t)===R.BOUNDARY&&e.add(s)}return e},li.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var sn=function(){},ls={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.isNorthern=function(t){return t===sn.NE||t===sn.NW},sn.isOpposite=function(t,e){return t!==e&&(t-e+4)%4==2},sn.commonHalfPlane=function(t,e){if(t===e)return t;if((t-e+4)%4==2)return-1;var i=t<e?t:e;return 0===i&&3===(t>e?t:e)?3:i},sn.isInHalfPlane=function(t,e){return e===sn.SE?t===sn.SE||t===sn.SW:t===e||t===e+1},sn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new S("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?sn.NE:sn.SE:e>=0?sn.NW:sn.SW}if(arguments[0]instanceof I&&arguments[1]instanceof I){var i=arguments[0],s=arguments[1];if(s.x===i.x&&s.y===i.y)throw new S("Cannot compute the quadrant for two identical points "+i);return s.x>=i.x?s.y>=i.y?sn.NE:sn.SE:s.y>=i.y?sn.NW:sn.SW}},ls.NE.get=function(){return 0},ls.NW.get=function(){return 1},ls.SW.get=function(){return 2},ls.SE.get=function(){return 3},Object.defineProperties(sn,ls);var nr=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var i=arguments[1],s=arguments[2];this._edge=arguments[0],this.init(i,s),this._label=null}else if(4===arguments.length){var d=arguments[1],_=arguments[2],w=arguments[3];this._edge=arguments[0],this.init(d,_),this._label=w}};nr.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Mt.computeOrientation(t._p0,t._p1,this._p1)},nr.prototype.getDy=function(){return this._dy},nr.prototype.getCoordinate=function(){return this._p0},nr.prototype.setNode=function(t){this._node=t},nr.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),s=i.lastIndexOf("."),l=i.substring(s+1);t.print("  "+l+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},nr.prototype.compareTo=function(t){return this.compareDirection(t)},nr.prototype.getDirectedCoordinate=function(){return this._p1},nr.prototype.getDx=function(){return this._dx},nr.prototype.getLabel=function(){return this._label},nr.prototype.getEdge=function(){return this._edge},nr.prototype.getQuadrant=function(){return this._quadrant},nr.prototype.getNode=function(){return this._node},nr.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),i=e.lastIndexOf(".");return"  "+e.substring(i+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},nr.prototype.computeLabel=function(t){},nr.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=sn.quadrant(this._dx,this._dy),C.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},nr.prototype.interfaces_=function(){return[N]},nr.prototype.getClass=function(){return nr};var aa=function(t){function e(){var i=arguments[0],s=arguments[1];if(t.call(this,i),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=s,s)this.init(i.getCoordinate(0),i.getCoordinate(1));else{var l=i.getNumPoints()-1;this.init(i.getCoordinate(l),i.getCoordinate(l-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(i){return this._depth[i]},e.prototype.setVisited=function(i){this._isVisited=i},e.prototype.computeDirectedLabel=function(){this._label=new en(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(i,s){if(-999!==this._depth[i]&&this._depth[i]!==s)throw new Ri("assigned depths do not match",this.getCoordinate());this._depth[i]=s},e.prototype.isInteriorAreaEdge=function(){for(var i=!0,s=0;s<2;s++)this._label.isArea(s)&&this._label.getLocation(s,Gt.LEFT)===R.INTERIOR&&this._label.getLocation(s,Gt.RIGHT)===R.INTERIOR||(i=!1);return i},e.prototype.setNextMin=function(i){this._nextMin=i},e.prototype.print=function(i){t.prototype.print.call(this,i),i.print(" "+this._depth[Gt.LEFT]+"/"+this._depth[Gt.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")},e.prototype.setMinEdgeRing=function(i){this._minEdgeRing=i},e.prototype.isLineEdge=function(){var i=this._label.isLine(0)||this._label.isLine(1),s=!this._label.isArea(0)||this._label.allPositionsEqual(0,R.EXTERIOR),l=!this._label.isArea(1)||this._label.allPositionsEqual(1,R.EXTERIOR);return i&&s&&l},e.prototype.setEdgeRing=function(i){this._edgeRing=i},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i},e.prototype.setInResult=function(i){this._isInResult=i},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)},e.prototype.setSym=function(i){this._sym=i},e.prototype.setVisitedEdge=function(i){this.setVisited(i),this._sym.setVisited(i)},e.prototype.setEdgeDepths=function(i,s){var l=this.getEdge().getDepthDelta();this._isForward||(l=-l);var d=1;i===Gt.LEFT&&(d=-1);var _=Gt.opposite(i),w=s+l*d;this.setDepth(i,s),this.setDepth(_,w)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(i){this._next=i},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(i,s){return i===R.EXTERIOR&&s===R.INTERIOR?1:i===R.INTERIOR&&s===R.EXTERIOR?-1:0},e}(nr),wo=function(){};wo.prototype.createNode=function(t){return new us(t,null)},wo.prototype.interfaces_=function(){return[]},wo.prototype.getClass=function(){return wo};var vn=function(){this._edges=new Bt,this._nodes=null,this._edgeEndList=new Bt,0===arguments.length?this._nodes=new li(new wo):1===arguments.length&&(this._nodes=new li(arguments[0]))};vn.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var i=this._edges.get(e);i.print(t),i.eiList.print(t)}},vn.prototype.find=function(t){return this._nodes.find(t)},vn.prototype.addNode=function(){return arguments[0]instanceof us||arguments[0]instanceof I?this._nodes.addNode(arguments[0]):void 0},vn.prototype.getNodeIterator=function(){return this._nodes.iterator()},vn.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},vn.prototype.debugPrintln=function(t){Wt.out.println(t)},vn.prototype.isBoundaryNode=function(t,e){var i=this._nodes.find(e);if(null===i)return!1;var s=i.getLabel();return null!==s&&s.getLocation(t)===R.BOUNDARY},vn.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},vn.prototype.matchInSameDirection=function(t,e,i,s){return!!t.equals(i)&&Mt.computeOrientation(t,e,s)===Mt.COLLINEAR&&sn.quadrant(t,e)===sn.quadrant(i,s)},vn.prototype.getEdgeEnds=function(){return this._edgeEndList},vn.prototype.debugPrint=function(t){Wt.out.print(t)},vn.prototype.getEdgeIterator=function(){return this._edges.iterator()},vn.prototype.findEdgeInSameDirection=function(t,e){for(var i=0;i<this._edges.size();i++){var s=this._edges.get(i),l=s.getCoordinates();if(this.matchInSameDirection(t,e,l[0],l[1])||this.matchInSameDirection(t,e,l[l.length-1],l[l.length-2]))return s}return null},vn.prototype.insertEdge=function(t){this._edges.add(t)},vn.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var i=e.next();if(i.getEdge()===t)return i}return null},vn.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this._edges.add(i);var s=new aa(i,!0),l=new aa(i,!1);s.setSym(l),l.setSym(s),this.add(s),this.add(l)}},vn.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},vn.prototype.getNodes=function(){return this._nodes.values()},vn.prototype.findEdge=function(t,e){for(var i=0;i<this._edges.size();i++){var s=this._edges.get(i),l=s.getCoordinates();if(t.equals(l[0])&&e.equals(l[1]))return s}return null},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var vr=function(){this._geometryFactory=null,this._shellList=new Bt,this._geometryFactory=arguments[0]};vr.prototype.sortShellsAndHoles=function(t,e,i){for(var s=t.iterator();s.hasNext();){var l=s.next();l.isHole()?i.add(l):e.add(l)}},vr.prototype.computePolygons=function(t){for(var e=new Bt,i=t.iterator();i.hasNext();){var s=i.next().toPolygon(this._geometryFactory);e.add(s)}return e},vr.prototype.placeFreeHoles=function(t,e){for(var i=e.iterator();i.hasNext();){var s=i.next();if(null===s.getShell()){var l=this.findEdgeRingContaining(s,t);if(null===l)throw new Ri("unable to assign hole to a shell",s.getCoordinate(0));s.setShell(l)}}},vr.prototype.buildMinimalEdgeRings=function(t,e,i){for(var s=new Bt,l=t.iterator();l.hasNext();){var d=l.next();if(d.getMaxNodeDegree()>2){d.linkDirectedEdgesForMinimalEdgeRings();var _=d.buildMinimalRings(),w=this.findShell(_);null!==w?(this.placePolygonHoles(w,_),e.add(w)):i.addAll(_)}else s.add(d)}return s},vr.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},vr.prototype.buildMaximalEdgeRings=function(t){for(var e=new Bt,i=t.iterator();i.hasNext();){var s=i.next();if(s.isInResult()&&s.getLabel().isArea()&&null===s.getEdgeRing()){var l=new fl(s,this._geometryFactory);e.add(l),l.setInResult()}}return e},vr.prototype.placePolygonHoles=function(t,e){for(var i=e.iterator();i.hasNext();){var s=i.next();s.isHole()&&s.setShell(t)}},vr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},vr.prototype.findEdgeRingContaining=function(t,e){for(var i=t.getLinearRing(),s=i.getEnvelopeInternal(),l=i.getCoordinateN(0),d=null,_=null,w=e.iterator();w.hasNext();){var F=w.next(),et=F.getLinearRing(),_t=et.getEnvelopeInternal();null!==d&&(_=d.getLinearRing().getEnvelopeInternal());var Pt=!1;_t.contains(s)&&Mt.isPointInRing(l,et.getCoordinates())&&(Pt=!0),Pt&&(null===d||_.contains(_t))&&(d=F)}return d},vr.prototype.findShell=function(t){for(var e=0,i=null,s=t.iterator();s.hasNext();){var l=s.next();l.isHole()||(i=l,e++)}return C.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),i},vr.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];vn.linkResultDirectedEdges(arguments[1]);var s=this.buildMaximalEdgeRings(e),l=new Bt,d=this.buildMinimalEdgeRings(s,this._shellList,l);this.sortShellsAndHoles(d,this._shellList,l),this.placeFreeHoles(this._shellList,l)}},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr};var Io=function(){};Io.prototype.getBounds=function(){},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io};var qr=function(){this._bounds=null,this._item=null;var e=arguments[1];this._bounds=arguments[0],this._item=e};qr.prototype.getItem=function(){return this._item},qr.prototype.getBounds=function(){return this._bounds},qr.prototype.interfaces_=function(){return[Io,B]},qr.prototype.getClass=function(){return qr};var Ai=function(){this._size=null,this._items=null,this._size=0,this._items=new Bt,this._items.add(null)};Ai.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Ai.prototype.size=function(){return this._size},Ai.prototype.reorder=function(t){for(var e=null,i=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(i)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,i)},Ai.prototype.clear=function(){this._size=0,this._items.clear()},Ai.prototype.isEmpty=function(){return 0===this._size},Ai.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai};var Yi=function(){};Yi.prototype.visitItem=function(t){},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi};var So=function(){};So.prototype.insert=function(t,e){},So.prototype.remove=function(t,e){},So.prototype.query=function(){},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So};var Dn=function(){this._childBoundables=new Bt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},Ka={serialVersionUID:{configurable:!0}};Dn.prototype.getLevel=function(){return this._level},Dn.prototype.size=function(){return this._childBoundables.size()},Dn.prototype.getChildBoundables=function(){return this._childBoundables},Dn.prototype.addChildBoundable=function(t){C.isTrue(null===this._bounds),this._childBoundables.add(t)},Dn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Dn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Dn.prototype.interfaces_=function(){return[Io,B]},Dn.prototype.getClass=function(){return Dn},Ka.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Dn,Ka);var zr=function(){};zr.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},zr.min=function(t){return zr.sort(t),t.get(0)},zr.sort=function(t,e){var i=t.toArray();e?Xi.sort(i,e):Xi.sort(i);for(var s=t.iterator(),l=0,d=i.length;l<d;l++)s.next(),s.set(i[l])},zr.singletonList=function(t){var e=new Bt;return e.add(t),e};var Nn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[1],i=arguments[2];this._boundable1=arguments[0],this._boundable2=e,this._itemDistance=i,this._distance=this.distance()};Nn.prototype.expandToQueue=function(t,e){var i=Nn.isComposite(this._boundable1),s=Nn.isComposite(this._boundable2);if(i&&s)return Nn.area(this._boundable1)>Nn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(i)return this.expand(this._boundable1,this._boundable2,t,e),null;if(s)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new S("neither boundable is composite")},Nn.prototype.isLeaves=function(){return!(Nn.isComposite(this._boundable1)||Nn.isComposite(this._boundable2))},Nn.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Nn.prototype.expand=function(t,e,i,s){for(var l=t.getChildBoundables().iterator();l.hasNext();){var d=l.next(),_=new Nn(d,e,this._itemDistance);_.getDistance()<s&&i.add(_)}},Nn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Nn.prototype.getDistance=function(){return this._distance},Nn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Nn.prototype.interfaces_=function(){return[N]},Nn.prototype.getClass=function(){return Nn},Nn.area=function(t){return t.getBounds().getArea()},Nn.isComposite=function(t){return t instanceof Dn};var Un=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Bt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var i=arguments[0];C.isTrue(i>1,"Node capacity must be greater than 1"),this._nodeCapacity=i}},Os={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Un.prototype.getNodeCapacity=function(){return this._nodeCapacity},Un.prototype.lastNode=function(t){return t.get(t.size()-1)},Un.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var i=e.next();i instanceof Dn?t+=this.size(i):i instanceof qr&&(t+=1)}return t}},Un.prototype.removeItem=function(t,e){for(var i=null,s=t.getChildBoundables().iterator();s.hasNext();){var l=s.next();l instanceof qr&&l.getItem()===e&&(i=l)}return null!==i&&(t.getChildBoundables().remove(i),!0)},Un.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Bt:t}if(1===arguments.length){for(var e=arguments[0],i=new Bt,s=e.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(l instanceof Dn){var d=this.itemsTree(l);null!==d&&i.add(d)}else l instanceof qr?i.add(l.getItem()):C.shouldNeverReachHere()}return i.size()<=0?null:i}},Un.prototype.insert=function(t,e){C.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new qr(t,e))},Un.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Bt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var i=arguments[0],s=arguments[1],l=arguments[2];if(C.isTrue(i>-2),s.getLevel()===i)return l.add(s),null;for(var d=s.getChildBoundables().iterator();d.hasNext();){var _=d.next();_ instanceof Dn?this.boundablesAtLevel(i,_,l):(C.isTrue(_ instanceof qr),-1===i&&l.add(_))}return null}},Un.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Bt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var i=arguments[0],s=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,s)}else if(3===arguments.length)if(Ct(arguments[2],Yi)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)for(var l=arguments[0],_=arguments[2],w=arguments[1].getChildBoundables(),F=0;F<w.size();F++){var et=w.get(F);this.getIntersectsOp().intersects(et.getBounds(),l)&&(et instanceof Dn?this.query(l,et,_):et instanceof qr?_.visitItem(et.getItem()):C.shouldNeverReachHere())}else if(Ct(arguments[2],Gn)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)for(var _t=arguments[0],zt=arguments[2],qt=arguments[1].getChildBoundables(),Zt=0;Zt<qt.size();Zt++){var Jt=qt.get(Zt);this.getIntersectsOp().intersects(Jt.getBounds(),_t)&&(Jt instanceof Dn?this.query(_t,Jt,zt):Jt instanceof qr?zt.add(Jt.getItem()):C.shouldNeverReachHere())}},Un.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Un.prototype.getRoot=function(){return this.build(),this._root},Un.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var i=arguments[0],s=arguments[1],l=arguments[2],d=this.removeItem(s,l);if(d)return!0;for(var _=null,w=s.getChildBoundables().iterator();w.hasNext();){var F=w.next();if(this.getIntersectsOp().intersects(F.getBounds(),i)&&F instanceof Dn&&(d=this.remove(i,F,l))){_=F;break}}return null!==_&&_.getChildBoundables().isEmpty()&&s.getChildBoundables().remove(_),d}},Un.prototype.createHigherLevels=function(t,e){C.isTrue(!t.isEmpty());var i=this.createParentBoundables(t,e+1);return 1===i.size()?i.get(0):this.createHigherLevels(i,e+1)},Un.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var i=e.next();if(i instanceof Dn){var s=this.depth(i);s>t&&(t=s)}}return t+1}},Un.prototype.createParentBoundables=function(t,e){C.isTrue(!t.isEmpty());var i=new Bt;i.add(this.createNode(e));var s=new Bt(t);zr.sort(s,this.getComparator());for(var l=s.iterator();l.hasNext();){var d=l.next();this.lastNode(i).getChildBoundables().size()===this.getNodeCapacity()&&i.add(this.createNode(e)),this.lastNode(i).addChildBoundable(d)}return i},Un.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Un.prototype.interfaces_=function(){return[B]},Un.prototype.getClass=function(){return Un},Un.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Os.IntersectsOp.get=function(){return cl},Os.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Os.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Un,Os);var cl=function(){},zo=function(){};zo.prototype.distance=function(t,e){},zo.prototype.interfaces_=function(){return[]},zo.prototype.getClass=function(){return zo};var Qa=function(t){function e(s){t.call(this,s=s||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(s,l){C.isTrue(s.length>0);for(var d=new Bt,_=0;_<s.length;_++)d.addAll(this.createParentBoundablesFromVerticalSlice(s[_],l));return d},e.prototype.createNode=function(s){return new tu(s)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var s=arguments[0],l=arguments[1];if(s.isNull())return null;t.prototype.insert.call(this,s,l)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(s,l){for(var d=Math.trunc(Math.ceil(s.size()/l)),_=new Array(l).fill(null),w=s.iterator(),F=0;F<l;F++){_[F]=new Bt;for(var et=0;w.hasNext()&&et<d;){var _t=w.next();_[F].add(_t),et++}}return _},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Ct(arguments[2],Yi)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn||Ct(arguments[2],Gn)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(s,l){return t.prototype.createParentBoundables.call(this,s,l)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(s,l){C.isTrue(!s.isEmpty());var d=Math.trunc(Math.ceil(s.size()/this.getNodeCapacity())),_=new Bt(s);zr.sort(_,e.xComparator);var w=this.verticalSlices(_,Math.trunc(Math.ceil(Math.sqrt(d))));return this.createParentBoundablesFromVerticalSlices(w,l)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Ct(arguments[0],zo)){var s=arguments[0],l=new Nn(this.getRoot(),this.getRoot(),s);return this.nearestNeighbour(l)}if(arguments[0]instanceof Nn)return this.nearestNeighbour(arguments[0],P.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&Ct(arguments[1],zo)){var _=arguments[0],w=arguments[1],F=new Nn(this.getRoot(),_.getRoot(),w);return this.nearestNeighbour(F)}if(arguments[0]instanceof Nn&&"number"==typeof arguments[1]){var et=arguments[0],_t=arguments[1],Pt=null,zt=new Ai;for(zt.add(et);!zt.isEmpty()&&_t>0;){var qt=zt.poll(),Zt=qt.getDistance();if(Zt>=_t)break;qt.isLeaves()?(_t=Zt,Pt=qt):qt.expandToQueue(zt,_t)}return[Pt.getBoundable(0).getItem(),Pt.getBoundable(1).getItem()]}}else if(3===arguments.length){var Ee=arguments[2],nn=new qr(arguments[0],arguments[1]),ge=new Nn(this.getRoot(),nn,Ee);return this.nearestNeighbour(ge)[0]}},e.prototype.interfaces_=function(){return[So,B]},e.prototype.getClass=function(){return e},e.centreX=function(s){return e.avg(s.getMinX(),s.getMaxX())},e.avg=function(s,l){return(s+l)/2},e.centreY=function(s){return e.avg(s.getMinY(),s.getMaxY())},i.STRtreeNode.get=function(){return tu},i.serialVersionUID.get=function(){return 0x39920f7d5f261e0},i.xComparator.get=function(){return{interfaces_:function(){return[O]},compare:function(s,l){return t.compareDoubles(e.centreX(s.getBounds()),e.centreX(l.getBounds()))}}},i.yComparator.get=function(){return{interfaces_:function(){return[O]},compare:function(s,l){return t.compareDoubles(e.centreY(s.getBounds()),e.centreY(l.getBounds()))}}},i.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(s,l){return s.intersects(l)}}},i.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,i),e}(Un),tu=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var i=null,s=this.getChildBoundables().iterator();s.hasNext();){var l=s.next();null===i?i=new kt(l.getBounds()):i.expandToInclude(l.getBounds())}return i},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dn),fr=function(){};fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr},fr.relativeSign=function(t,e){return t<e?-1:t>e?1:0},fr.compare=function(t,e,i){if(e.equals2D(i))return 0;var s=fr.relativeSign(e.x,i.x),l=fr.relativeSign(e.y,i.y);switch(t){case 0:return fr.compareValue(s,l);case 1:return fr.compareValue(l,s);case 2:return fr.compareValue(l,-s);case 3:return fr.compareValue(-s,l);case 4:return fr.compareValue(-s,-l);case 5:return fr.compareValue(-l,-s);case 6:return fr.compareValue(-l,s);case 7:return fr.compareValue(s,-l)}return C.shouldNeverReachHere("invalid octant value"),0},fr.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Ui=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],i=arguments[2],s=arguments[3];this._segString=t,this.coord=new I(e),this.segmentIndex=i,this._segmentOctant=s,this._isInterior=!e.equals2D(t.getCoordinate(i))};Ui.prototype.getCoordinate=function(){return this.coord},Ui.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Ui.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:fr.compare(this._segmentOctant,this.coord,e.coord)},Ui.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Ui.prototype.isInterior=function(){return this._isInterior},Ui.prototype.interfaces_=function(){return[N]},Ui.prototype.getClass=function(){return Ui};var cr=function(){this._nodeMap=new xt,this._edge=null,this._edge=arguments[0]};cr.prototype.getSplitCoordinates=function(){var t=new Jr;this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var s=e.next();this.addEdgeCoordinates(i,s,t),i=s}return t.toCoordinateArray()},cr.prototype.addCollapsedNodes=function(){var t=new Bt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var i=e.next().intValue();this.add(this._edge.getCoordinate(i),i)}},cr.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cr.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var i=this._edge.getCoordinate(e),s=this._edge.getCoordinate(e+2);i.equals2D(s)&&t.add(new ot(e+1))}},cr.prototype.addEdgeCoordinates=function(t,e,i){var s=this._edge.getCoordinate(e.segmentIndex),l=e.isInterior()||!e.coord.equals2D(s);i.add(new I(t.coord),!1);for(var d=t.segmentIndex+1;d<=e.segmentIndex;d++)i.add(this._edge.getCoordinate(d));l&&i.add(new I(e.coord))},cr.prototype.iterator=function(){return this._nodeMap.values().iterator()},cr.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),i=e.next();e.hasNext();){var s=e.next(),l=this.createSplitEdge(i,s);t.add(l),i=s}},cr.prototype.findCollapseIndex=function(t,e,i){if(!t.coord.equals2D(e.coord))return!1;var s=e.segmentIndex-t.segmentIndex;return e.isInterior()||s--,1===s&&(i[0]=t.segmentIndex+1,!0)},cr.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),i=this.iterator(),s=i.next();i.hasNext();){var l=i.next();this.findCollapseIndex(s,l,e)&&t.add(new ot(e[0])),s=l}},cr.prototype.getEdge=function(){return this._edge},cr.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cr.prototype.createSplitEdge=function(t,e){var i=e.segmentIndex-t.segmentIndex+2,s=this._edge.getCoordinate(e.segmentIndex),l=e.isInterior()||!e.coord.equals2D(s);l||i--;var d=new Array(i).fill(null),_=0;d[_++]=new I(t.coord);for(var w=t.segmentIndex+1;w<=e.segmentIndex;w++)d[_++]=this._edge.getCoordinate(w);return l&&(d[_]=new I(e.coord)),new Mn(d,this._edge.getData())},cr.prototype.add=function(t,e){var i=new Ui(this._edge,t,e,this._edge.getSegmentOctant(e)),s=this._nodeMap.get(i);return null!==s?(C.isTrue(s.coord.equals2D(t),"Found equal nodes with different coordinates"),s):(this._nodeMap.put(i,i),i)},cr.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),i=t.get(0).getCoordinate(0);if(!i.equals2D(e[0]))throw new A("bad split edge start point at "+i);var s=t.get(t.size()-1).getCoordinates(),l=s[s.length-1];if(!l.equals2D(e[e.length-1]))throw new A("bad split edge end point at "+l)},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr};var Po=function(){};Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po},Po.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new S("Cannot compute the octant for point ( "+t+", "+e+" )");var i=Math.abs(t),s=Math.abs(e);return t>=0?e>=0?i>=s?0:1:i>=s?7:6:e>=0?i>=s?3:2:i>=s?4:5}if(arguments[0]instanceof I&&arguments[1]instanceof I){var l=arguments[0],d=arguments[1],_=d.x-l.x,w=d.y-l.y;if(0===_&&0===w)throw new S("Cannot compute the octant for two identical points "+l);return Po.octant(_,w)}};var Ni=function(){};Ni.prototype.getCoordinates=function(){},Ni.prototype.size=function(){},Ni.prototype.getCoordinate=function(t){},Ni.prototype.isClosed=function(){},Ni.prototype.setData=function(t){},Ni.prototype.getData=function(){},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni};var fs=function(){};fs.prototype.addIntersection=function(t,e){},fs.prototype.interfaces_=function(){return[Ni]},fs.prototype.getClass=function(){return fs};var Mn=function(){this._nodeList=new cr(this),this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};Mn.prototype.getCoordinates=function(){return this._pts},Mn.prototype.size=function(){return this._pts.length},Mn.prototype.getCoordinate=function(t){return this._pts[t]},Mn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Mn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Mn.prototype.setData=function(t){this._data=t},Mn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Po.octant(t,e)},Mn.prototype.getData=function(){return this._data},Mn.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var s=arguments[1],d=new I(arguments[0].getIntersection(arguments[3]));this.addIntersection(d,s)}},Mn.prototype.toString=function(){return pt.toLineString(new Cn(this._pts))},Mn.prototype.getNodeList=function(){return this._nodeList},Mn.prototype.addIntersectionNode=function(t,e){var i=e,s=i+1;return s<this._pts.length&&t.equals2D(this._pts[s])&&(i=s),this._nodeList.add(t,i)},Mn.prototype.addIntersections=function(t,e,i){for(var s=0;s<t.getIntersectionNum();s++)this.addIntersection(t,e,i,s)},Mn.prototype.interfaces_=function(){return[fs]},Mn.prototype.getClass=function(){return Mn},Mn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Bt;return Mn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var s=arguments[1],l=arguments[0].iterator();l.hasNext();)l.next().getNodeList().addSplitEdges(s)};var te=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new I,this.p1=new I;else if(1===arguments.length){var t=arguments[0];this.p0=new I(t.p0),this.p1=new I(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var s=arguments[2],l=arguments[3];this.p0=new I(arguments[0],arguments[1]),this.p1=new I(s,l)}},Rs={serialVersionUID:{configurable:!0}};te.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},te.prototype.orientationIndex=function(){if(arguments[0]instanceof te){var t=arguments[0],e=Mt.orientationIndex(this.p0,this.p1,t.p0),i=Mt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&i>=0||e<=0&&i<=0?Math.max(e,i):0}if(arguments[0]instanceof I)return Mt.orientationIndex(this.p0,this.p1,arguments[0])},te.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},te.prototype.isVertical=function(){return this.p0.x===this.p1.x},te.prototype.equals=function(t){if(!(t instanceof te))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},te.prototype.intersection=function(t){var e=new wt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},te.prototype.project=function(){if(arguments[0]instanceof I){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new I(t);var e=this.projectionFactor(t),i=new I;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof te){var s=arguments[0],l=this.projectionFactor(s.p0),d=this.projectionFactor(s.p1);if(l>=1&&d>=1||l<=0&&d<=0)return null;var _=this.project(s.p0);l<0&&(_=this.p0),l>1&&(_=this.p1);var w=this.project(s.p1);return d<0&&(w=this.p0),d>1&&(w=this.p1),new te(_,w)}},te.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},te.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},te.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},te.prototype.distancePerpendicular=function(t){return Mt.distancePointLinePerpendicular(t,this.p0,this.p1)},te.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},te.prototype.midPoint=function(){return te.midPoint(this.p0,this.p1)},te.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,s=e*e+i*i;return s<=0?P.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*i)/s},te.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var i=new Array(2).fill(null),s=P.MAX_VALUE,l=null,d=this.closestPoint(t.p0);s=d.distance(t.p0),i[0]=d,i[1]=t.p0;var _=this.closestPoint(t.p1);(l=_.distance(t.p1))<s&&(s=l,i[0]=_,i[1]=t.p1);var w=t.closestPoint(this.p0);(l=w.distance(this.p0))<s&&(s=l,i[0]=this.p0,i[1]=w);var F=t.closestPoint(this.p1);return(l=F.distance(this.p1))<s&&(s=l,i[0]=this.p1,i[1]=F),i},te.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},te.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},te.prototype.getLength=function(){return this.p0.distance(this.p1)},te.prototype.compareTo=function(t){var e=t,i=this.p0.compareTo(e.p0);return 0!==i?i:this.p1.compareTo(e.p1)},te.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},te.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},te.prototype.lineIntersection=function(t){try{return jt.intersection(this.p0,this.p1,t.p0,t.p1)}catch(e){if(!(e instanceof oe))throw e}return null},te.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},te.prototype.pointAlongOffset=function(t,e){var i=this.p0.x+t*(this.p1.x-this.p0.x),s=this.p0.y+t*(this.p1.y-this.p0.y),l=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,_=Math.sqrt(l*l+d*d),w=0,F=0;if(0!==e){if(_<=0)throw new Error("Cannot compute offset from zero-length line segment");w=e*l/_,F=e*d/_}return new I(i-F,s+w)},te.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=i.x,this.p1.y=i.y}},te.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||P.isNaN(e))&&(e=1),e},te.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},te.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},te.prototype.distance=function(){if(arguments[0]instanceof te){var t=arguments[0];return Mt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof I)return Mt.distancePointLine(arguments[0],this.p0,this.p1)},te.prototype.pointAlong=function(t){var e=new I;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},te.prototype.hashCode=function(){var t=P.doubleToLongBits(this.p0.x);t^=31*P.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),i=P.doubleToLongBits(this.p1.x);return i^=31*P.doubleToLongBits(this.p1.y),e^Math.trunc(i)^Math.trunc(i>>32)},te.prototype.interfaces_=function(){return[N,B]},te.prototype.getClass=function(){return te},te.midPoint=function(t,e){return new I((t.x+e.x)/2,(t.y+e.y)/2)},Rs.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(te,Rs);var Xo=function(){this.tempEnv1=new kt,this.tempEnv2=new kt,this._overlapSeg1=new te,this._overlapSeg2=new te};Xo.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var i=arguments[2],s=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),i.getLineSegment(s,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Xo.prototype.interfaces_=function(){return[]},Xo.prototype.getClass=function(){return Xo};var Cr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[1],i=arguments[2],s=arguments[3];this._pts=arguments[0],this._start=e,this._end=i,this._context=s};Cr.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Cr.prototype.computeSelect=function(t,e,i,s){if(s.tempEnv1.init(this._pts[e],this._pts[i]),i-e==1)return s.select(this,e),null;if(!t.intersects(s.tempEnv1))return null;var _=Math.trunc((e+i)/2);e<_&&this.computeSelect(t,e,_,s),_<i&&this.computeSelect(t,_,i,s)},Cr.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,i=this._start;i<=this._end;i++)t[e++]=this._pts[i];return t},Cr.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Cr.prototype.setId=function(t){this._id=t},Cr.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Cr.prototype.getEnvelope=function(){return null===this._env&&(this._env=new kt(this._pts[this._start],this._pts[this._end])),this._env},Cr.prototype.getEndIndex=function(){return this._end},Cr.prototype.getStartIndex=function(){return this._start},Cr.prototype.getContext=function(){return this._context},Cr.prototype.getId=function(){return this._id},Cr.prototype.computeOverlapsInternal=function(t,e,i,s,l,d){var _=this._pts[t],w=this._pts[e],F=i._pts[s],et=i._pts[l];if(e-t==1&&l-s==1)return d.overlap(this,t,i,s),null;if(d.tempEnv1.init(_,w),d.tempEnv2.init(F,et),!d.tempEnv1.intersects(d.tempEnv2))return null;var _t=Math.trunc((t+e)/2),Pt=Math.trunc((s+l)/2);t<_t&&(s<Pt&&this.computeOverlapsInternal(t,_t,i,s,Pt,d),Pt<l&&this.computeOverlapsInternal(t,_t,i,Pt,l,d)),_t<e&&(s<Pt&&this.computeOverlapsInternal(_t,e,i,s,Pt,d),Pt<l&&this.computeOverlapsInternal(_t,e,i,Pt,l,d))},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var fi=function(){};fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},fi.getChainStartIndices=function(t){var e=0,i=new Bt;i.add(new ot(e));do{var s=fi.findChainEnd(t,e);i.add(new ot(s)),e=s}while(e<t.length-1);return fi.toIntArray(i)},fi.findChainEnd=function(t,e){for(var i=e;i<t.length-1&&t[i].equals2D(t[i+1]);)i++;if(i>=t.length-1)return t.length-1;for(var s=sn.quadrant(t[i],t[i+1]),l=e+1;l<t.length&&(t[l-1].equals2D(t[l])||sn.quadrant(t[l-1],t[l])===s);)l++;return l-1},fi.getChains=function(){if(1===arguments.length)return fi.getChains(arguments[0],null);if(2===arguments.length){for(var e=arguments[0],i=arguments[1],s=new Bt,l=fi.getChainStartIndices(e),d=0;d<l.length-1;d++){var _=new Cr(e,l[d],l[d+1],i);s.add(_)}return s}},fi.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e};var oo=function(){};oo.prototype.computeNodes=function(t){},oo.prototype.getNodedSubstrings=function(){},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var cs=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};cs.prototype.setSegmentIntersector=function(t){this._segInt=t},cs.prototype.interfaces_=function(){return[oo]},cs.prototype.getClass=function(){return cs};var As=function(t){function e(s){s?t.call(this,s):t.call(this),this._monoChains=new Bt,this._index=new Qa,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Mn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(s){for(var l=fi.getChains(s.getCoordinates(),s).iterator();l.hasNext();){var d=l.next();d.setId(this._idCounter++),this._index.insert(d.getEnvelope(),d),this._monoChains.add(d)}},e.prototype.computeNodes=function(s){this._nodedSegStrings=s;for(var l=s.iterator();l.hasNext();)this.add(l.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var s=new ua(this._segInt),l=this._monoChains.iterator();l.hasNext();)for(var d=l.next(),_=this._index.query(d.getEnvelope()).iterator();_.hasNext();){var w=_.next();if(w.getId()>d.getId()&&(d.computeOverlaps(w,s),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},i.SegmentOverlapAction.get=function(){return ua},Object.defineProperties(e,i),e}(cs),ua=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var s=arguments[1],l=arguments[2],d=arguments[3],_=arguments[0].getContext(),w=l.getContext();this._si.processIntersections(_,s,w,d)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xo),Le=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var s=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(s)}else if(4===arguments.length){var d=arguments[1],_=arguments[2],w=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(d),this.setJoinStyle(_),this.setMitreLimit(w)}},Ti={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Le.prototype.getEndCapStyle=function(){return this._endCapStyle},Le.prototype.isSingleSided=function(){return this._isSingleSided},Le.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Le.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Le.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Le.JOIN_ROUND&&(this._quadrantSegments=Le.DEFAULT_QUADRANT_SEGMENTS)},Le.prototype.getJoinStyle=function(){return this._joinStyle},Le.prototype.setJoinStyle=function(t){this._joinStyle=t},Le.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Le.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Le.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Le.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Le.prototype.getMitreLimit=function(){return this._mitreLimit},Le.prototype.setMitreLimit=function(t){this._mitreLimit=t},Le.prototype.setSingleSided=function(t){this._isSingleSided=t},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le},Le.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ti.CAP_ROUND.get=function(){return 1},Ti.CAP_FLAT.get=function(){return 2},Ti.CAP_SQUARE.get=function(){return 3},Ti.JOIN_ROUND.get=function(){return 1},Ti.JOIN_MITRE.get=function(){return 2},Ti.JOIN_BEVEL.get=function(){return 3},Ti.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ti.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ti.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Le,Ti);var En=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Mt.COUNTERCLOCKWISE,this._inputLine=t||null},hs={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};En.prototype.isDeletable=function(t,e,i,s){var l=this._inputLine[t],d=this._inputLine[e],_=this._inputLine[i];return!!this.isConcave(l,d,_)&&!!this.isShallow(l,d,_,s)&&this.isShallowSampled(l,d,t,i,s)},En.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(e),s=!1;i<this._inputLine.length;){var l=!1;this.isDeletable(t,e,i,this._distanceTol)&&(this._isDeleted[e]=En.DELETE,l=!0,s=!0),e=this.findNextNonDeletedIndex(t=l?i:e),i=this.findNextNonDeletedIndex(e)}return s},En.prototype.isShallowConcavity=function(t,e,i,s){return Mt.computeOrientation(t,e,i)===this._angleOrientation&&Mt.distancePointLine(e,t,i)<s},En.prototype.isShallowSampled=function(t,e,i,s,l){var d=Math.trunc((s-i)/En.NUM_PTS_TO_CHECK);d<=0&&(d=1);for(var _=i;_<s;_+=d)if(!this.isShallow(t,e,this._inputLine[_],l))return!1;return!0},En.prototype.isConcave=function(t,e,i){return Mt.computeOrientation(t,e,i)===this._angleOrientation},En.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Mt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},En.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===En.DELETE;)e++;return e},En.prototype.isShallow=function(t,e,i,s){return Mt.distancePointLine(e,t,i)<s},En.prototype.collapseLine=function(){for(var t=new Jr,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==En.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En},En.simplify=function(t,e){return new En(t).simplify(e)},hs.INIT.get=function(){return 0},hs.DELETE.get=function(){return 1},hs.KEEP.get=function(){return 1},hs.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(En,hs);var mr=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Bt},eu={COORDINATE_ARRAY_TYPE:{configurable:!0}};mr.prototype.getCoordinates=function(){return this._ptList.toArray(mr.COORDINATE_ARRAY_TYPE)},mr.prototype.setPrecisionModel=function(t){this._precisionModel=t},mr.prototype.addPt=function(t){var e=new I(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},mr.prototype.revere=function(){},mr.prototype.addPts=function(t,e){if(e)for(var i=0;i<t.length;i++)this.addPt(t[i]);else for(var s=t.length-1;s>=0;s--)this.addPt(t[s])},mr.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},mr.prototype.toString=function(){return(new xe).createLineString(this.getCoordinates()).toString()},mr.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new I(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},mr.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},eu.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(mr,eu);var Se=function(){},Co={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.toDegrees=function(t){return 180*t/Math.PI},Se.normalize=function(t){for(;t>Math.PI;)t-=Se.PI_TIMES_2;for(;t<=-Math.PI;)t+=Se.PI_TIMES_2;return t},Se.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return Math.atan2(i.y-e.y,i.x-e.x)}},Se.isAcute=function(t,e,i){return(t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y)>0},Se.isObtuse=function(t,e,i){return(t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y)<0},Se.interiorAngle=function(t,e,i){var s=Se.angle(e,t),l=Se.angle(e,i);return Math.abs(l-s)},Se.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Se.PI_TIMES_2;t>=Se.PI_TIMES_2&&(t=0)}else{for(;t>=Se.PI_TIMES_2;)t-=Se.PI_TIMES_2;t<0&&(t=0)}return t},Se.angleBetween=function(t,e,i){var s=Se.angle(e,t),l=Se.angle(e,i);return Se.diff(s,l)},Se.diff=function(t,e){var i=null;return(i=t<e?e-t:t-e)>Math.PI&&(i=2*Math.PI-i),i},Se.toRadians=function(t){return t*Math.PI/180},Se.getTurn=function(t,e){var i=Math.sin(e-t);return i>0?Se.COUNTERCLOCKWISE:i<0?Se.CLOCKWISE:Se.NONE},Se.angleBetweenOriented=function(t,e,i){var s=Se.angle(e,t),l=Se.angle(e,i)-s;return l<=-Math.PI?l+Se.PI_TIMES_2:l>Math.PI?l-Se.PI_TIMES_2:l},Co.PI_TIMES_2.get=function(){return 2*Math.PI},Co.PI_OVER_2.get=function(){return Math.PI/2},Co.PI_OVER_4.get=function(){return Math.PI/4},Co.COUNTERCLOCKWISE.get=function(){return Mt.COUNTERCLOCKWISE},Co.CLOCKWISE.get=function(){return Mt.CLOCKWISE},Co.NONE.get=function(){return Mt.COLLINEAR},Object.defineProperties(Se,Co);var gn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new te,this._seg1=new te,this._offset0=new te,this._offset1=new te,this._side=0,this._hasNarrowConcaveAngle=!1;var i=arguments[1],s=arguments[2];this._precisionModel=arguments[0],this._bufParams=i,this._li=new wt,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===Le.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(s)},Yo={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};gn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var i=Mt.computeOrientation(this._s0,this._s1,this._s2),s=i===Mt.CLOCKWISE&&this._side===Gt.LEFT||i===Mt.COUNTERCLOCKWISE&&this._side===Gt.RIGHT;0===i?this.addCollinear(e):s?this.addOutsideTurn(i,e):this.addInsideTurn(i,e)},gn.prototype.addLineEndCap=function(t,e){var i=new te(t,e),s=new te;this.computeOffsetSegment(i,Gt.LEFT,this._distance,s);var l=new te;this.computeOffsetSegment(i,Gt.RIGHT,this._distance,l);var w=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case Le.CAP_ROUND:this._segList.addPt(s.p1),this.addFilletArc(e,w+Math.PI/2,w-Math.PI/2,Mt.CLOCKWISE,this._distance),this._segList.addPt(l.p1);break;case Le.CAP_FLAT:this._segList.addPt(s.p1),this._segList.addPt(l.p1);break;case Le.CAP_SQUARE:var F=new I;F.x=Math.abs(this._distance)*Math.cos(w),F.y=Math.abs(this._distance)*Math.sin(w);var et=new I(s.p1.x+F.x,s.p1.y+F.y),_t=new I(l.p1.x+F.x,l.p1.y+F.y);this._segList.addPt(et),this._segList.addPt(_t)}},gn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},gn.prototype.addMitreJoin=function(t,e,i,s){var l=!0,d=null;try{d=jt.intersection(e.p0,e.p1,i.p0,i.p1),(s<=0?1:d.distance(t)/Math.abs(s))>this._bufParams.getMitreLimit()&&(l=!1)}catch(_){if(!(_ instanceof oe))throw _;d=new I(0,0),l=!1}l?this._segList.addPt(d):this.addLimitedMitreJoin(e,i,s,this._bufParams.getMitreLimit())},gn.prototype.addFilletCorner=function(t,e,i,s,l){var w=Math.atan2(e.y-t.y,e.x-t.x),_t=Math.atan2(i.y-t.y,i.x-t.x);s===Mt.CLOCKWISE?w<=_t&&(w+=2*Math.PI):w>=_t&&(w-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,w,_t,s,l),this._segList.addPt(i)},gn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*gn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Le.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Le.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},gn.prototype.createSquare=function(t){this._segList.addPt(new I(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new I(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new I(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new I(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},gn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},gn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},gn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},gn.prototype.initSideSegments=function(t,e,i){this._s1=t,this._s2=e,this._side=i,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)},gn.prototype.addLimitedMitreJoin=function(t,e,i,s){var l=this._seg0.p1,d=Se.angle(l,this._seg0.p0),_=Se.angleBetweenOriented(this._seg0.p0,l,this._seg1.p1)/2,w=Se.normalize(d+_),F=Se.normalize(w+Math.PI),et=s*i,_t=i-et*Math.abs(Math.sin(_)),Pt=l.x+et*Math.cos(F),zt=l.y+et*Math.sin(F),qt=new I(Pt,zt),Zt=new te(l,qt),Jt=Zt.pointAlongOffset(1,_t),me=Zt.pointAlongOffset(1,-_t);this._side===Gt.LEFT?(this._segList.addPt(Jt),this._segList.addPt(me)):(this._segList.addPt(me),this._segList.addPt(Jt))},gn.prototype.computeOffsetSegment=function(t,e,i,s){var l=e===Gt.LEFT?1:-1,d=t.p1.x-t.p0.x,_=t.p1.y-t.p0.y,w=Math.sqrt(d*d+_*_),F=l*i*d/w,et=l*i*_/w;s.p0.x=t.p0.x-et,s.p0.y=t.p0.y+F,s.p1.x=t.p1.x-et,s.p1.y=t.p1.y+F},gn.prototype.addFilletArc=function(t,e,i,s,l){var d=s===Mt.CLOCKWISE?-1:1,_=Math.abs(e-i),w=Math.trunc(_/this._filletAngleQuantum+.5);if(w<1)return null;for(var F=_/w,et=0,_t=new I;et<_;){var Pt=e+d*et;_t.x=t.x+l*Math.cos(Pt),_t.y=t.y+l*Math.sin(Pt),this._segList.addPt(_t),et+=F}},gn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*gn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new I((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var s=new I((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},gn.prototype.createCircle=function(t){var e=new I(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},gn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},gn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new mr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*gn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},gn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Le.JOIN_BEVEL||this._bufParams.getJoinStyle()===Le.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Mt.CLOCKWISE,this._distance))},gn.prototype.closeRing=function(){this._segList.closeRing()},gn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},Yo.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Yo.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Yo.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Yo.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(gn,Yo);var _r=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[1];this._precisionModel=arguments[0],this._bufParams=e};_r.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var i=e<0,s=Math.abs(e),l=this.getSegGen(s);t.length<=1?this.computePointCurve(t[0],l):this.computeOffsetCurve(t,i,l);var d=l.getCoordinates();return i&&ye.reverse(d),d},_r.prototype.computeSingleSidedBufferCurve=function(t,e,i){var s=this.simplifyTolerance(this._distance);if(e){i.addSegments(t,!0);var l=En.simplify(t,-s),d=l.length-1;i.initSideSegments(l[d],l[d-1],Gt.LEFT),i.addFirstSegment();for(var _=d-2;_>=0;_--)i.addNextSegment(l[_],!0)}else{i.addSegments(t,!1);var w=En.simplify(t,s),F=w.length-1;i.initSideSegments(w[0],w[1],Gt.LEFT),i.addFirstSegment();for(var et=2;et<=F;et++)i.addNextSegment(w[et],!0)}i.addLastSegment(),i.closeRing()},_r.prototype.computeRingBufferCurve=function(t,e,i){var s=this.simplifyTolerance(this._distance);e===Gt.RIGHT&&(s=-s);var l=En.simplify(t,s),d=l.length-1;i.initSideSegments(l[d-1],l[0],e);for(var _=1;_<=d;_++)i.addNextSegment(l[_],1!==_);i.closeRing()},_r.prototype.computeLineBufferCurve=function(t,e){var i=this.simplifyTolerance(this._distance),s=En.simplify(t,i),l=s.length-1;e.initSideSegments(s[0],s[1],Gt.LEFT);for(var d=2;d<=l;d++)e.addNextSegment(s[d],!0);e.addLastSegment(),e.addLineEndCap(s[l-1],s[l]);var _=En.simplify(t,-i),w=_.length-1;e.initSideSegments(_[w],_[w-1],Gt.LEFT);for(var F=w-2;F>=0;F--)e.addNextSegment(_[F],!0);e.addLastSegment(),e.addLineEndCap(_[1],_[0]),e.closeRing()},_r.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Le.CAP_ROUND:e.createCircle(t);break;case Le.CAP_SQUARE:e.createSquare(t)}},_r.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided()||0===e)return null;var i=Math.abs(e),s=this.getSegGen(i);return t.length<=1?this.computePointCurve(t[0],s):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,s):this.computeLineBufferCurve(t,s),s.getCoordinates()},_r.prototype.getBufferParameters=function(){return this._bufParams},_r.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},_r.prototype.getRingCurve=function(t,e,i){if(this._distance=i,t.length<=2)return this.getLineCurve(t,i);if(0===i)return _r.copyCoordinates(t);var s=this.getSegGen(i);return this.computeRingBufferCurve(t,e,s),s.getCoordinates()},_r.prototype.computeOffsetCurve=function(t,e,i){var s=this.simplifyTolerance(this._distance);if(e){var l=En.simplify(t,-s),d=l.length-1;i.initSideSegments(l[d],l[d-1],Gt.LEFT),i.addFirstSegment();for(var _=d-2;_>=0;_--)i.addNextSegment(l[_],!0)}else{var w=En.simplify(t,s),F=w.length-1;i.initSideSegments(w[0],w[1],Gt.LEFT),i.addFirstSegment();for(var et=2;et<=F;et++)i.addNextSegment(w[et],!0)}i.addLastSegment()},_r.prototype.getSegGen=function(t){return new gn(this._precisionModel,this._bufParams,t)},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},_r.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),i=0;i<e.length;i++)e[i]=new I(t[i]);return e};var No=function(){this._subgraphs=null,this._seg=new te,this._cga=new Mt,this._subgraphs=arguments[0]},la={DepthSegment:{configurable:!0}};No.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Bt,i=this._subgraphs.iterator();i.hasNext();){var s=i.next(),l=s.getEnvelope();t.y<l.getMinY()||t.y>l.getMaxY()||this.findStabbedSegments(t,s.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Ct(arguments[2],Gn)&&arguments[0]instanceof I&&arguments[1]instanceof aa){for(var d=arguments[0],_=arguments[1],w=arguments[2],F=_.getEdge().getCoordinates(),et=0;et<F.length-1;et++)if(this._seg.p0=F[et],this._seg.p1=F[et+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<d.x||this._seg.isHorizontal()||d.y<this._seg.p0.y||d.y>this._seg.p1.y||Mt.computeOrientation(this._seg.p0,this._seg.p1,d)===Mt.RIGHT)){var _t=_.getDepth(Gt.LEFT);this._seg.p0.equals(F[et])||(_t=_.getDepth(Gt.RIGHT));var Pt=new Di(this._seg,_t);w.add(Pt)}}else if(Ct(arguments[2],Gn)&&arguments[0]instanceof I&&Ct(arguments[1],Gn))for(var zt=arguments[0],Zt=arguments[2],Jt=arguments[1].iterator();Jt.hasNext();){var me=Jt.next();me.isForward()&&this.findStabbedSegments(zt,me,Zt)}},No.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:zr.min(e)._leftDepth},No.prototype.interfaces_=function(){return[]},No.prototype.getClass=function(){return No},la.DepthSegment.get=function(){return Di},Object.defineProperties(No,la);var Di=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[1];this._upwardSeg=new te(arguments[0]),this._leftDepth=e};Di.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==i||0!=(i=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?i:this._upwardSeg.compareTo(e._upwardSeg)},Di.prototype.compareX=function(t,e){var i=t.p0.compareTo(e.p0);return 0!==i?i:t.p1.compareTo(e.p1)},Di.prototype.toString=function(){return this._upwardSeg.toString()},Di.prototype.interfaces_=function(){return[N]},Di.prototype.getClass=function(){return Di};var Ce=function(t,e,i){this.p0=t||null,this.p1=e||null,this.p2=i||null};Ce.prototype.area=function(){return Ce.area(this.p0,this.p1,this.p2)},Ce.prototype.signedArea=function(){return Ce.signedArea(this.p0,this.p1,this.p2)},Ce.prototype.interpolateZ=function(t){if(null===t)throw new S("Supplied point is null.");return Ce.interpolateZ(t,this.p0,this.p1,this.p2)},Ce.prototype.longestSideLength=function(){return Ce.longestSideLength(this.p0,this.p1,this.p2)},Ce.prototype.isAcute=function(){return Ce.isAcute(this.p0,this.p1,this.p2)},Ce.prototype.circumcentre=function(){return Ce.circumcentre(this.p0,this.p1,this.p2)},Ce.prototype.area3D=function(){return Ce.area3D(this.p0,this.p1,this.p2)},Ce.prototype.centroid=function(){return Ce.centroid(this.p0,this.p1,this.p2)},Ce.prototype.inCentre=function(){return Ce.inCentre(this.p0,this.p1,this.p2)},Ce.prototype.interfaces_=function(){return[]},Ce.prototype.getClass=function(){return Ce},Ce.area=function(t,e,i){return Math.abs(((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2)},Ce.signedArea=function(t,e,i){return((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2},Ce.det=function(t,e,i,s){return t*s-e*i},Ce.interpolateZ=function(t,e,i,s){var l=e.x,d=e.y,_=i.x-l,w=s.x-l,F=i.y-d,et=s.y-d,_t=_*et-w*F,Pt=t.x-l,zt=t.y-d;return e.z+(et*Pt-w*zt)/_t*(i.z-e.z)+(-F*Pt+_*zt)/_t*(s.z-e.z)},Ce.longestSideLength=function(t,e,i){var s=t.distance(e),l=e.distance(i),d=i.distance(t),_=s;return l>_&&(_=l),d>_&&(_=d),_},Ce.isAcute=function(t,e,i){return!!Se.isAcute(t,e,i)&&!!Se.isAcute(e,i,t)&&!!Se.isAcute(i,t,e)},Ce.circumcentre=function(t,e,i){var s=i.x,l=i.y,d=t.x-s,_=t.y-l,w=e.x-s,F=e.y-l,et=2*Ce.det(d,_,w,F),_t=Ce.det(_,d*d+_*_,F,w*w+F*F),Pt=Ce.det(d,d*d+_*_,w,w*w+F*F);return new I(s-_t/et,l+Pt/et)},Ce.perpendicularBisector=function(t,e){var i=e.x-t.x,s=e.y-t.y,l=new jt(t.x+i/2,t.y+s/2,1),d=new jt(t.x-s+i/2,t.y+i+s/2,1);return new jt(l,d)},Ce.angleBisector=function(t,e,i){var s=e.distance(t),l=s/(s+e.distance(i));return new I(t.x+l*(i.x-t.x),t.y+l*(i.y-t.y))},Ce.area3D=function(t,e,i){var s=e.x-t.x,l=e.y-t.y,d=e.z-t.z,_=i.x-t.x,w=i.y-t.y,F=i.z-t.z,et=l*F-d*w,_t=d*_-s*F,Pt=s*w-l*_;return Math.sqrt(et*et+_t*_t+Pt*Pt)/2},Ce.centroid=function(t,e,i){return new I((t.x+e.x+i.x)/3,(t.y+e.y+i.y)/3)},Ce.inCentre=function(t,e,i){var s=e.distance(i),l=t.distance(i),d=t.distance(e),_=s+l+d;return new I((s*t.x+l*e.x+d*i.x)/_,(s*t.y+l*e.y+d*i.y)/_)};var Xr=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Bt;var e=arguments[1],i=arguments[2];this._inputGeom=arguments[0],this._distance=e,this._curveBuilder=i};Xr.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,R.EXTERIOR,R.INTERIOR)},Xr.prototype.addPolygon=function(t){var e=this._distance,i=Gt.LEFT;this._distance<0&&(e=-this._distance,i=Gt.RIGHT);var s=t.getExteriorRing(),l=ye.removeRepeatedPoints(s.getCoordinates());if(this._distance<0&&this.isErodedCompletely(s,this._distance)||this._distance<=0&&l.length<3)return null;this.addPolygonRing(l,e,i,R.EXTERIOR,R.INTERIOR);for(var d=0;d<t.getNumInteriorRing();d++){var _=t.getInteriorRingN(d),w=ye.removeRepeatedPoints(_.getCoordinates());this._distance>0&&this.isErodedCompletely(_,-this._distance)||this.addPolygonRing(w,e,Gt.opposite(i),R.INTERIOR,R.EXTERIOR)}},Xr.prototype.isTriangleErodedCompletely=function(t,e){var i=new Ce(t[0],t[1],t[2]),s=i.inCentre();return Mt.distancePointLine(s,i.p0,i.p1)<Math.abs(e)},Xr.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ye.removeRepeatedPoints(t.getCoordinates()),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,R.EXTERIOR,R.INTERIOR)},Xr.prototype.addCurve=function(t,e,i){if(null===t||t.length<2)return null;var s=new Mn(t,new en(0,R.BOUNDARY,e,i));this._curveList.add(s)},Xr.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Xr.prototype.addPolygonRing=function(t,e,i,s,l){if(0===e&&t.length<Si.MINIMUM_VALID_SIZE)return null;var d=s,_=l;t.length>=Si.MINIMUM_VALID_SIZE&&Mt.isCCW(t)&&(d=l,_=s,i=Gt.opposite(i));var w=this._curveBuilder.getRingCurve(t,i,e);this.addCurve(w,d,_)},Xr.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Tn?this.addPolygon(t):t instanceof xn?this.addLineString(t):t instanceof yr?this.addPoint(t):(t instanceof Go||t instanceof io||t instanceof Pi||t instanceof lr)&&this.addCollection(t)},Xr.prototype.isErodedCompletely=function(t,e){var i=t.getCoordinates();if(i.length<4)return e<0;if(4===i.length)return this.isTriangleErodedCompletely(i,e);var s=t.getEnvelopeInternal(),l=Math.min(s.getHeight(),s.getWidth());return e<0&&2*Math.abs(e)>l},Xr.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this.add(i)}},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var Uo=function(){};Uo.prototype.locate=function(t){},Uo.prototype.interfaces_=function(){return[]},Uo.prototype.getClass=function(){return Uo};var ci=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};ci.prototype.next=function(){if(this._atStart)return this._atStart=!1,ci.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Q;var t=this._parent.getGeometryN(this._index++);return t instanceof lr?(this._subcollectionIterator=new ci(t),this._subcollectionIterator.next()):t},ci.prototype.remove=function(){throw new Error(this.getClass().getName())},ci.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ci.prototype.interfaces_=function(){return[Br]},ci.prototype.getClass=function(){return ci},ci.isAtomic=function(t){return!(t instanceof lr)};var Ar=function(){this._geom=null,this._geom=arguments[0]};Ar.prototype.locate=function(t){return Ar.locate(t,this._geom)},Ar.prototype.interfaces_=function(){return[Uo]},Ar.prototype.getClass=function(){return Ar},Ar.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Mt.isPointInRing(t,e.getCoordinates())},Ar.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var i=e.getExteriorRing();if(!Ar.isPointInRing(t,i))return!1;for(var s=0;s<e.getNumInteriorRing();s++){var l=e.getInteriorRingN(s);if(Ar.isPointInRing(t,l))return!1}return!0},Ar.containsPoint=function(t,e){if(e instanceof Tn)return Ar.containsPointInPolygon(t,e);if(e instanceof lr)for(var i=new ci(e);i.hasNext();){var s=i.next();if(s!==e&&Ar.containsPoint(t,s))return!0}return!1},Ar.locate=function(t,e){return e.isEmpty()?R.EXTERIOR:Ar.containsPoint(t,e)?R.INTERIOR:R.EXTERIOR};var rr=function(){this._edgeMap=new xt,this._edgeList=null,this._ptInAreaLocation=[R.NONE,R.NONE]};rr.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),i=e-1;return 0===e&&(i=this._edgeList.size()-1),this._edgeList.get(i)},rr.prototype.propagateSideLabels=function(t){for(var e=R.NONE,i=this.iterator();i.hasNext();){var s=i.next().getLabel();s.isArea(t)&&s.getLocation(t,Gt.LEFT)!==R.NONE&&(e=s.getLocation(t,Gt.LEFT))}if(e===R.NONE)return null;for(var l=e,d=this.iterator();d.hasNext();){var _=d.next(),w=_.getLabel();if(w.getLocation(t,Gt.ON)===R.NONE&&w.setLocation(t,Gt.ON,l),w.isArea(t)){var F=w.getLocation(t,Gt.LEFT),et=w.getLocation(t,Gt.RIGHT);if(et!==R.NONE){if(et!==l)throw new Ri("side location conflict",_.getCoordinate());F===R.NONE&&C.shouldNeverReachHere("found single null side (at "+_.getCoordinate()+")"),l=F}else C.isTrue(w.getLocation(t,Gt.LEFT)===R.NONE,"found single null side"),w.setLocation(t,Gt.RIGHT,l),w.setLocation(t,Gt.LEFT,l)}}},rr.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},rr.prototype.print=function(t){Wt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},rr.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},rr.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var i=e.size()-1,s=e.get(i).getLabel().getLocation(t,Gt.LEFT);C.isTrue(s!==R.NONE,"Found unlabelled area edge");for(var l=s,d=this.iterator();d.hasNext();){var _=d.next().getLabel();C.isTrue(_.isArea(t),"Found non-area edge");var w=_.getLocation(t,Gt.LEFT),F=_.getLocation(t,Gt.RIGHT);if(w===F||F!==l)return!1;l=w}return!0},rr.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},rr.prototype.iterator=function(){return this.getEdges().iterator()},rr.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Bt(this._edgeMap.values())),this._edgeList},rr.prototype.getLocation=function(t,e,i){return this._ptInAreaLocation[t]===R.NONE&&(this._ptInAreaLocation[t]=Ar.locate(e,i[t].getGeometry())),this._ptInAreaLocation[t]},rr.prototype.toString=function(){var t=new U;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var i=e.next();t.append(i),t.append("\n")}return t.toString()},rr.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},rr.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],i=this.iterator();i.hasNext();)for(var s=i.next().getLabel(),l=0;l<2;l++)s.isLine(l)&&s.getLocation(l)===R.BOUNDARY&&(e[l]=!0);for(var d=this.iterator();d.hasNext();)for(var _=d.next(),w=_.getLabel(),F=0;F<2;F++)if(w.isAnyNull(F)){var et=R.NONE;if(e[F])et=R.EXTERIOR;else{var _t=_.getCoordinate();et=this.getLocation(F,_t,t)}w.setAllLocationsIfNull(F,et)}},rr.prototype.getDegree=function(){return this._edgeMap.size()},rr.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr};var hl=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var i=null,s=null,l=this._SCANNING_FOR_INCOMING,d=0;d<this._resultAreaEdgeList.size();d++){var _=this._resultAreaEdgeList.get(d),w=_.getSym();if(_.getLabel().isArea())switch(null===i&&_.isInResult()&&(i=_),l){case this._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;s=w,l=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!_.isInResult())continue;s.setNext(_),l=this._SCANNING_FOR_INCOMING}}if(l===this._LINKING_TO_OUTGOING){if(null===i)throw new Ri("no outgoing dirEdge found",this.getCoordinate());C.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),s.setNext(i)}},e.prototype.insert=function(i){this.insertEdgeEnd(i,i)},e.prototype.getRightmostEdge=function(){var i=this.getEdges(),s=i.size();if(s<1)return null;var l=i.get(0);if(1===s)return l;var d=i.get(s-1),_=l.getQuadrant(),w=d.getQuadrant();return sn.isNorthern(_)&&sn.isNorthern(w)?l:sn.isNorthern(_)||sn.isNorthern(w)?0!==l.getDy()?l:0!==d.getDy()?d:(C.shouldNeverReachHere("found two horizontal edges incident on node"),null):d},e.prototype.print=function(i){Wt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var s=this.iterator();s.hasNext();){var l=s.next();i.print("out "),l.print(i),i.println(),i.print("in "),l.getSym().print(i),i.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Bt;for(var i=this.iterator();i.hasNext();){var s=i.next();(s.isInResult()||s.getSym().isInResult())&&this._resultAreaEdgeList.add(s)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(i){for(var s=this.iterator();s.hasNext();){var l=s.next().getLabel();l.setAllLocationsIfNull(0,i.getLocation(0)),l.setAllLocationsIfNull(1,i.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var i=null,s=null,l=this._edgeList.size()-1;l>=0;l--){var d=this._edgeList.get(l),_=d.getSym();null===s&&(s=_),null!==i&&_.setNext(i),i=d}s.setNext(i)},e.prototype.computeDepths=function(){if(1===arguments.length){var i=arguments[0],s=this.findIndex(i),l=i.getDepth(Gt.LEFT),d=i.getDepth(Gt.RIGHT),_=this.computeDepths(s+1,this._edgeList.size(),l);if(this.computeDepths(0,s,_)!==d)throw new Ri("depth mismatch at "+i.getCoordinate())}else if(3===arguments.length){for(var F=arguments[1],et=arguments[2],_t=arguments[0];_t<F;_t++){var Pt=this._edgeList.get(_t);Pt.setEdgeDepths(Gt.RIGHT,et),et=Pt.getDepth(Gt.LEFT)}return et}},e.prototype.mergeSymLabels=function(){for(var i=this.iterator();i.hasNext();){var s=i.next();s.getLabel().merge(s.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(i){for(var s=null,l=null,d=this._SCANNING_FOR_INCOMING,_=this._resultAreaEdgeList.size()-1;_>=0;_--){var w=this._resultAreaEdgeList.get(_),F=w.getSym();switch(null===s&&w.getEdgeRing()===i&&(s=w),d){case this._SCANNING_FOR_INCOMING:if(F.getEdgeRing()!==i)continue;l=F,d=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==i)continue;l.setNextMin(w),d=this._SCANNING_FOR_INCOMING}}d===this._LINKING_TO_OUTGOING&&(C.isTrue(null!==s,"found null for first outgoing dirEdge"),C.isTrue(s.getEdgeRing()===i,"unable to link last incoming dirEdge"),l.setNextMin(s))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var i=0,s=this.iterator();s.hasNext();)s.next().isInResult()&&i++;return i}if(1===arguments.length){for(var l=arguments[0],d=0,_=this.iterator();_.hasNext();)_.next().getEdgeRing()===l&&d++;return d}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var i=R.NONE,s=this.iterator();s.hasNext();){var l=s.next(),d=l.getSym();if(!l.isLineEdge()){if(l.isInResult()){i=R.INTERIOR;break}if(d.isInResult()){i=R.EXTERIOR;break}}}if(i===R.NONE)return null;for(var _=i,w=this.iterator();w.hasNext();){var F=w.next(),et=F.getSym();F.isLineEdge()?F.getEdge().setCovered(_===R.INTERIOR):(F.isInResult()&&(_=R.EXTERIOR),et.isInResult()&&(_=R.INTERIOR))}},e.prototype.computeLabelling=function(i){t.prototype.computeLabelling.call(this,i),this._label=new en(R.NONE);for(var s=this.iterator();s.hasNext();)for(var l=s.next().getEdge().getLabel(),d=0;d<2;d++){var _=l.getLocation(d);_!==R.INTERIOR&&_!==R.BOUNDARY||this._label.setLocation(d,R.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(rr),nu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(i){return new us(i,new hl)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wo),Fi=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Fi.prototype.compareTo=function(t){return Fi.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Fi.prototype.interfaces_=function(){return[N]},Fi.prototype.getClass=function(){return Fi},Fi.orientation=function(t){return 1===ye.increasingDirection(t)},Fi.compareOriented=function(t,e,i,s){for(var l=e?1:-1,d=s?1:-1,_=e?t.length:-1,w=s?i.length:-1,F=e?0:t.length-1,et=s?0:i.length-1;;){var _t=t[F].compareTo(i[et]);if(0!==_t)return _t;var Pt=(F+=l)===_,zt=(et+=d)===w;if(Pt&&!zt)return-1;if(!Pt&&zt)return 1;if(Pt&&zt)return 0}};var $r=function(){this._edges=new Bt,this._ocaMap=new xt};$r.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var i=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var s=i.getCoordinates(),l=0;l<s.length;l++)l>0&&t.print(","),t.print(s[l].x+" "+s[l].y);t.println(")")}t.print(")  ")},$r.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},$r.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},$r.prototype.iterator=function(){return this._edges.iterator()},$r.prototype.getEdges=function(){return this._edges},$r.prototype.get=function(t){return this._edges.get(t)},$r.prototype.findEqualEdge=function(t){var e=new Fi(t.getCoordinates());return this._ocaMap.get(e)},$r.prototype.add=function(t){this._edges.add(t);var e=new Fi(t.getCoordinates());this._ocaMap.put(e,t)},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r};var Wi=function(){};Wi.prototype.processIntersections=function(t,e,i,s){},Wi.prototype.isDone=function(){},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi};var xr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};xr.prototype.isTrivialIntersection=function(t,e,i,s){if(t===i&&1===this._li.getIntersectionNum()){if(xr.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var l=t.size()-1;if(0===e&&s===l||0===s&&e===l)return!0}}return!1},xr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},xr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},xr.prototype.getLineIntersector=function(){return this._li},xr.prototype.hasProperIntersection=function(){return this._hasProper},xr.prototype.processIntersections=function(t,e,i,s){if(t===i&&e===s)return null;this.numTests++;var l=t.getCoordinates()[e],d=t.getCoordinates()[e+1],_=i.getCoordinates()[s],w=i.getCoordinates()[s+1];this._li.computeIntersection(l,d,_,w),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,i,s)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),i.addIntersections(this._li,s,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},xr.prototype.hasIntersection=function(){return this._hasIntersection},xr.prototype.isDone=function(){return!1},xr.prototype.hasInteriorIntersection=function(){return this._hasInterior},xr.prototype.interfaces_=function(){return[Wi]},xr.prototype.getClass=function(){return xr},xr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var hi=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[1],i=arguments[2];this.coord=new I(arguments[0]),this.segmentIndex=e,this.dist=i};hi.prototype.getSegmentIndex=function(){return this.segmentIndex},hi.prototype.getCoordinate=function(){return this.coord},hi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},hi.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},hi.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},hi.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},hi.prototype.getDistance=function(){return this.dist},hi.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},hi.prototype.interfaces_=function(){return[N]},hi.prototype.getClass=function(){return hi};var Kr=function(){this._nodeMap=new xt,this.edge=null,this.edge=arguments[0]};Kr.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Kr.prototype.iterator=function(){return this._nodeMap.values().iterator()},Kr.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var s=e.next(),l=this.createSplitEdge(i,s);t.add(l),i=s}},Kr.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Kr.prototype.createSplitEdge=function(t,e){var i=e.segmentIndex-t.segmentIndex+2,l=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);l||i--;var d=new Array(i).fill(null),_=0;d[_++]=new I(t.coord);for(var w=t.segmentIndex+1;w<=e.segmentIndex;w++)d[_++]=this.edge.pts[w];return l&&(d[_]=e.coord),new Mo(d,new en(this.edge._label))},Kr.prototype.add=function(t,e,i){var s=new hi(t,e,i),l=this._nodeMap.get(s);return null!==l?l:(this._nodeMap.put(s,s),s)},Kr.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr};var so=function(){};so.prototype.getChainStartIndices=function(t){var e=0,i=new Bt;i.add(new ot(e));do{var s=this.findChainEnd(t,e);i.add(new ot(s)),e=s}while(e<t.length-1);return so.toIntArray(i)},so.prototype.findChainEnd=function(t,e){for(var i=sn.quadrant(t[e],t[e+1]),s=e+1;s<t.length&&sn.quadrant(t[s-1],t[s])===i;)s++;return s-1},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},so.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e};var Mi=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new kt,this.env2=new kt;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new so;this.startIndex=e.getChainStartIndices(this.pts)};Mi.prototype.getCoordinates=function(){return this.pts},Mi.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e>i?e:i},Mi.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e<i?e:i},Mi.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[i],e.startIndex[i+1],arguments[3])}else if(6===arguments.length){var l=arguments[0],d=arguments[1],_=arguments[2],w=arguments[3],F=arguments[4],et=arguments[5],_t=this.pts[l],Pt=this.pts[d],zt=_.pts[w],qt=_.pts[F];if(d-l==1&&F-w==1)return et.addIntersections(this.e,l,_.e,w),null;if(this.env1.init(_t,Pt),this.env2.init(zt,qt),!this.env1.intersects(this.env2))return null;var Zt=Math.trunc((l+d)/2),Jt=Math.trunc((w+F)/2);l<Zt&&(w<Jt&&this.computeIntersectsForChain(l,Zt,_,w,Jt,et),Jt<F&&this.computeIntersectsForChain(l,Zt,_,Jt,F,et)),Zt<d&&(w<Jt&&this.computeIntersectsForChain(Zt,d,_,w,Jt,et),Jt<F&&this.computeIntersectsForChain(Zt,d,_,Jt,F,et))}},Mi.prototype.getStartIndexes=function(){return this.startIndex},Mi.prototype.computeIntersects=function(t,e){for(var i=0;i<this.startIndex.length-1;i++)for(var s=0;s<t.startIndex.length-1;s++)this.computeIntersectsForChain(i,t,s,e)},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi};var kn=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var i=0;i<3;i++)this._depth[e][i]=t.NULL_VALUE},Ts={NULL_VALUE:{configurable:!0}};kn.prototype.getDepth=function(t,e){return this._depth[t][e]},kn.prototype.setDepth=function(t,e,i){this._depth[t][e]=i},kn.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==kn.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===kn.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===kn.NULL_VALUE:void 0},kn.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var i=1;i<3;i++){var s=0;this._depth[t][i]>e&&(s=1),this._depth[t][i]=s}}},kn.prototype.getDelta=function(t){return this._depth[t][Gt.RIGHT]-this._depth[t][Gt.LEFT]},kn.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?R.EXTERIOR:R.INTERIOR},kn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},kn.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var i=1;i<3;i++){var s=t.getLocation(e,i);s!==R.EXTERIOR&&s!==R.INTERIOR||(this.isNull(e,i)?this._depth[e][i]=kn.depthAtLocation(s):this._depth[e][i]+=kn.depthAtLocation(s))}else 3===arguments.length&&arguments[2]===R.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn},kn.depthAtLocation=function(t){return t===R.EXTERIOR?0:t===R.INTERIOR?1:kn.NULL_VALUE},Ts.NULL_VALUE.get=function(){return-1},Object.defineProperties(kn,Ts);var Mo=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Kr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new kn,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var l=arguments[1];this.pts=arguments[0],this._label=l}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var i=new Array(2).fill(null);return i[0]=this.pts[0],i[1]=this.pts[1],new e(i,en.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(i){this._isIsolated=i},e.prototype.setName=function(i){this._name=i},e.prototype.equals=function(i){if(!(i instanceof e))return!1;var s=i;if(this.pts.length!==s.pts.length)return!1;for(var l=!0,d=!0,_=this.pts.length,w=0;w<this.pts.length;w++)if(this.pts[w].equals2D(s.pts[w])||(l=!1),this.pts[w].equals2D(s.pts[--_])||(d=!1),!l&&!d)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(i){i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&i.print(","),i.print(this.pts[s].x+" "+this.pts[s].y);i.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(i){e.updateIM(this._label,i)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(i){i.print("edge "+this._name+": ");for(var s=this.pts.length-1;s>=0;s--)i.print(this.pts[s]+" ");i.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Mi(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new kt;for(var i=0;i<this.pts.length;i++)this._env.expandToInclude(this.pts[i])}return this._env},e.prototype.addIntersection=function(i,s,l,d){var _=new I(i.getIntersection(d)),w=s,F=i.getEdgeDistance(l,d),et=w+1;et<this.pts.length&&_.equals2D(this.pts[et])&&(w=et,F=0),this.eiList.add(_,w,F)},e.prototype.toString=function(){var i=new U;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&i.append(","),i.append(this.pts[s].x+" "+this.pts[s].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()},e.prototype.isPointwiseEqual=function(i){if(this.pts.length!==i.pts.length)return!1;for(var s=0;s<this.pts.length;s++)if(!this.pts[s].equals2D(i.pts[s]))return!1;return!0},e.prototype.setDepthDelta=function(i){this._depthDelta=i},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(i,s,l){for(var d=0;d<i.getIntersectionNum();d++)this.addIntersection(i,s,l,d)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var i=arguments[0],s=arguments[1];s.setAtLeastIfValid(i.getLocation(0,Gt.ON),i.getLocation(1,Gt.ON),1),i.isArea()&&(s.setAtLeastIfValid(i.getLocation(0,Gt.LEFT),i.getLocation(1,Gt.LEFT),2),s.setAtLeastIfValid(i.getLocation(0,Gt.RIGHT),i.getLocation(1,Gt.RIGHT),2))},e}(Pr),hr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new $r,this._bufParams=t||null};hr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},hr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var i=e.getLabel(),s=t.getLabel();e.isPointwiseEqual(t)||(s=new en(t.getLabel())).flip(),i.merge(s);var l=hr.depthDelta(s),d=e.getDepthDelta()+l;e.setDepthDelta(d)}else this._edgeList.add(t),t.setDepthDelta(hr.depthDelta(t.getLabel()))},hr.prototype.buildSubgraphs=function(t,e){for(var i=new Bt,s=t.iterator();s.hasNext();){var l=s.next(),d=l.getRightmostCoordinate(),_=new No(i).getDepth(d);l.computeDepth(_),l.findResultEdges(),i.add(l),e.add(l.getDirectedEdges(),l.getNodes())}},hr.prototype.createSubgraphs=function(t){for(var e=new Bt,i=t.getNodes().iterator();i.hasNext();){var s=i.next();if(!s.isVisited()){var l=new jn;l.create(s),e.add(l)}}return zr.sort(e,zr.reverseOrder()),e},hr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},hr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new As,i=new wt;return i.setPrecisionModel(t),e.setSegmentIntersector(new xr(i)),e},hr.prototype.buffer=function(t,e){var i=this._workingPrecisionModel;null===i&&(i=t.getPrecisionModel()),this._geomFact=t.getFactory();var s=new _r(i,this._bufParams),l=new Xr(t,e,s).getCurves();if(l.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(l,i),this._graph=new vn(new nu),this._graph.addEdges(this._edgeList.getEdges());var d=this.createSubgraphs(this._graph),_=new vr(this._geomFact);this.buildSubgraphs(d,_);var w=_.getPolygons();return w.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(w)},hr.prototype.computeNodedEdges=function(t,e){var i=this.getNoder(e);i.computeNodes(t);for(var s=i.getNodedSubstrings().iterator();s.hasNext();){var l=s.next(),d=l.getCoordinates();if(2!==d.length||!d[0].equals2D(d[1])){var _=l.getData(),w=new Mo(l.getCoordinates(),new en(_));this.insertUniqueEdge(w)}}},hr.prototype.setNoder=function(t){this._workingNoder=t},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr},hr.depthDelta=function(t){var e=t.getLocation(0,Gt.LEFT),i=t.getLocation(0,Gt.RIGHT);return e===R.INTERIOR&&i===R.EXTERIOR?1:e===R.EXTERIOR&&i===R.INTERIOR?-1:0},hr.convertSegStrings=function(t){for(var e=new xe,i=new Bt;t.hasNext();){var s=t.next(),l=e.createLineString(s.getCoordinates());i.add(l)}return e.buildGeometry(i)};var Hi=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[1];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var s=arguments[1],l=arguments[2],d=arguments[3];this._noder=arguments[0],this._scaleFactor=s,this._offsetX=l,this._offsetY=d,this._isScaled=!this.isIntegerPrecision()}};Hi.prototype.rescale=function(){if(Ct(arguments[0],cn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],s=0;s<i.length;s++)i[s].x=i[s].x/this._scaleFactor+this._offsetX,i[s].y=i[s].y/this._scaleFactor+this._offsetY;2===i.length&&i[0].equals2D(i[1])&&Wt.out.println(i)}},Hi.prototype.scale=function(){if(Ct(arguments[0],cn)){for(var t=arguments[0],e=new Bt,i=t.iterator();i.hasNext();){var s=i.next();e.add(new Mn(this.scale(s.getCoordinates()),s.getData()))}return e}if(arguments[0]instanceof Array){for(var l=arguments[0],d=new Array(l.length).fill(null),_=0;_<l.length;_++)d[_]=new I(Math.round((l[_].x-this._offsetX)*this._scaleFactor),Math.round((l[_].y-this._offsetY)*this._scaleFactor),l[_].z);return ye.removeRepeatedPoints(d)}},Hi.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Hi.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Hi.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Hi.prototype.interfaces_=function(){return[oo]},Hi.prototype.getClass=function(){return Hi};var gi=function(){this._li=new wt,this._segStrings=null,this._segStrings=arguments[0]},ru={fact:{configurable:!0}};gi.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var i=arguments[0],s=arguments[1].iterator();s.hasNext();)for(var l=s.next().getCoordinates(),d=1;d<l.length-1;d++)if(l[d].equals(i))throw new A("found endpt/interior pt intersection at index "+d+" :pt "+i)},gi.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),i=this._segStrings.iterator();i.hasNext();){var s=i.next();this.checkInteriorIntersections(e,s)}else if(2===arguments.length)for(var l=arguments[0],d=arguments[1],_=l.getCoordinates(),w=d.getCoordinates(),F=0;F<_.length-1;F++)for(var et=0;et<w.length-1;et++)this.checkInteriorIntersections(l,F,d,et);else if(4===arguments.length){var _t=arguments[0],Pt=arguments[1],zt=arguments[2],qt=arguments[3];if(_t===zt&&Pt===qt)return null;var Zt=_t.getCoordinates()[Pt],Jt=_t.getCoordinates()[Pt+1],me=zt.getCoordinates()[qt],Ee=zt.getCoordinates()[qt+1];if(this._li.computeIntersection(Zt,Jt,me,Ee),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Zt,Jt)||this.hasInteriorIntersection(this._li,me,Ee)))throw new A("found non-noded intersection at "+Zt+"-"+Jt+" and "+me+"-"+Ee)}},gi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},gi.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var i=arguments[0].getCoordinates(),s=0;s<i.length-2;s++)this.checkCollapse(i[s],i[s+1],i[s+2])},gi.prototype.hasInteriorIntersection=function(t,e,i){for(var s=0;s<t.getIntersectionNum();s++){var l=t.getIntersection(s);if(!l.equals(e)&&!l.equals(i))return!0}return!1},gi.prototype.checkCollapse=function(t,e,i){if(t.equals(i))throw new A("found non-noded collapse at "+gi.fact.createLineString([t,e,i]))},gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi},ru.fact.get=function(){return new xe},Object.defineProperties(gi,ru);var Er=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],i=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=i,e<=0)throw new S("Scale factor must be non-zero");1!==e&&(this._pt=new I(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new I,this._p1Scaled=new I),this.initCorners(this._pt)},iu={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Er.prototype.intersectsScaled=function(t,e){var i=Math.min(t.x,e.x),s=Math.max(t.x,e.x),l=Math.min(t.y,e.y),d=Math.max(t.y,e.y),_=this._maxx<i||this._minx>s||this._maxy<l||this._miny>d;if(_)return!1;var w=this.intersectsToleranceSquare(t,e);return C.isTrue(!(_&&w),"Found bad envelope test"),w},Er.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new I(this._maxx,this._maxy),this._corner[1]=new I(this._minx,this._maxy),this._corner[2]=new I(this._minx,this._miny),this._corner[3]=new I(this._maxx,this._miny)},Er.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Er.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Er.prototype.getCoordinate=function(){return this._originalPt},Er.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Er.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Er.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new kt(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Er.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Er.prototype.intersectsToleranceSquare=function(t,e){var i=!1,s=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||i&&s||t.equals(this._pt)||e.equals(this._pt)))))},Er.prototype.addSnappedNode=function(t,e){var i=t.getCoordinate(e),s=t.getCoordinate(e+1);return!!this.intersects(i,s)&&(t.addIntersection(this.getCoordinate(),e),!0)},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er},iu.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Er,iu);var ps=function(){this.tempEnv1=new kt,this.selectedSegment=new te};ps.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},ps.prototype.interfaces_=function(){return[]},ps.prototype.getClass=function(){return ps};var Lo=function(){this._index=null,this._index=arguments[0]},ou={HotPixelSnapAction:{configurable:!0}};Lo.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var e=arguments[0],i=arguments[1],s=arguments[2],l=e.getSafeEnvelope(),d=new su(e,i,s);return this._index.query(l,{interfaces_:function(){return[Yi]},visitItem:function(_){_.select(l,d)}}),d.isNodeAdded()}},Lo.prototype.interfaces_=function(){return[]},Lo.prototype.getClass=function(){return Lo},ou.HotPixelSnapAction.get=function(){return su},Object.defineProperties(Lo,ou);var su=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[1],l=arguments[2];this._hotPixel=arguments[0],this._parentEdge=s,this._hotPixelVertexIndex=l}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var s=arguments[1],l=arguments[0].getContext();if(null!==this._parentEdge&&l===this._parentEdge&&s===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(l,s)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ps),ao=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new Bt};ao.prototype.processIntersections=function(t,e,i,s){if(t===i&&e===s)return null;var l=t.getCoordinates()[e],d=t.getCoordinates()[e+1],_=i.getCoordinates()[s],w=i.getCoordinates()[s+1];if(this._li.computeIntersection(l,d,_,w),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var F=0;F<this._li.getIntersectionNum();F++)this._interiorIntersections.add(this._li.getIntersection(F));t.addIntersections(this._li,e,0),i.addIntersections(this._li,s,1)}},ao.prototype.isDone=function(){return!1},ao.prototype.getInteriorIntersections=function(){return this._interiorIntersections},ao.prototype.interfaces_=function(){return[Wi]},ao.prototype.getClass=function(){return ao};var di=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new wt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};di.prototype.checkCorrectness=function(t){var e=Mn.getNodedSubstrings(t),i=new gi(e);try{i.checkValid()}catch(s){if(!(s instanceof pe))throw s;s.printStackTrace()}},di.prototype.getNodedSubstrings=function(){return Mn.getNodedSubstrings(this._nodedSegStrings)},di.prototype.snapRound=function(t,e){var i=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(i),this.computeVertexSnaps(t)},di.prototype.findInteriorIntersections=function(t,e){var i=new ao(e);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(t),i.getInteriorIntersections()},di.prototype.computeVertexSnaps=function(){if(Ct(arguments[0],cn))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Mn)for(var i=arguments[0],s=i.getCoordinates(),l=0;l<s.length;l++){var d=new Er(s[l],this._scaleFactor,this._li);this._pointSnapper.snap(d,i,l)&&i.addIntersection(s[l],l)}},di.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new As,this._pointSnapper=new Lo(this._noder.getIndex()),this.snapRound(t,this._li)},di.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),s=new Er(i,this._scaleFactor,this._li);this._pointSnapper.snap(s)}},di.prototype.interfaces_=function(){return[oo]},di.prototype.getClass=function(){return di};var Wn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Le,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var i=arguments[1];this._argGeom=arguments[0],this._bufParams=i}},bo={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Wn.prototype.bufferFixedPrecision=function(t){var e=new Hi(new di(new Ke(1)),t.getScale()),i=new hr(this._bufParams);i.setWorkingPrecisionModel(t),i.setNoder(e),this._resultGeometry=i.buffer(this._argGeom,this._distance)},Wn.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Wn.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(d){if(!(d instanceof Ri))throw d;t._saveException=d}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var s=Wn.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),l=new Ke(s);this.bufferFixedPrecision(l)}},Wn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ke.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Wn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Wn.prototype.bufferOriginalPrecision=function(){try{var t=new hr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof A))throw e;this._saveException=e}},Wn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Wn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn},Wn.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new Wn(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Xt&&"number"==typeof arguments[1]){var s=arguments[1],l=arguments[2],d=new Wn(arguments[0]);return d.setQuadrantSegments(l),d.getResultGeometry(s)}if(arguments[2]instanceof Le&&arguments[0]instanceof Xt&&"number"==typeof arguments[1]){var w=arguments[1];return new Wn(arguments[0],arguments[2]).getResultGeometry(w)}}else if(4===arguments.length){var _t=arguments[1],Pt=arguments[2],zt=arguments[3],qt=new Wn(arguments[0]);return qt.setQuadrantSegments(Pt),qt.setEndCapStyle(zt),qt.getResultGeometry(_t)}},Wn.precisionScaleFactor=function(t,e,i){var s=t.getEnvelopeInternal(),l=k.max(Math.abs(s.getMaxX()),Math.abs(s.getMaxY()),Math.abs(s.getMinX()),Math.abs(s.getMinY()))+2*(e>0?e:0),d=i-Math.trunc(Math.log(l)/Math.log(10)+1);return Math.pow(10,d)},bo.CAP_ROUND.get=function(){return Le.CAP_ROUND},bo.CAP_BUTT.get=function(){return Le.CAP_FLAT},bo.CAP_FLAT.get=function(){return Le.CAP_FLAT},bo.CAP_SQUARE.get=function(){return Le.CAP_SQUARE},bo.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Wn,bo);var ir=function(){this._pt=[new I,new I],this._distance=P.NaN,this._isNull=!0};ir.prototype.getCoordinates=function(){return this._pt},ir.prototype.getCoordinate=function(t){return this._pt[t]},ir.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var s=e.distance(i);s<this._distance&&this.initialize(e,i,s)}},ir.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],l=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=l,this._isNull=!1}},ir.prototype.getDistance=function(){return this._distance},ir.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var s=e.distance(i);s>this._distance&&this.initialize(e,i,s)}},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var yi=function(){};yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},yi.computeDistance=function(){if(arguments[2]instanceof ir&&arguments[0]instanceof xn&&arguments[1]instanceof I)for(var e=arguments[1],i=arguments[2],s=arguments[0].getCoordinates(),l=new te,d=0;d<s.length-1;d++){l.setCoordinates(s[d],s[d+1]);var _=l.closestPoint(e);i.setMinimum(_,e)}else if(arguments[2]instanceof ir&&arguments[0]instanceof Tn&&arguments[1]instanceof I){var w=arguments[0],F=arguments[1],et=arguments[2];yi.computeDistance(w.getExteriorRing(),F,et);for(var _t=0;_t<w.getNumInteriorRing();_t++)yi.computeDistance(w.getInteriorRingN(_t),F,et)}else if(arguments[2]instanceof ir&&arguments[0]instanceof Xt&&arguments[1]instanceof I){var Pt=arguments[0],zt=arguments[1],qt=arguments[2];if(Pt instanceof xn)yi.computeDistance(Pt,zt,qt);else if(Pt instanceof Tn)yi.computeDistance(Pt,zt,qt);else if(Pt instanceof lr)for(var Zt=Pt,Jt=0;Jt<Zt.getNumGeometries();Jt++){var me=Zt.getGeometryN(Jt);yi.computeDistance(me,zt,qt)}else qt.setMinimum(Pt.getCoordinate(),zt)}else if(arguments[2]instanceof ir&&arguments[0]instanceof te&&arguments[1]instanceof I){var nn=arguments[1],ge=arguments[2],ve=arguments[0].closestPoint(nn);ge.setMinimum(ve,nn)}};var Vi=function(t){this._maxPtDist=new ir,this._inputGeom=t||null},gs={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Vi.prototype.computeMaxMidpointDistance=function(t){var e=new Bi(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Vi.prototype.computeMaxVertexDistance=function(t){var e=new Ji(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Vi.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Vi.prototype.getDistancePoints=function(){return this._maxPtDist},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},gs.MaxPointDistanceFilter.get=function(){return Ji},gs.MaxMidpointDistanceFilter.get=function(){return Bi},Object.defineProperties(Vi,gs);var Ji=function(t){this._maxPtDist=new ir,this._minPtDist=new ir,this._geom=t||null};Ji.prototype.filter=function(t){this._minPtDist.initialize(),yi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ji.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ji.prototype.interfaces_=function(){return[Pe]},Ji.prototype.getClass=function(){return Ji};var Bi=function(t){this._maxPtDist=new ir,this._minPtDist=new ir,this._geom=t||null};Bi.prototype.filter=function(t,e){if(0===e)return null;var i=t.getCoordinate(e-1),s=t.getCoordinate(e),l=new I((i.x+s.x)/2,(i.y+s.y)/2);this._minPtDist.initialize(),yi.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Bi.prototype.isDone=function(){return!1},Bi.prototype.isGeometryChanged=function(){return!1},Bi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Bi.prototype.interfaces_=function(){return[Gr]},Bi.prototype.getClass=function(){return Bi};var Gi=function(t){this._comps=t||null};Gi.prototype.filter=function(t){t instanceof Tn&&this._comps.add(t)},Gi.prototype.interfaces_=function(){return[Ir]},Gi.prototype.getClass=function(){return Gi},Gi.getPolygons=function(){if(1===arguments.length)return Gi.getPolygons(arguments[0],new Bt);if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof Tn?i.add(e):e instanceof lr&&e.apply(new Gi(i)),i}};var $n=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var i=arguments[1];this._lines=arguments[0],this._isForcedToLineString=i}};$n.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Si){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof xn&&this._lines.add(t)},$n.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},$n.prototype.interfaces_=function(){return[ce]},$n.prototype.getClass=function(){return $n},$n.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry($n.getLines(t))}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e.getFactory().buildGeometry($n.getLines(e,i))}},$n.getLines=function(){if(1===arguments.length)return $n.getLines(arguments[0],!1);if(2===arguments.length){if(Ct(arguments[0],cn)&&Ct(arguments[1],cn)){for(var i=arguments[1],s=arguments[0].iterator();s.hasNext();){var l=s.next();$n.getLines(l,i)}return i}if(arguments[0]instanceof Xt&&"boolean"==typeof arguments[1]){var d=arguments[0],_=arguments[1],w=new Bt;return d.apply(new $n(w,_)),w}if(arguments[0]instanceof Xt&&Ct(arguments[1],cn)){var F=arguments[0],et=arguments[1];return F instanceof xn?et.add(F):F.apply(new $n(et)),et}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Ct(arguments[0],cn)&&Ct(arguments[1],cn)){for(var Pt=arguments[1],zt=arguments[2],qt=arguments[0].iterator();qt.hasNext();){var Zt=qt.next();$n.getLines(Zt,Pt,zt)}return Pt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Xt&&Ct(arguments[1],cn)){var me=arguments[1];return arguments[0].apply(new $n(me,arguments[2])),me}}};var Qr=function(){if(this._boundaryRule=Ne.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(null===t)throw new S("Rule must be non-null");this._boundaryRule=t}};Qr.prototype.locateInternal=function(){if(arguments[0]instanceof I&&arguments[1]instanceof Tn){var t=arguments[0],e=arguments[1];if(e.isEmpty())return R.EXTERIOR;var i=e.getExteriorRing(),s=this.locateInPolygonRing(t,i);if(s===R.EXTERIOR)return R.EXTERIOR;if(s===R.BOUNDARY)return R.BOUNDARY;for(var l=0;l<e.getNumInteriorRing();l++){var d=e.getInteriorRingN(l),_=this.locateInPolygonRing(t,d);if(_===R.INTERIOR)return R.EXTERIOR;if(_===R.BOUNDARY)return R.BOUNDARY}return R.INTERIOR}if(arguments[0]instanceof I&&arguments[1]instanceof xn){var w=arguments[0],F=arguments[1];if(!F.getEnvelopeInternal().intersects(w))return R.EXTERIOR;var et=F.getCoordinates();return F.isClosed()||!w.equals(et[0])&&!w.equals(et[et.length-1])?Mt.isOnLine(w,et)?R.INTERIOR:R.EXTERIOR:R.BOUNDARY}if(arguments[0]instanceof I&&arguments[1]instanceof yr){var _t=arguments[0];return arguments[1].getCoordinate().equals2D(_t)?R.INTERIOR:R.EXTERIOR}},Qr.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Mt.locatePointInRing(t,e.getCoordinates()):R.EXTERIOR},Qr.prototype.intersects=function(t,e){return this.locate(t,e)!==R.EXTERIOR},Qr.prototype.updateLocationInfo=function(t){t===R.INTERIOR&&(this._isIn=!0),t===R.BOUNDARY&&this._numBoundaries++},Qr.prototype.computeLocation=function(t,e){if(e instanceof yr&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof xn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Tn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof io)for(var i=e,s=0;s<i.getNumGeometries();s++){var l=i.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,l))}else if(e instanceof Pi)for(var d=e,_=0;_<d.getNumGeometries();_++){var w=d.getGeometryN(_);this.updateLocationInfo(this.locateInternal(t,w))}else if(e instanceof lr)for(var F=new ci(e);F.hasNext();){var et=F.next();et!==e&&this.computeLocation(t,et)}},Qr.prototype.locate=function(t,e){return e.isEmpty()?R.EXTERIOR:e instanceof xn||e instanceof Tn?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?R.BOUNDARY:this._numBoundaries>0||this._isIn?R.INTERIOR:R.EXTERIOR)},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr};var pr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var l=arguments[1],d=arguments[2];this._component=arguments[0],this._segIndex=l,this._pt=d}},fa={INSIDE_AREA:{configurable:!0}};pr.prototype.isInsideArea=function(){return this._segIndex===pr.INSIDE_AREA},pr.prototype.getCoordinate=function(){return this._pt},pr.prototype.getGeometryComponent=function(){return this._component},pr.prototype.getSegmentIndex=function(){return this._segIndex},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},fa.INSIDE_AREA.get=function(){return-1},Object.defineProperties(pr,fa);var Zi=function(t){this._pts=t||null};Zi.prototype.filter=function(t){t instanceof yr&&this._pts.add(t)},Zi.prototype.interfaces_=function(){return[Ir]},Zi.prototype.getClass=function(){return Zi},Zi.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof yr?zr.singletonList(t):Zi.getPoints(t,new Bt)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof yr?i.add(e):e instanceof lr&&e.apply(new Zi(i)),i}};var Oo=function(){this._locations=null,this._locations=arguments[0]};Oo.prototype.filter=function(t){(t instanceof yr||t instanceof xn||t instanceof Tn)&&this._locations.add(new pr(t,0,t.getCoordinate()))},Oo.prototype.interfaces_=function(){return[Ir]},Oo.prototype.getClass=function(){return Oo},Oo.getLocations=function(t){var e=new Bt;return t.apply(new Oo(e)),e};var Kn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Qr,this._minDistanceLocation=null,this._minDistance=P.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var i=arguments[0],s=arguments[1],l=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=i,this._geom[1]=s,this._terminateDistance=l}};Kn.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],s=1-e,l=Gi.getPolygons(this._geom[e]);if(l.size()>0){var d=Oo.getLocations(this._geom[s]);if(this.computeContainmentDistance(d,l,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[s]=i[0],this._minDistanceLocation[e]=i[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Ct(arguments[0],Gn)&&Ct(arguments[1],Gn)){for(var _=arguments[0],w=arguments[1],F=arguments[2],et=0;et<_.size();et++)for(var _t=_.get(et),Pt=0;Pt<w.size();Pt++)if(this.computeContainmentDistance(_t,w.get(Pt),F),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof pr&&arguments[1]instanceof Tn){var zt=arguments[0],qt=arguments[1],Zt=arguments[2],Jt=zt.getCoordinate();if(R.EXTERIOR!==this._ptLocator.locate(Jt,qt))return this._minDistance=0,Zt[0]=zt,Zt[1]=new pr(qt,Jt),null}},Kn.prototype.computeMinDistanceLinesPoints=function(t,e,i){for(var s=0;s<t.size();s++)for(var l=t.get(s),d=0;d<e.size();d++){var _=e.get(d);if(this.computeMinDistance(l,_,i),this._minDistance<=this._terminateDistance)return null}},Kn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=$n.getLines(this._geom[0]),i=$n.getLines(this._geom[1]),s=Zi.getPoints(this._geom[0]),l=Zi.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,l,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(i,s,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(s,l,t),void this.updateMinDistance(t,!1))))},Kn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Kn.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Kn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Kn.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof xn&&arguments[1]instanceof yr){var t=arguments[0],e=arguments[1],i=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var s=t.getCoordinates(),l=e.getCoordinate(),d=0;d<s.length-1;d++){var _=Mt.distancePointLine(l,s[d],s[d+1]);if(_<this._minDistance){this._minDistance=_;var w=new te(s[d],s[d+1]).closestPoint(l);i[0]=new pr(t,d,w),i[1]=new pr(e,0,l)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof xn&&arguments[1]instanceof xn){var F=arguments[0],et=arguments[1],_t=arguments[2];if(F.getEnvelopeInternal().distance(et.getEnvelopeInternal())>this._minDistance)return null;for(var Pt=F.getCoordinates(),zt=et.getCoordinates(),qt=0;qt<Pt.length-1;qt++)for(var Zt=0;Zt<zt.length-1;Zt++){var Jt=Mt.distanceLineLine(Pt[qt],Pt[qt+1],zt[Zt],zt[Zt+1]);if(Jt<this._minDistance){this._minDistance=Jt;var me=new te(Pt[qt],Pt[qt+1]),Ee=new te(zt[Zt],zt[Zt+1]),nn=me.closestPoints(Ee);_t[0]=new pr(F,qt,nn[0]),_t[1]=new pr(et,Zt,nn[1])}if(this._minDistance<=this._terminateDistance)return null}}},Kn.prototype.computeMinDistancePoints=function(t,e,i){for(var s=0;s<t.size();s++)for(var l=t.get(s),d=0;d<e.size();d++){var _=e.get(d),w=l.getCoordinate().distance(_.getCoordinate());if(w<this._minDistance&&(this._minDistance=w,i[0]=new pr(l,0,l.getCoordinate()),i[1]=new pr(_,0,_.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Kn.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new S("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Kn.prototype.computeMinDistanceLines=function(t,e,i){for(var s=0;s<t.size();s++)for(var l=t.get(s),d=0;d<e.size();d++){var _=e.get(d);if(this.computeMinDistance(l,_,i),this._minDistance<=this._terminateDistance)return null}},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.distance=function(t,e){return new Kn(t,e).distance()},Kn.isWithinDistance=function(t,e,i){return new Kn(t,e,i).distance()<=i},Kn.nearestPoints=function(t,e){return new Kn(t,e).nearestPoints()};var or=function(){this._pt=[new I,new I],this._distance=P.NaN,this._isNull=!0};or.prototype.getCoordinates=function(){return this._pt},or.prototype.getCoordinate=function(t){return this._pt[t]},or.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var s=e.distance(i);s<this._distance&&this.initialize(e,i,s)}},or.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],l=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=l,this._isNull=!1}},or.prototype.toString=function(){return pt.toLineString(this._pt[0],this._pt[1])},or.prototype.getDistance=function(){return this._distance},or.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var s=e.distance(i);s>this._distance&&this.initialize(e,i,s)}},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or};var ti=function(){};ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.computeDistance=function(){if(arguments[2]instanceof or&&arguments[0]instanceof xn&&arguments[1]instanceof I)for(var t=arguments[0],e=arguments[1],i=arguments[2],s=new te,l=t.getCoordinates(),d=0;d<l.length-1;d++){s.setCoordinates(l[d],l[d+1]);var _=s.closestPoint(e);i.setMinimum(_,e)}else if(arguments[2]instanceof or&&arguments[0]instanceof Tn&&arguments[1]instanceof I){var w=arguments[0],F=arguments[1],et=arguments[2];ti.computeDistance(w.getExteriorRing(),F,et);for(var _t=0;_t<w.getNumInteriorRing();_t++)ti.computeDistance(w.getInteriorRingN(_t),F,et)}else if(arguments[2]instanceof or&&arguments[0]instanceof Xt&&arguments[1]instanceof I){var Pt=arguments[0],zt=arguments[1],qt=arguments[2];if(Pt instanceof xn)ti.computeDistance(Pt,zt,qt);else if(Pt instanceof Tn)ti.computeDistance(Pt,zt,qt);else if(Pt instanceof lr)for(var Zt=Pt,Jt=0;Jt<Zt.getNumGeometries();Jt++){var me=Zt.getGeometryN(Jt);ti.computeDistance(me,zt,qt)}else qt.setMinimum(Pt.getCoordinate(),zt)}else if(arguments[2]instanceof or&&arguments[0]instanceof te&&arguments[1]instanceof I){var nn=arguments[1],ge=arguments[2],ve=arguments[0].closestPoint(nn);ge.setMinimum(ve,nn)}};var Yr=function(){this._g0=null,this._g1=null,this._ptDist=new or,this._densifyFrac=0;var e=arguments[1];this._g0=arguments[0],this._g1=e},ca={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Yr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Yr.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new S("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Yr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Yr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Yr.prototype.computeOrientedDistance=function(t,e,i){var s=new uo(e);if(t.apply(s),i.setMaximum(s.getMaxPointDistance()),this._densifyFrac>0){var l=new ki(e,this._densifyFrac);t.apply(l),i.setMaximum(l.getMaxPointDistance())}},Yr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.distance=function(){if(2===arguments.length)return new Yr(arguments[0],arguments[1]).distance();if(3===arguments.length){var l=arguments[2],d=new Yr(arguments[0],arguments[1]);return d.setDensifyFraction(l),d.distance()}},ca.MaxPointDistanceFilter.get=function(){return uo},ca.MaxDensifiedByFractionDistanceFilter.get=function(){return ki},Object.defineProperties(Yr,ca);var uo=function(){this._maxPtDist=new or,this._minPtDist=new or,this._euclideanDist=new ti,this._geom=null,this._geom=arguments[0]};uo.prototype.filter=function(t){this._minPtDist.initialize(),ti.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},uo.prototype.getMaxPointDistance=function(){return this._maxPtDist},uo.prototype.interfaces_=function(){return[Pe]},uo.prototype.getClass=function(){return uo};var ki=function(){this._maxPtDist=new or,this._minPtDist=new or,this._geom=null,this._numSubSegs=0;var e=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/e))};ki.prototype.filter=function(t,e){if(0===e)return null;for(var i=t.getCoordinate(e-1),s=t.getCoordinate(e),l=(s.x-i.x)/this._numSubSegs,d=(s.y-i.y)/this._numSubSegs,_=0;_<this._numSubSegs;_++){var et=new I(i.x+_*l,i.y+_*d);this._minPtDist.initialize(),ti.computeDistance(this._geom,et,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},ki.prototype.isDone=function(){return!1},ki.prototype.isGeometryChanged=function(){return!1},ki.prototype.getMaxPointDistance=function(){return this._maxPtDist},ki.prototype.interfaces_=function(){return[Gr]},ki.prototype.getClass=function(){return ki};var Hn=function(t,e,i){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=i||null},Ds={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Hn.prototype.checkMaximumDistance=function(t,e,i){var s=new Yr(e,t);if(s.setDensifyFraction(.25),this._maxDistanceFound=s.orientedDistance(),this._maxDistanceFound>i){this._isValid=!1;var l=s.getCoordinates();this._errorLocation=l[1],this._errorIndicator=t.getFactory().createLineString(l),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+pt.toLineString(l[0],l[1])+")"}},Hn.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Hn.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Hn.VERBOSE&&Wt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Hn.prototype.checkNegativeValid=function(){if(!(this._input instanceof Tn||this._input instanceof Pi||this._input instanceof lr))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Hn.prototype.getErrorIndicator=function(){return this._errorIndicator},Hn.prototype.checkMinimumDistance=function(t,e,i){var s=new Kn(t,e,i);if(this._minDistanceFound=s.distance(),this._minDistanceFound<i){this._isValid=!1;var l=s.nearestPoints();this._errorLocation=s.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(l),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+pt.toLineString(l[0],l[1])+" )"}},Hn.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Hn.prototype.getErrorLocation=function(){return this._errorLocation},Hn.prototype.getPolygonLines=function(t){for(var e=new Bt,i=new $n(e),s=Gi.getPolygons(t).iterator();s.hasNext();)s.next().apply(i);return t.getFactory().buildGeometry(e)},Hn.prototype.getErrorMessage=function(){return this._errMsg},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Ds.VERBOSE.get=function(){return!1},Ds.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Hn,Ds);var qn=function(t,e,i){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=i||null},ds={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};qn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},qn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*qn.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new kt(this._input.getEnvelopeInternal());e.expandBy(this._distance);var i=new kt(this._result.getEnvelopeInternal());i.expandBy(t),i.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(i)),this.report("Envelope")},qn.prototype.checkDistance=function(){var t=new Hn(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},qn.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},qn.prototype.checkPolygonal=function(){this._result instanceof Tn||this._result instanceof Pi||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},qn.prototype.getErrorIndicator=function(){return this._errorIndicator},qn.prototype.getErrorLocation=function(){return this._errorLocation},qn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},qn.prototype.report=function(t){if(!qn.VERBOSE)return null;Wt.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},qn.prototype.getErrorMessage=function(){return this._errorMsg},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.isValidMsg=function(t,e,i){var s=new qn(t,e,i);return s.isValid()?null:s.getErrorMessage()},qn.isValid=function(t,e,i){return!!new qn(t,e,i).isValid()},ds.VERBOSE.get=function(){return!1},ds.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(qn,ds);var Nr=function(){this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};Nr.prototype.getCoordinates=function(){return this._pts},Nr.prototype.size=function(){return this._pts.length},Nr.prototype.getCoordinate=function(t){return this._pts[t]},Nr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Nr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Po.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Nr.prototype.setData=function(t){this._data=t},Nr.prototype.getData=function(){return this._data},Nr.prototype.toString=function(){return pt.toLineString(new Cn(this._pts))},Nr.prototype.interfaces_=function(){return[Ni]},Nr.prototype.getClass=function(){return Nr};var zn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Bt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};zn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},zn.prototype.getIntersectionSegments=function(){return this._intSegments},zn.prototype.count=function(){return this._intersectionCount},zn.prototype.getIntersections=function(){return this._intersections},zn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zn.prototype.setKeepIntersections=function(t){this._keepIntersections=t},zn.prototype.processIntersections=function(t,e,i,s){if(!this._findAllIntersections&&this.hasIntersection()||t===i&&e===s||this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(i,s))return null;var l=t.getCoordinates()[e],d=t.getCoordinates()[e+1],_=i.getCoordinates()[s],w=i.getCoordinates()[s+1];this._li.computeIntersection(l,d,_,w),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=l,this._intSegments[1]=d,this._intSegments[2]=_,this._intSegments[3]=w,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zn.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},zn.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zn.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zn.prototype.interfaces_=function(){return[Wi]},zn.prototype.getClass=function(){return zn},zn.createAllIntersectionsFinder=function(t){var e=new zn(t);return e.setFindAllIntersections(!0),e},zn.createAnyIntersectionFinder=function(t){return new zn(t)},zn.createIntersectionCounter=function(t){var e=new zn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var gr=function(){this._li=new wt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};gr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},gr.prototype.getIntersections=function(){return this._segInt.getIntersections()},gr.prototype.isValid=function(){return this.execute(),this._isValid},gr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},gr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new As;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},gr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ri(this.getErrorMessage(),this._segInt.getInteriorIntersection())},gr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+pt.toLineString(t[0],t[1])+" and "+pt.toLineString(t[2],t[3])},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},gr.computeIntersections=function(t){var e=new gr(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Ur=function t(){this._nv=null,this._nv=new gr(t.toSegmentStrings(arguments[0]))};Ur.prototype.checkValid=function(){this._nv.checkValid()},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.toSegmentStrings=function(t){for(var e=new Bt,i=t.iterator();i.hasNext();){var s=i.next();e.add(new Nr(s.getCoordinates(),s))}return e},Ur.checkValid=function(t){new Ur(t).checkValid()};var lo=function(t){this._mapOp=t};lo.prototype.map=function(t){for(var e=new Bt,i=0;i<t.getNumGeometries();i++){var s=this._mapOp.map(t.getGeometryN(i));s.isEmpty()||e.add(s)}return t.getFactory().createGeometryCollection(xe.toGeometryArray(e))},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo},lo.map=function(t,e){return new lo(e).map(t)};var vi=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Bt,this._resultLineList=new Bt;var e=arguments[1],i=arguments[2];this._op=arguments[0],this._geometryFactory=e,this._ptLocator=i};vi.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var i=e.next();this.collectLineEdge(i,t,this._lineEdgesList),this.collectBoundaryTouchEdge(i,t,this._lineEdgesList)}},vi.prototype.labelIsolatedLine=function(t,e){var i=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,i)},vi.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},vi.prototype.collectLineEdge=function(t,e,i){var s=t.getLabel(),l=t.getEdge();t.isLineEdge()&&(t.isVisited()||!le.isResultOfOp(s,e)||l.isCovered()||(i.add(l),t.setVisitedEdge(!0)))},vi.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var i=e.next(),s=i.getEdge();if(i.isLineEdge()&&!s.isCoveredSet()){var l=this._op.isCoveredByA(i.getCoordinate());s.setCovered(l)}}},vi.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),s=i.getLabel();i.isIsolated()&&(s.isNull(0)?this.labelIsolatedLine(i,0):this.labelIsolatedLine(i,1))}},vi.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var i=e.next(),s=this._geometryFactory.createLineString(i.getCoordinates());this._resultLineList.add(s),i.setInResult(!0)}},vi.prototype.collectBoundaryTouchEdge=function(t,e,i){var s=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(C.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(le.isResultOfOp(s,e)&&e===le.INTERSECTION&&(i.add(t.getEdge()),t.setVisitedEdge(!0))))},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var Ro=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Bt;var e=arguments[1];this._op=arguments[0],this._geometryFactory=e};Ro.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var i=this._geometryFactory.createPoint(e);this._resultPointList.add(i)}},Ro.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var i=e.next();if(!(i.isInResult()||i.isIncidentEdgeInResult()||0!==i.getEdges().getDegree()&&t!==le.INTERSECTION)){var s=i.getLabel();le.isResultOfOp(s,t)&&this.filterCoveredNodeToPoint(i)}}},Ro.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro};var sr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};sr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},sr.prototype.transformPolygon=function(t,e){var i=!0,s=this.transformLinearRing(t.getExteriorRing(),t);null!==s&&s instanceof Si&&!s.isEmpty()||(i=!1);for(var l=new Bt,d=0;d<t.getNumInteriorRing();d++){var _=this.transformLinearRing(t.getInteriorRingN(d),t);null===_||_.isEmpty()||(_ instanceof Si||(i=!1),l.add(_))}if(i)return this._factory.createPolygon(s,l.toArray([]));var w=new Bt;return null!==s&&w.add(s),w.addAll(l),this._factory.buildGeometry(w)},sr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},sr.prototype.getInputGeometry=function(){return this._inputGeom},sr.prototype.transformMultiLineString=function(t,e){for(var i=new Bt,s=0;s<t.getNumGeometries();s++){var l=this.transformLineString(t.getGeometryN(s),t);null!==l&&(l.isEmpty()||i.add(l))}return this._factory.buildGeometry(i)},sr.prototype.transformCoordinates=function(t,e){return this.copy(t)},sr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},sr.prototype.transformMultiPoint=function(t,e){for(var i=new Bt,s=0;s<t.getNumGeometries();s++){var l=this.transformPoint(t.getGeometryN(s),t);null!==l&&(l.isEmpty()||i.add(l))}return this._factory.buildGeometry(i)},sr.prototype.transformMultiPolygon=function(t,e){for(var i=new Bt,s=0;s<t.getNumGeometries();s++){var l=this.transformPolygon(t.getGeometryN(s),t);null!==l&&(l.isEmpty()||i.add(l))}return this._factory.buildGeometry(i)},sr.prototype.copy=function(t){return t.copy()},sr.prototype.transformGeometryCollection=function(t,e){for(var i=new Bt,s=0;s<t.getNumGeometries();s++){var l=this.transform(t.getGeometryN(s));null!==l&&(this._pruneEmptyGeometry&&l.isEmpty()||i.add(l))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(xe.toGeometryArray(i)):this._factory.buildGeometry(i)},sr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof yr)return this.transformPoint(t,null);if(t instanceof Go)return this.transformMultiPoint(t,null);if(t instanceof Si)return this.transformLinearRing(t,null);if(t instanceof xn)return this.transformLineString(t,null);if(t instanceof io)return this.transformMultiLineString(t,null);if(t instanceof Tn)return this.transformPolygon(t,null);if(t instanceof Pi)return this.transformMultiPolygon(t,null);if(t instanceof lr)return this.transformGeometryCollection(t,null);throw new S("Unknown Geometry subtype: "+t.getClass().getName())},sr.prototype.transformLinearRing=function(t,e){var i=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===i)return this._factory.createLinearRing(null);var s=i.size();return s>0&&s<4&&!this._preserveType?this._factory.createLineString(i):this._factory.createLinearRing(i)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var ei=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new te,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof xn&&"number"==typeof arguments[1]){var i=arguments[1];t.call(this,arguments[0].getCoordinates(),i)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1];this._srcPts=s,this._isClosed=t.isClosed(s),this._snapTolerance=l}};ei.prototype.snapVertices=function(t,e){for(var i=this._isClosed?t.size()-1:t.size(),s=0;s<i;s++){var l=t.get(s),d=this.findSnapForVertex(l,e);null!==d&&(t.set(s,new I(d)),0===s&&this._isClosed&&t.set(t.size()-1,new I(d)))}},ei.prototype.findSnapForVertex=function(t,e){for(var i=0;i<e.length;i++){if(t.equals2D(e[i]))return null;if(t.distance(e[i])<this._snapTolerance)return e[i]}return null},ei.prototype.snapTo=function(t){var e=new Jr(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},ei.prototype.snapSegments=function(t,e){if(0===e.length)return null;var i=e.length;e[0].equals2D(e[e.length-1])&&(i=e.length-1);for(var s=0;s<i;s++){var l=e[s],d=this.findSegmentIndexToSnap(l,t);d>=0&&t.add(d+1,new I(l),!1)}},ei.prototype.findSegmentIndexToSnap=function(t,e){for(var i=P.MAX_VALUE,s=-1,l=0;l<e.size()-1;l++){if(this._seg.p0=e.get(l),this._seg.p1=e.get(l+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var d=this._seg.distance(t);d<this._snapTolerance&&d<i&&(i=d,s=l)}return s},ei.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei},ei.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var hn=function(t){this._srcGeom=t||null},Fs={SNAP_PRECISION_FACTOR:{configurable:!0}};hn.prototype.snapTo=function(t,e){var i=this.extractTargetCoordinates(t);return new ys(e,i).transform(this._srcGeom)},hn.prototype.snapToSelf=function(t,e){var i=this.extractTargetCoordinates(this._srcGeom),s=new ys(t,i,!0).transform(this._srcGeom),l=s;return e&&Ct(l,oi)&&(l=s.buffer(0)),l},hn.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},hn.prototype.extractTargetCoordinates=function(t){for(var e=new St,i=t.getCoordinates(),s=0;s<i.length;s++)e.add(i[s]);return e.toArray(new Array(0).fill(null))},hn.prototype.computeMinimumSegmentLength=function(t){for(var e=P.MAX_VALUE,i=0;i<t.length-1;i++){var s=t[i].distance(t[i+1]);s<e&&(e=s)}return e},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.snap=function(t,e,i){var s=new Array(2).fill(null),l=new hn(t);s[0]=l.snapTo(e,i);var d=new hn(e);return s[1]=d.snapTo(s[0],i),s},hn.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=hn.computeSizeBasedSnapTolerance(t),i=t.getPrecisionModel();if(i.getType()===Ke.FIXED){var s=1/i.getScale()*2/1.415;s>e&&(e=s)}return e}if(2===arguments.length){var d=arguments[1];return Math.min(hn.computeOverlaySnapTolerance(arguments[0]),hn.computeOverlaySnapTolerance(d))}},hn.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*hn.SNAP_PRECISION_FACTOR},hn.snapToSelf=function(t,e,i){return new hn(t).snapToSelf(e,i)},Fs.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(hn,Fs);var ys=function(t){function e(i,s,l){t.call(this),this._snapTolerance=i||null,this._snapPts=s||null,this._isSelfSnap=void 0!==l&&l}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(i,s){var l=new ei(i,this._snapTolerance);return l.setAllowSnappingToSourceVertices(this._isSelfSnap),l.snapTo(s)},e.prototype.transformCoordinates=function(i,s){var l=i.toCoordinateArray(),d=this.snapLine(l,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(d)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(sr),Vn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Vn.prototype.getCommon=function(){return P.longBitsToDouble(this._commonBits)},Vn.prototype.add=function(t){var e=P.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Vn.signExpBits(this._commonBits),this._isFirst=!1,null):Vn.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Vn.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Vn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Vn.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=P.longBitsToDouble(t),i="0000000000000000000000000000000000000000000000000000000000000000"+P.toBinaryString(t),s=i.substring(i.length-64);return s.substring(0,1)+"  "+s.substring(1,12)+"(exp) "+s.substring(12)+" [ "+e+" ]"}},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn},Vn.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Vn.signExpBits=function(t){return t>>52},Vn.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Vn.numCommonMostSigMantissaBits=function(t,e){for(var i=0,s=52;s>=0;s--){if(Vn.getBit(t,s)!==Vn.getBit(e,s))return i;i++}return 52};var ji=function(){this._commonCoord=null,this._ccFilter=new Ao},ha={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ji.prototype.addCommonBits=function(t){var e=new Li(this._commonCoord);t.apply(e),t.geometryChanged()},ji.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new I(this._commonCoord);e.x=-e.x,e.y=-e.y;var i=new Li(e);return t.apply(i),t.geometryChanged(),t},ji.prototype.getCommonCoordinate=function(){return this._commonCoord},ji.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji},ha.CommonCoordinateFilter.get=function(){return Ao},ha.Translater.get=function(){return Li},Object.defineProperties(ji,ha);var Ao=function(){this._commonBitsX=new Vn,this._commonBitsY=new Vn};Ao.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Ao.prototype.getCommonCoordinate=function(){return new I(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ao.prototype.interfaces_=function(){return[Pe]},Ao.prototype.getClass=function(){return Ao};var Li=function(){this.trans=null,this.trans=arguments[0]};Li.prototype.filter=function(t,e){var i=t.getOrdinate(e,0)+this.trans.x,s=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,i),t.setOrdinate(e,1,s)},Li.prototype.isDone=function(){return!1},Li.prototype.isGeometryChanged=function(){return!0},Li.prototype.interfaces_=function(){return[Gr]},Li.prototype.getClass=function(){return Li};var On=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};On.prototype.selfSnap=function(t){return new hn(t).snapTo(t,this._snapTolerance)},On.prototype.removeCommonBits=function(t){this._cbr=new ji,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},On.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},On.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),i=le.overlayOp(e[0],e[1],t);return this.prepareResult(i)},On.prototype.checkValid=function(t){t.isValid()||Wt.out.println("Snapped geometry is invalid")},On.prototype.computeSnapTolerance=function(){this._snapTolerance=hn.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},On.prototype.snap=function(t){var e=this.removeCommonBits(t);return hn.snap(e[0],e[1],this._snapTolerance)},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.overlayOp=function(t,e,i){return new On(t,e).getResultGeometry(i)},On.union=function(t,e){return On.overlayOp(t,e,le.UNION)},On.intersection=function(t,e){return On.overlayOp(t,e,le.INTERSECTION)},On.symDifference=function(t,e){return On.overlayOp(t,e,le.SYMDIFFERENCE)},On.difference=function(t,e){return On.overlayOp(t,e,le.DIFFERENCE)};var Qn=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Qn.prototype.getResultGeometry=function(t){var e=null,i=!1,s=null;try{e=le.overlayOp(this._geom[0],this._geom[1],t),i=!0}catch(l){if(!(l instanceof A))throw l;s=l}if(!i)try{e=On.overlayOp(this._geom[0],this._geom[1],t)}catch(l){throw l instanceof A?s:l}return e},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.overlayOp=function(t,e,i){return new Qn(t,e).getResultGeometry(i)},Qn.union=function(t,e){return Qn.overlayOp(t,e,le.UNION)},Qn.intersection=function(t,e){return Qn.overlayOp(t,e,le.INTERSECTION)},Qn.symDifference=function(t,e){return Qn.overlayOp(t,e,le.SYMDIFFERENCE)},Qn.difference=function(t,e){return Qn.overlayOp(t,e,le.DIFFERENCE)};var fo=function(){this.mce=null,this.chainIndex=null;var e=arguments[1];this.mce=arguments[0],this.chainIndex=e};fo.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo};var Mr=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],i=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=i}else if(3===arguments.length){var s=arguments[0],l=arguments[1],d=arguments[2];this._eventType=t.INSERT,this._label=s,this._xValue=l,this._obj=d}},pa={INSERT:{configurable:!0},DELETE:{configurable:!0}};Mr.prototype.isDelete=function(){return this._eventType===Mr.DELETE},Mr.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Mr.prototype.getObject=function(){return this._obj},Mr.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Mr.prototype.getInsertEvent=function(){return this._insertEvent},Mr.prototype.isInsert=function(){return this._eventType===Mr.INSERT},Mr.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Mr.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Mr.prototype.interfaces_=function(){return[N]},Mr.prototype.getClass=function(){return Mr},pa.INSERT.get=function(){return 1},pa.DELETE.get=function(){return 2},Object.defineProperties(Mr,pa);var Wo=function(){};Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo};var tr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[1],i=arguments[2];this._li=arguments[0],this._includeProper=e,this._recordIsolated=i};tr.prototype.isTrivialIntersection=function(t,e,i,s){if(t===i&&1===this._li.getIntersectionNum()){if(tr.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var l=t.getNumPoints()-1;if(0===e&&s===l||0===s&&e===l)return!0}}return!1},tr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},tr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},tr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},tr.prototype.isBoundaryPointInternal=function(t,e){for(var i=e.iterator();i.hasNext();){var s=i.next().getCoordinate();if(t.isIntersection(s))return!0}return!1},tr.prototype.hasProperIntersection=function(){return this._hasProper},tr.prototype.hasIntersection=function(){return this._hasIntersection},tr.prototype.isDone=function(){return this._isDone},tr.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},tr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},tr.prototype.addIntersections=function(t,e,i,s){if(t===i&&e===s)return null;this.numTests++;var l=t.getCoordinates()[e],d=t.getCoordinates()[e+1],_=i.getCoordinates()[s],w=i.getCoordinates()[s+1];this._li.computeIntersection(l,d,_,w),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),i.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,i,s)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),i.addIntersections(this._li,s,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var au=function(t){function e(){t.call(this),this.events=new Bt,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){zr.sort(this.events);for(var i=0;i<this.events.size();i++){var s=this.events.get(i);s.isDelete()&&s.getInsertEvent().setDeleteEventIndex(i)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var i=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var s=0;s<this.events.size();s++){var l=this.events.get(s);if(l.isInsert()&&this.processOverlaps(s,l.getDeleteEventIndex(),l,i),i.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof tr&&Ct(arguments[0],Gn)&&Ct(arguments[1],Gn)){var d=arguments[0],_=arguments[1],w=arguments[2];this.addEdges(d,d),this.addEdges(_,_),this.computeIntersections(w)}else if("boolean"==typeof arguments[2]&&Ct(arguments[0],Gn)&&arguments[1]instanceof tr){var F=arguments[0],et=arguments[1];arguments[2]?this.addEdges(F,null):this.addEdges(F),this.computeIntersections(et)}},e.prototype.addEdge=function(i,s){for(var l=i.getMonotoneChainEdge(),d=l.getStartIndexes(),_=0;_<d.length-1;_++){var w=new fo(l,_),F=new Mr(s,l.getMinX(_),w);this.events.add(F),this.events.add(new Mr(l.getMaxX(_),F))}},e.prototype.processOverlaps=function(i,s,l,d){for(var _=l.getObject(),w=i;w<s;w++){var F=this.events.get(w);if(F.isInsert()){var et=F.getObject();l.isSameLabel(F)||(_.computeIntersections(et,d),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var i=arguments[0].iterator();i.hasNext();){var s=i.next();this.addEdge(s,s)}else if(2===arguments.length)for(var d=arguments[1],_=arguments[0].iterator();_.hasNext();){var w=_.next();this.addEdge(w,d)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wo),mi=function(){this._min=P.POSITIVE_INFINITY,this._max=P.NEGATIVE_INFINITY},Bs={NodeComparator:{configurable:!0}};mi.prototype.getMin=function(){return this._min},mi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},mi.prototype.getMax=function(){return this._max},mi.prototype.toString=function(){return pt.toLineString(new I(this._min,0),new I(this._max,0))},mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},Bs.NodeComparator.get=function(){return vs},Object.defineProperties(mi,Bs);var vs=function(){};vs.prototype.compare=function(t,e){var l=(t._min+t._max)/2,d=(e._min+e._max)/2;return l<d?-1:l>d?1:0},vs.prototype.interfaces_=function(){return[O]},vs.prototype.getClass=function(){return vs};var ga=function(t){function e(){t.call(this),this._item=null;var s=arguments[1],l=arguments[2];this._min=arguments[0],this._max=s,this._item=l}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(i,s,l){if(!this.intersects(i,s))return null;l.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mi),da=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var s=arguments[1];this._node1=arguments[0],this._node2=s,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(i,s){this._min=Math.min(i._min,s._min),this._max=Math.max(i._max,s._max)},e.prototype.query=function(i,s,l){if(!this.intersects(i,s))return null;null!==this._node1&&this._node1.query(i,s,l),null!==this._node2&&this._node2.query(i,s,l)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mi),_i=function(){this._leaves=new Bt,this._root=null,this._level=0};_i.prototype.buildTree=function(){zr.sort(this._leaves,new mi.NodeComparator);for(var t=this._leaves,e=null,i=new Bt;;){if(this.buildLevel(t,i),1===i.size())return i.get(0);e=t,t=i,i=e}},_i.prototype.insert=function(t,e,i){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new ga(t,e,i))},_i.prototype.query=function(t,e,i){this.init(),this._root.query(t,e,i)},_i.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},_i.prototype.printNode=function(t){Wt.out.println(pt.toLineString(new I(t._min,this._level),new I(t._max,this._level)))},_i.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},_i.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var i=0;i<t.size();i+=2){var s=t.get(i);if(null===(i+1<t.size()?t.get(i):null))e.add(s);else{var l=new da(t.get(i),t.get(i+1));e.add(l)}}},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var Ho=function(){this._items=new Bt};Ho.prototype.visitItem=function(t){this._items.add(t)},Ho.prototype.getItems=function(){return this._items},Ho.prototype.interfaces_=function(){return[Yi]},Ho.prototype.getClass=function(){return Ho};var Vo=function(){this._index=null;var t=arguments[0];if(!Ct(t,oi))throw new S("Argument must be Polygonal");this._index=new co(t)},ms={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Vo.prototype.locate=function(t){var e=new Dt(t),i=new Jo(e);return this._index.query(t.y,t.y,i),e.getLocation()},Vo.prototype.interfaces_=function(){return[Uo]},Vo.prototype.getClass=function(){return Vo},ms.SegmentVisitor.get=function(){return Jo},ms.IntervalIndexedGeometry.get=function(){return co},Object.defineProperties(Vo,ms);var Jo=function(){this._counter=null,this._counter=arguments[0]};Jo.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Jo.prototype.interfaces_=function(){return[Yi]},Jo.prototype.getClass=function(){return Jo};var co=function(){this._index=new _i,this.init(arguments[0])};co.prototype.init=function(t){for(var e=$n.getLines(t).iterator();e.hasNext();){var i=e.next().getCoordinates();this.addLine(i)}},co.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var i=new te(t[e-1],t[e]),s=Math.min(i.p0.y,i.p1.y),l=Math.max(i.p0.y,i.p1.y);this._index.insert(s,l,i)}},co.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new Ho;return this._index.query(t,e,i),i.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co};var ho=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new $a,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Qr,2===arguments.length){var s=arguments[1],l=Ne.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=s,this._boundaryNodeRule=l,null!==s&&this.add(s)}else if(3===arguments.length){var _=arguments[1],w=arguments[2];this._argIndex=arguments[0],this._parentGeom=_,this._boundaryNodeRule=w,null!==_&&this.add(_)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(i,s){var l=this._nodes.addNode(s).getLabel(),d=1;l.getLocation(i,Gt.ON)===R.BOUNDARY&&d++;var _=e.determineBoundary(this._boundaryNodeRule,d);l.setLocation(i,_)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var d=arguments[1],_=arguments[2],w=new tr(arguments[0],!0,!1);return w.setIsDoneIfProperInt(_),this.createEdgeSetIntersector().computeIntersections(this._edges,w,d||!(this._parentGeom instanceof Si||this._parentGeom instanceof Tn||this._parentGeom instanceof Pi)),this.addSelfIntersectionNodes(this._argIndex),w}},e.prototype.computeSplitEdges=function(i){for(var s=this._edges.iterator();s.hasNext();)s.next().eiList.addSplitEdges(i)},e.prototype.computeEdgeIntersections=function(i,s,l){var d=new tr(s,l,!0);return d.setBoundaryNodes(this.getBoundaryNodes(),i.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,i._edges,d),d},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof yr){var i=arguments[0].getCoordinate();this.insertPoint(this._argIndex,i,R.INTERIOR)}else arguments[0]instanceof I&&this.insertPoint(this._argIndex,arguments[0],R.INTERIOR)},e.prototype.addPolygon=function(i){this.addPolygonRing(i.getExteriorRing(),R.EXTERIOR,R.INTERIOR);for(var s=0;s<i.getNumInteriorRing();s++){var l=i.getInteriorRingN(s);this.addPolygonRing(l,R.INTERIOR,R.EXTERIOR)}},e.prototype.addEdge=function(i){this.insertEdge(i);var s=i.getCoordinates();this.insertPoint(this._argIndex,s[0],R.BOUNDARY),this.insertPoint(this._argIndex,s[s.length-1],R.BOUNDARY)},e.prototype.addLineString=function(i){var s=ye.removeRepeatedPoints(i.getCoordinates());if(s.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var l=new Mo(s,new en(this._argIndex,R.INTERIOR));this._lineEdgeMap.put(i,l),this.insertEdge(l),C.isTrue(s.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,s[0]),this.insertBoundaryPoint(this._argIndex,s[s.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var i=this.getBoundaryNodes(),s=new Array(i.size()).fill(null),l=0,d=i.iterator();d.hasNext();){var _=d.next();s[l++]=_.getCoordinate().copy()}return s},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(i,s,l){if(this.isBoundaryNode(i,s))return null;l===R.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(i,s):this.insertPoint(i,s,l)},e.prototype.addPolygonRing=function(i,s,l){if(i.isEmpty())return null;var d=ye.removeRepeatedPoints(i.getCoordinates());if(d.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=d[0],null;var _=s,w=l;Mt.isCCW(d)&&(_=l,w=s);var F=new Mo(d,new en(this._argIndex,R.BOUNDARY,_,w));this._lineEdgeMap.put(i,F),this.insertEdge(F),this.insertPoint(this._argIndex,d[0],R.BOUNDARY)},e.prototype.insertPoint=function(i,s,l){var d=this._nodes.addNode(s),_=d.getLabel();null===_?d._label=new en(i,l):_.setLocation(i,l)},e.prototype.createEdgeSetIntersector=function(){return new au},e.prototype.addSelfIntersectionNodes=function(i){for(var s=this._edges.iterator();s.hasNext();)for(var l=s.next(),d=l.getLabel().getLocation(i),_=l.eiList.iterator();_.hasNext();){var w=_.next();this.addSelfIntersectionNode(i,w.coord,d)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var i=arguments[0];if(i.isEmpty())return null;if(i instanceof Pi&&(this._useBoundaryDeterminationRule=!1),i instanceof Tn)this.addPolygon(i);else if(i instanceof xn)this.addLineString(i);else if(i instanceof yr)this.addPoint(i);else if(i instanceof Go)this.addCollection(i);else if(i instanceof io)this.addCollection(i);else if(i instanceof Pi)this.addCollection(i);else{if(!(i instanceof lr))throw new Error(i.getClass().getName());this.addCollection(i)}},e.prototype.addCollection=function(i){for(var s=0;s<i.getNumGeometries();s++){var l=i.getGeometryN(s);this.add(l)}},e.prototype.locate=function(i){return Ct(this._parentGeom,oi)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Vo(this._parentGeom)),this._areaPtLocator.locate(i)):this._ptLocator.locate(i,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(i,s){return i.isInBoundary(s)?R.BOUNDARY:R.INTERIOR},e}(vn),Zo=function(){if(this._li=new wt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new ho(0,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],s=Ne.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ho(0,e,s),this._arg[1]=new ho(1,i,s)}else if(3===arguments.length){var l=arguments[0],d=arguments[1],_=arguments[2];l.getPrecisionModel().compareTo(d.getPrecisionModel())>=0?this.setComputationPrecision(l.getPrecisionModel()):this.setComputationPrecision(d.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ho(0,l,_),this._arg[1]=new ho(1,d,_)}};Zo.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Zo.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo};var po=function(){};po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po},po.map=function(){if(arguments[0]instanceof Xt&&Ct(arguments[1],po.MapOp)){for(var t=arguments[0],e=arguments[1],i=new Bt,s=0;s<t.getNumGeometries();s++){var l=e.map(t.getGeometryN(s));null!==l&&i.add(l)}return t.getFactory().buildGeometry(i)}if(Ct(arguments[0],cn)&&Ct(arguments[1],po.MapOp)){for(var d=arguments[0],_=arguments[1],w=new Bt,F=d.iterator();F.hasNext();){var et=F.next(),_t=_.map(et);null!==_t&&w.add(_t)}return w}},po.MapOp=function(){};var le=function(t){function e(){var i=arguments[0];t.call(this,i,arguments[1]),this._ptLocator=new Qr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new $r,this._resultPolyList=new Bt,this._resultLineList=new Bt,this._resultPointList=new Bt,this._graph=new vn(new nu),this._geomFact=i.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(i){var s=this._edgeList.findEqualEdge(i);if(null!==s){var l=s.getLabel(),d=i.getLabel();s.isPointwiseEqual(i)||(d=new en(i.getLabel())).flip();var _=s.getDepth();_.isNull()&&_.add(l),_.add(d),l.merge(d)}else this._edgeList.add(i)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var s=i.next(),l=s.getSym();s.isInResult()&&l.isInResult()&&(s.setInResult(!1),l.setInResult(!1))}},e.prototype.isCoveredByLA=function(i){return!!this.isCovered(i,this._resultLineList)||!!this.isCovered(i,this._resultPolyList)},e.prototype.computeGeometry=function(i,s,l,d){var _=new Bt;return _.addAll(i),_.addAll(s),_.addAll(l),_.isEmpty()?e.createEmptyResult(d,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(_)},e.prototype.mergeSymLabels=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();)i.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(i,s){for(var l=s.iterator();l.hasNext();){var d=l.next();if(this._ptLocator.locate(i,d)!==R.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var i=new Bt,s=this._edgeList.iterator();s.hasNext();){var l=s.next();l.isCollapsed()&&(s.remove(),i.add(l.getCollapsedEdge()))}this._edgeList.addAll(i)},e.prototype.updateNodeLabelling=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var s=i.next(),l=s.getEdges().getLabel();s.getLabel().merge(l)}},e.prototype.getResultGeometry=function(i){return this.computeOverlay(i),this._resultGeom},e.prototype.insertUniqueEdges=function(i){for(var s=i.iterator();s.hasNext();){var l=s.next();this.insertUniqueEdge(l)}},e.prototype.computeOverlay=function(i){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var s=new Bt;this._arg[0].computeSplitEdges(s),this._arg[1].computeSplitEdges(s),this.insertUniqueEdges(s),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ur.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(i),this.cancelDuplicateResultEdges();var l=new vr(this._geomFact);l.add(this._graph),this._resultPolyList=l.getPolygons();var d=new vi(this,this._geomFact,this._ptLocator);this._resultLineList=d.build(i);var _=new Ro(this,this._geomFact,this._ptLocator);this._resultPointList=_.build(i),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,i)},e.prototype.labelIncompleteNode=function(i,s){var l=this._ptLocator.locate(i.getCoordinate(),this._arg[s].getGeometry());i.getLabel().setLocation(s,l)},e.prototype.copyPoints=function(i){for(var s=this._arg[i].getNodeIterator();s.hasNext();){var l=s.next();this._graph.addNode(l.getCoordinate()).setLabel(i,l.getLabel().getLocation(i))}},e.prototype.findResultAreaEdges=function(i){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var l=s.next(),d=l.getLabel();d.isArea()&&!l.isInteriorAreaEdge()&&e.isResultOfOp(d.getLocation(0,Gt.RIGHT),d.getLocation(1,Gt.RIGHT),i)&&l.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var i=this._edgeList.iterator();i.hasNext();){var s=i.next(),l=s.getLabel(),d=s.getDepth();if(!d.isNull()){d.normalize();for(var _=0;_<2;_++)l.isNull(_)||!l.isArea()||d.isNull(_)||(0===d.getDelta(_)?l.toLine(_):(C.isTrue(!d.isNull(_,Gt.LEFT),"depth of LEFT side has not been initialized"),l.setLocation(_,Gt.LEFT,d.getLocation(_,Gt.LEFT)),C.isTrue(!d.isNull(_,Gt.RIGHT),"depth of RIGHT side has not been initialized"),l.setLocation(_,Gt.RIGHT,d.getLocation(_,Gt.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();)i.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var s=i.next(),l=s.getLabel();s.isIsolated()&&(l.isNull(0)?this.labelIncompleteNode(s,0):this.labelIncompleteNode(s,1)),s.getEdges().updateLabelling(l)}},e.prototype.isCoveredByA=function(i){return!!this.isCovered(i,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zo);le.overlayOp=function(t,e,i){return new le(t,e).getResultGeometry(i)},le.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return le.createEmptyResult(le.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var i=e;return lo.map(t,{interfaces_:function(){return[po.MapOp]},map:function(s){return s.intersection(i)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Qn.overlayOp(t,e,le.INTERSECTION)},le.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return le.createEmptyResult(le.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Qn.overlayOp(t,e,le.SYMDIFFERENCE)},le.resultDimension=function(t,e,i){var s=e.getDimension(),l=i.getDimension(),d=-1;switch(t){case le.INTERSECTION:d=Math.min(s,l);break;case le.UNION:d=Math.max(s,l);break;case le.DIFFERENCE:d=s;break;case le.SYMDIFFERENCE:d=Math.max(s,l)}return d},le.createEmptyResult=function(t,e,i,s){var l=null;switch(le.resultDimension(t,e,i)){case-1:l=s.createGeometryCollection(new Array(0).fill(null));break;case 0:l=s.createPoint();break;case 1:l=s.createLineString();break;case 2:l=s.createPolygon()}return l},le.difference=function(t,e){return t.isEmpty()?le.createEmptyResult(le.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Qn.overlayOp(t,e,le.DIFFERENCE))},le.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=t.getLocation(0),s=t.getLocation(1);return le.isResultOfOp(i,s,e)}if(3===arguments.length){var l=arguments[0],d=arguments[1];switch(l===R.BOUNDARY&&(l=R.INTERIOR),d===R.BOUNDARY&&(d=R.INTERIOR),arguments[2]){case le.INTERSECTION:return l===R.INTERIOR&&d===R.INTERIOR;case le.UNION:return l===R.INTERIOR||d===R.INTERIOR;case le.DIFFERENCE:return l===R.INTERIOR&&d!==R.INTERIOR;case le.SYMDIFFERENCE:return l===R.INTERIOR&&d!==R.INTERIOR||l!==R.INTERIOR&&d===R.INTERIOR}return!1}},le.INTERSECTION=1,le.UNION=2,le.DIFFERENCE=3,le.SYMDIFFERENCE=4;var $i=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Qr,this._seg=new te;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};$i.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var i=this._linework.getGeometryN(e).getCoordinateSequence(),s=0;s<i.size()-1;s++)if(i.getCoordinate(s,this._seg.p0),i.getCoordinate(s+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},$i.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?R.BOUNDARY:this._ptLocator.locate(t,this._g)},$i.prototype.extractLinework=function(t){var e=new jo;t.apply(e);var i=e.getLinework(),s=xe.toLineStringArray(i);return t.getFactory().createMultiLineString(s)},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i};var jo=function(){this._linework=null,this._linework=new Bt};jo.prototype.getLinework=function(){return this._linework},jo.prototype.filter=function(t){if(t instanceof Tn){var e=t;this._linework.add(e.getExteriorRing());for(var i=0;i<e.getNumInteriorRing();i++)this._linework.add(e.getInteriorRingN(i))}},jo.prototype.interfaces_=function(){return[Ir]},jo.prototype.getClass=function(){return jo};var qi=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};qi.prototype.extractPoints=function(t,e,i){for(var s=t.getCoordinates(),l=0;l<s.length-1;l++)this.computeOffsetPoints(s[l],s[l+1],e,i)},qi.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},qi.prototype.getPoints=function(t){for(var e=new Bt,i=$n.getLines(this._g).iterator();i.hasNext();){var s=i.next();this.extractPoints(s,t,e)}return e},qi.prototype.computeOffsetPoints=function(t,e,i,s){var l=e.x-t.x,d=e.y-t.y,_=Math.sqrt(l*l+d*d),w=i*l/_,F=i*d/_,et=(e.x+t.x)/2,_t=(e.y+t.y)/2;if(this._doLeft){var Pt=new I(et-F,_t+w);s.add(Pt)}if(this._doRight){var zt=new I(et+F,_t-w);s.add(zt)}},qi.prototype.interfaces_=function(){return[]},qi.prototype.getClass=function(){return qi};var Tr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Bt;var e=arguments[0],i=arguments[1],s=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,i),this._geom=[e,i,s],this._locFinder=[new $i(this._geom[0],this._boundaryDistanceTolerance),new $i(this._geom[1],this._boundaryDistanceTolerance),new $i(this._geom[2],this._boundaryDistanceTolerance)]},uu={TOLERANCE:{configurable:!0}};Tr.prototype.reportResult=function(t,e,i){Wt.out.println("Overlay result invalid - A:"+R.toLocationSymbol(e[0])+" B:"+R.toLocationSymbol(e[1])+" expected:"+(i?"i":"e")+" actual:"+R.toLocationSymbol(e[2]))},Tr.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Tr.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var i=this._testCoords.get(e);if(!this.checkValid(t,i))return this._invalidLocation=i,!1}return!0}if(2===arguments.length){var s=arguments[0],l=arguments[1];return this._location[0]=this._locFinder[0].getLocation(l),this._location[1]=this._locFinder[1].getLocation(l),this._location[2]=this._locFinder[2].getLocation(l),!!Tr.hasLocation(this._location,R.BOUNDARY)||this.isValidResult(s,this._location)}},Tr.prototype.addTestPts=function(t){var e=new qi(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Tr.prototype.isValidResult=function(t,e){var i=le.isResultOfOp(e[0],e[1],t),s=!(i^e[2]===R.INTERIOR);return s||this.reportResult(t,e,i),s},Tr.prototype.getInvalidLocation=function(){return this._invalidLocation},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.hasLocation=function(t,e){for(var i=0;i<3;i++)if(t[i]===e)return!0;return!1},Tr.computeBoundaryDistanceTolerance=function(t,e){return Math.min(hn.computeSizeBasedSnapTolerance(t),hn.computeSizeBasedSnapTolerance(e))},Tr.isValid=function(t,e,i,s){return new Tr(t,e,s).isValid(i)},uu.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Tr,uu);var Lr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Lr.prototype.extractElements=function(t,e){if(null===t)return null;for(var i=0;i<t.getNumGeometries();i++){var s=t.getGeometryN(i);this._skipEmpty&&s.isEmpty()||e.add(s)}},Lr.prototype.combine=function(){for(var t=new Bt,e=this._inputGeoms.iterator();e.hasNext();){var i=e.next();this.extractElements(i,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.combine=function(){return 1===arguments.length?new Lr(arguments[0]).combine():2===arguments.length?new Lr(Lr.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Lr(Lr.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Lr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Lr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new Bt;return i.add(t),i.add(e),i}if(3===arguments.length){var s=arguments[0],l=arguments[1],d=arguments[2],_=new Bt;return _.add(s),_.add(l),_.add(d),_}};var Rn=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new Bt)},lu={STRTREE_NODE_CAPACITY:{configurable:!0}};Rn.prototype.reduceToGeometries=function(t){for(var e=new Bt,i=t.iterator();i.hasNext();){var s=i.next(),l=null;Ct(s,Gn)?l=this.unionTree(s):s instanceof Xt&&(l=s),e.add(l)}return e},Rn.prototype.extractByEnvelope=function(t,e,i){for(var s=new Bt,l=0;l<e.getNumGeometries();l++){var d=e.getGeometryN(l);d.getEnvelopeInternal().intersects(t)?s.add(d):i.add(d)}return this._geomFactory.buildGeometry(s)},Rn.prototype.unionOptimized=function(t,e){var i=t.getEnvelopeInternal(),s=e.getEnvelopeInternal();if(!i.intersects(s))return Lr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var l=i.intersection(s);return this.unionUsingEnvelopeIntersection(t,e,l)},Rn.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Qa(Rn.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var i=e.next();t.insert(i.getEnvelopeInternal(),i)}this._inputPolys=null;var s=t.itemsTree();return this.unionTree(s)},Rn.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],i=arguments[1],s=arguments[2];if(s-i<=1){var l=Rn.getGeometry(e,i);return this.unionSafe(l,null)}if(s-i==2)return this.unionSafe(Rn.getGeometry(e,i),Rn.getGeometry(e,i+1));var d=Math.trunc((s+i)/2),_=this.binaryUnion(e,i,d),w=this.binaryUnion(e,d,s);return this.unionSafe(_,w)}},Rn.prototype.repeatedUnion=function(t){for(var e=null,i=t.iterator();i.hasNext();){var s=i.next();e=null===e?s.copy():e.union(s)}return e},Rn.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Rn.prototype.unionActual=function(t,e){return Rn.restrictToPolygons(t.union(e))},Rn.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Rn.prototype.unionUsingEnvelopeIntersection=function(t,e,i){var s=new Bt,l=this.extractByEnvelope(i,t,s),d=this.extractByEnvelope(i,e,s),_=this.unionActual(l,d);return s.add(_),Lr.combine(s)},Rn.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e.getFactory().createGeometryCollection([e,i]).buffer(0)}},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Rn.restrictToPolygons=function(t){if(Ct(t,oi))return t;var e=Gi.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(xe.toPolygonArray(e))},Rn.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Rn.union=function(t){return new Rn(t).union()},lu.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Rn,lu);var To=function(){};To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To},To.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return le.createEmptyResult(le.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Qn.overlayOp(t,e,le.UNION)},Z.GeoJSONReader=bs,Z.GeoJSONWriter=sa,Z.OverlayOp=le,Z.UnionOp=To,Z.BufferOp=Wn,Object.defineProperty(Z,"__esModule",{value:!0})}(yt)},2026:(Tt,yt,Z)=>{"use strict";Z.r(yt),Z.d(yt,{RoadModule:()=>vg});var B=Z(8583),j=Z(5855),Q=Z(4216);function gt(n,r,o){void 0===o&&(o={});var a={type:"Feature"};return(0===o.id||o.id)&&(a.id=o.id),o.bbox&&(a.bbox=o.bbox),a.properties=r||{},a.geometry=n,a}function Nt(n,r,o){if(void 0===o&&(o={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ct(n[0])||!Ct(n[1]))throw new Error("coordinates must contain numbers");return gt({type:"Point",coordinates:n},r,o)}function dt(n,r,o){void 0===o&&(o={});for(var a=0,u=n;a<u.length;a++){var f=u[a];if(f.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var c=0;c<f[f.length-1].length;c++)if(f[f.length-1][c]!==f[0][c])throw new Error("First and last Position are not equivalent.")}return gt({type:"Polygon",coordinates:n},r,o)}function lt(n,r){void 0===r&&(r={});var o={type:"FeatureCollection"};return r.id&&(o.id=r.id),r.bbox&&(o.bbox=r.bbox),o.features=n,o}function Ct(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function ot(n,r,o){if(null!==n)for(var a,u,f,c,p,g,h,m,y=0,v=0,x=n.type,X="FeatureCollection"===x,D="Feature"===x,rt=X?n.features.length:1,W=0;W<rt;W++){p=(m=!!(h=X?n.features[W].geometry:D?n.geometry:n)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var T=0;T<p;T++){var z=0,ht=0;if(null!==(c=m?h.geometries[T]:h)){g=c.coordinates;var ct=c.type;switch(y=!o||"Polygon"!==ct&&"MultiPolygon"!==ct?0:1,ct){case null:break;case"Point":if(!1===r(g,v,W,z,ht))return!1;v++,z++;break;case"LineString":case"MultiPoint":for(a=0;a<g.length;a++){if(!1===r(g[a],v,W,z,ht))return!1;v++,"MultiPoint"===ct&&z++}"LineString"===ct&&z++;break;case"Polygon":case"MultiLineString":for(a=0;a<g.length;a++){for(u=0;u<g[a].length-y;u++){if(!1===r(g[a][u],v,W,z,ht))return!1;v++}"MultiLineString"===ct&&z++,"Polygon"===ct&&ht++}"Polygon"===ct&&z++;break;case"MultiPolygon":for(a=0;a<g.length;a++){for(ht=0,u=0;u<g[a].length;u++){for(f=0;f<g[a][u].length-y;f++){if(!1===r(g[a][u][f],v,W,z,ht))return!1;v++}ht++}z++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(!1===ot(c.geometries[a],r,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function oe(n,r){!function(n,r){var o,a,u,f,c,p,g,h,y,v,m=0,x="FeatureCollection"===n.type,X="Feature"===n.type,D=x?n.features.length:1;for(o=0;o<D;o++){for(h=x?n.features[o].properties:X?n.properties:{},y=x?n.features[o].bbox:X?n.bbox:void 0,v=x?n.features[o].id:X?n.id:void 0,c=(g=!!(p=x?n.features[o].geometry:X?n.geometry:n)&&"GeometryCollection"===p.type)?p.geometries.length:1,u=0;u<c;u++)if(null!==(f=g?p.geometries[u]:p))switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(f,m,h,y,v))return!1;break;case"GeometryCollection":for(a=0;a<f.geometries.length;a++)if(!1===r(f.geometries[a],m,h,y,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,m,h,y,v))return!1;m++}}(n,function(o,a,u,f,c){var g,p=null===o?null:o.type;switch(p){case null:case"Point":case"LineString":case"Polygon":return!1!==r(gt(o,u,{bbox:f,id:c}),a,0)&&void 0}switch(p){case"MultiPoint":g="Point";break;case"MultiLineString":g="LineString";break;case"MultiPolygon":g="Polygon"}for(var h=0;h<o.coordinates.length;h++)if(!1===r(gt({type:g,coordinates:o.coordinates[h]},u),a,h))return!1})}function _n(n){var r=[1/0,1/0,-1/0,-1/0];return ot(n,function(o){r[0]>o[0]&&(r[0]=o[0]),r[1]>o[1]&&(r[1]=o[1]),r[2]<o[0]&&(r[2]=o[0]),r[3]<o[1]&&(r[3]=o[1])}),r}_n.default=_n;const pt=_n;function ii(n,r,o){if(void 0===o&&(o={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var a=function(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(n),u=function(n){return"Feature"===n.type?n.geometry:n}(r),f=u.type,c=r.bbox,p=u.coordinates;if(c&&!1===function(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}(a,c))return!1;"Polygon"===f&&(p=[p]);for(var g=!1,h=0;h<p.length&&!g;h++)if(Zr(a,p[h][0],o.ignoreBoundary)){for(var y=!1,v=1;v<p[h].length&&!y;)Zr(a,p[h][v],!o.ignoreBoundary)&&(y=!0),v++;y||(g=!0)}return g}function Zr(n,r,o){var a=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var u=0,f=r.length-1;u<r.length;f=u++){var c=r[u][0],p=r[u][1],g=r[f][0],h=r[f][1];if(n[1]*(c-g)+p*(g-n[0])+h*(n[0]-c)==0&&(c-n[0])*(g-n[0])<=0&&(p-n[1])*(h-n[1])<=0)return!o;p>n[1]!=h>n[1]&&n[0]<(g-c)*(n[1]-p)/(h-p)+c&&(a=!a)}return a}Z(8228),Z(6896);var Bo=new ArrayBuffer(16);new Float64Array(Bo),new Uint32Array(Bo),Z(5454),function(){function n(r){this.points=r.points||[],this.duration=r.duration||1e4,this.sharpness=r.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=r.stepLength||60,this.length=this.points.length,this.delay=0;for(var o=0;o<this.length;o++)this.points[o].z=this.points[o].z||0;for(o=0;o<this.length-1;o++){var a=this.points[o],u=this.points[o+1];this.centers.push({x:(a.x+u.x)/2,y:(a.y+u.y)/2,z:(a.z+u.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),o=0;o<this.centers.length-1;o++){var f=this.points[o+1].x-(this.centers[o].x+this.centers[o+1].x)/2,c=this.points[o+1].y-(this.centers[o].y+this.centers[o+1].y)/2,p=this.points[o+1].z-(this.centers[o].y+this.centers[o+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[o+1].x+this.sharpness*(this.centers[o].x+f),y:(1-this.sharpness)*this.points[o+1].y+this.sharpness*(this.centers[o].y+c),z:(1-this.sharpness)*this.points[o+1].z+this.sharpness*(this.centers[o].z+p)},{x:(1-this.sharpness)*this.points[o+1].x+this.sharpness*(this.centers[o+1].x+f),y:(1-this.sharpness)*this.points[o+1].y+this.sharpness*(this.centers[o+1].y+c),z:(1-this.sharpness)*this.points[o+1].z+this.sharpness*(this.centers[o+1].z+p)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}n.prototype.cacheSteps=function(r){var o=[],a=this.pos(0);o.push(0);for(var u=0;u<this.duration;u+=10){var f=this.pos(u);Math.sqrt((f.x-a.x)*(f.x-a.x)+(f.y-a.y)*(f.y-a.y)+(f.z-a.z)*(f.z-a.z))>r&&(o.push(u),a=f)}return o},n.prototype.vector=function(r){var o=this.pos(r+10),a=this.pos(r-10);return{angle:180*Math.atan2(o.y-a.y,o.x-a.x)/3.14,speed:Math.sqrt((a.x-o.x)*(a.x-o.x)+(a.y-o.y)*(a.y-o.y)+(a.z-o.z)*(a.z-o.z))}},n.prototype.pos=function(r){var o=r-this.delay;o<0&&(o=0),o>this.duration&&(o=this.duration-1);var a=o/this.duration;if(a>=1)return this.points[this.length-1];var u=Math.floor((this.points.length-1)*a);return function(n,r,o,a,u){var f=function(n){var r=n*n;return[r*n,3*r*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:u.x*f[0]+a.x*f[1]+o.x*f[2]+r.x*f[3],y:u.y*f[0]+a.y*f[1]+o.y*f[2]+r.y*f[3],z:u.z*f[0]+a.z*f[1]+o.z*f[2]+r.z*f[3]}}((this.length-1)*a-u,this.points[u],this.controls[u][1],this.controls[u+1][0],this.points[u+1])}}();Z(1604),Z(2689),Z(8309);var sr=Math.PI/180,ei=180/Math.PI,hn=function(n,r){this.lon=n,this.lat=r,this.x=sr*n,this.y=sr*r};hn.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},hn.prototype.antipode=function(){return new hn(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Fs=function(){this.coords=[],this.length=0};Fs.prototype.move_to=function(n){this.length++,this.coords.push(n)};var ys=function(n){this.properties=n||{},this.geometries=[]};ys.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],r=0;r<this.geometries.length;r++)n.push(this.geometries[r].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},ys.prototype.wkt=function(){for(var n="",r="LINESTRING(",o=function(f){r+=f[0]+" "+f[1]+","},a=0;a<this.geometries.length;a++){if(0===this.geometries[a].coords.length)return"LINESTRING(empty)";this.geometries[a].coords.forEach(o),n+=r.substring(0,r.length-1)+")"}return n};var Vn=function(n,r,o){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!r||void 0===r.x||void 0===r.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new hn(n.x,n.y),this.end=new hn(r.x,r.y),this.properties=o||{};var a=this.start.x-this.end.x,f=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(f)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+r.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+r)};Vn.prototype.interpolate=function(n){var r=Math.sin((1-n)*this.g)/Math.sin(this.g),o=Math.sin(n*this.g)/Math.sin(this.g),a=r*Math.cos(this.start.y)*Math.cos(this.start.x)+o*Math.cos(this.end.y)*Math.cos(this.end.x),u=r*Math.cos(this.start.y)*Math.sin(this.start.x)+o*Math.cos(this.end.y)*Math.sin(this.end.x),f=r*Math.sin(this.start.y)+o*Math.sin(this.end.y),c=ei*Math.atan2(f,Math.sqrt(Math.pow(a,2)+Math.pow(u,2)));return[ei*Math.atan2(u,a),c]},Vn.prototype.Arc=function(n,r){var o=[];if(!n||n<=2)o.push([this.start.lon,this.start.lat]),o.push([this.end.lon,this.end.lat]);else for(var a=1/(n-1),u=0;u<n;++u){var c=this.interpolate(a*u);o.push(c)}for(var p=!1,g=0,h=r&&r.offset?r.offset:10,y=180-h,v=-180+h,m=360-h,x=1;x<o.length;++x){var X=o[x-1][0],D=o[x][0],rt=Math.abs(D-X);rt>m&&(D>y&&X<v||X>y&&D<v)?p=!0:rt>g&&(g=rt)}var W=[];if(p&&g<h){var T=[];W.push(T);for(var z=0;z<o.length;++z){var ht=parseFloat(o[z][0]);if(z>0&&Math.abs(ht-o[z-1][0])>m){var ct=parseFloat(o[z-1][0]),mt=parseFloat(o[z-1][1]),vt=parseFloat(o[z][0]),It=parseFloat(o[z][1]);if(ct>-180&&ct<v&&180===vt&&z+1<o.length&&o[z-1][0]>-180&&o[z-1][0]<v){T.push([-180,o[z][1]]),z++,T.push([o[z][0],o[z][1]]);continue}if(ct>y&&ct<180&&-180===vt&&z+1<o.length&&o[z-1][0]>y&&o[z-1][0]<180){T.push([180,o[z][1]]),z++,T.push([o[z][0],o[z][1]]);continue}if(ct<v&&vt>y){var K=ct;ct=vt,vt=K;var ue=mt;mt=It,It=ue}if(ct>y&&vt<v&&(vt+=360),ct<=180&&vt>=180&&ct<vt){var $t=(180-ct)/(vt-ct),de=$t*It+(1-$t)*mt;T.push([o[z-1][0]>y?180:-180,de]),(T=[]).push([o[z-1][0]>y?-180:180,de]),W.push(T)}else W.push(T=[]);T.push([ht,o[z][1]])}else T.push([o[z][0],o[z][1]])}}else{var _e=[];W.push(_e);for(var Yt=0;Yt<o.length;++Yt)_e.push([o[Yt][0],o[Yt][1]])}for(var se=new ys(this.properties),ee=0;ee<W.length;++ee){var an=new Fs;se.geometries.push(an);for(var rn=W[ee],Ie=0;Ie<rn.length;++Ie)an.move_to(rn[Ie])}return se},Z(2978);var ge=[],ve=[],we=[],be=[],Oe=[],Re=[],Ae=[],Te=[],De=[],Fe=[],Be=[],Ge=[],ke=[],qe=[],ze=[],Xe=[],Ye=[],Ue=[],We=[],He=[],Ve=[],Je=[],Ze=[],je=[];Ae[85]=Fe[85]=-1,Te[85]=Be[85]=0,De[85]=Ge[85]=1,We[85]=Je[85]=1,He[85]=Ze[85]=0,Ve[85]=je[85]=1,ge[85]=be[85]=0,ve[85]=Oe[85]=-1,we[85]=ze[85]=0,Xe[85]=ke[85]=0,Ye[85]=qe[85]=1,Re[85]=Ue[85]=1,Je[1]=Je[169]=0,Ze[1]=Ze[169]=-1,je[1]=je[169]=0,ke[1]=ke[169]=-1,qe[1]=qe[169]=0,ze[1]=ze[169]=0,Fe[4]=Fe[166]=0,Be[4]=Be[166]=-1,Ge[4]=Ge[166]=1,Xe[4]=Xe[166]=1,Ye[4]=Ye[166]=0,Ue[4]=Ue[166]=0,Ae[16]=Ae[154]=0,Te[16]=Te[154]=1,De[16]=De[154]=1,be[16]=be[154]=1,Oe[16]=Oe[154]=0,Re[16]=Re[154]=1,We[64]=We[106]=0,He[64]=He[106]=1,Ve[64]=Ve[106]=0,ge[64]=ge[106]=-1,ve[64]=ve[106]=0,we[64]=we[106]=1,We[2]=We[168]=0,He[2]=He[168]=-1,Ve[2]=Ve[168]=1,Je[2]=Je[168]=0,Ze[2]=Ze[168]=-1,je[2]=je[168]=0,ke[2]=ke[168]=-1,qe[2]=qe[168]=0,ze[2]=ze[168]=0,Xe[2]=Xe[168]=-1,Ye[2]=Ye[168]=0,Ue[2]=Ue[168]=1,Ae[8]=Ae[162]=0,Te[8]=Te[162]=-1,De[8]=De[162]=0,Fe[8]=Fe[162]=0,Be[8]=Be[162]=-1,Ge[8]=Ge[162]=1,ke[8]=ke[162]=1,qe[8]=qe[162]=0,ze[8]=ze[162]=1,Xe[8]=Xe[162]=1,Ye[8]=Ye[162]=0,Ue[8]=Ue[162]=0,Ae[32]=Ae[138]=0,Te[32]=Te[138]=1,De[32]=De[138]=1,Fe[32]=Fe[138]=0,Be[32]=Be[138]=1,Ge[32]=Ge[138]=0,ge[32]=ge[138]=1,ve[32]=ve[138]=0,we[32]=we[138]=0,be[32]=be[138]=1,Oe[32]=Oe[138]=0,Re[32]=Re[138]=1,Je[128]=Je[42]=0,Ze[128]=Ze[42]=1,je[128]=je[42]=1,We[128]=We[42]=0,He[128]=He[42]=1,Ve[128]=Ve[42]=0,ge[128]=ge[42]=-1,ve[128]=ve[42]=0,we[128]=we[42]=1,be[128]=be[42]=-1,Oe[128]=Oe[42]=0,Re[128]=Re[42]=0,Fe[5]=Fe[165]=-1,Be[5]=Be[165]=0,Ge[5]=Ge[165]=0,Je[5]=Je[165]=1,Ze[5]=Ze[165]=0,je[5]=je[165]=0,Xe[20]=Xe[150]=0,Ye[20]=Ye[150]=1,Ue[20]=Ue[150]=1,be[20]=be[150]=0,Oe[20]=Oe[150]=-1,Re[20]=Re[150]=1,Ae[80]=Ae[90]=-1,Te[80]=Te[90]=0,De[80]=De[90]=1,We[80]=We[90]=1,He[80]=He[90]=0,Ve[80]=Ve[90]=1,ke[65]=ke[105]=0,qe[65]=qe[105]=1,ze[65]=ze[105]=0,ge[65]=ge[105]=0,ve[65]=ve[105]=-1,we[65]=we[105]=0,Ae[160]=Ae[10]=-1,Te[160]=Te[10]=0,De[160]=De[10]=1,Fe[160]=Fe[10]=-1,Be[160]=Be[10]=0,Ge[160]=Ge[10]=0,Je[160]=Je[10]=1,Ze[160]=Ze[10]=0,je[160]=je[10]=0,We[160]=We[10]=1,He[160]=He[10]=0,Ve[160]=Ve[10]=1,Xe[130]=Xe[40]=0,Ye[130]=Ye[40]=1,Ue[130]=Ue[40]=1,ke[130]=ke[40]=0,qe[130]=qe[40]=1,ze[130]=ze[40]=0,ge[130]=ge[40]=0,ve[130]=ve[40]=-1,we[130]=we[40]=0,be[130]=be[40]=0,Oe[130]=Oe[40]=-1,Re[130]=Re[40]=1,Fe[37]=Fe[133]=0,Be[37]=Be[133]=1,Ge[37]=Ge[133]=1,Je[37]=Je[133]=0,Ze[37]=Ze[133]=1,je[37]=je[133]=0,ge[37]=ge[133]=-1,ve[37]=ve[133]=0,we[37]=we[133]=0,be[37]=be[133]=1,Oe[37]=Oe[133]=0,Re[37]=Re[133]=0,Xe[148]=Xe[22]=-1,Ye[148]=Ye[22]=0,Ue[148]=Ue[22]=0,Je[148]=Je[22]=0,Ze[148]=Ze[22]=-1,je[148]=je[22]=1,We[148]=We[22]=0,He[148]=He[22]=1,Ve[148]=Ve[22]=1,be[148]=be[22]=-1,Oe[148]=Oe[22]=0,Re[148]=Re[22]=1,Ae[82]=Ae[88]=0,Te[82]=Te[88]=-1,De[82]=De[88]=1,Xe[82]=Xe[88]=1,Ye[82]=Ye[88]=0,Ue[82]=Ue[88]=1,ke[82]=ke[88]=-1,qe[82]=qe[88]=0,ze[82]=ze[88]=1,We[82]=We[88]=0,He[82]=He[88]=-1,Ve[82]=Ve[88]=0,Ae[73]=Ae[97]=0,Te[73]=Te[97]=1,De[73]=De[97]=0,Fe[73]=Fe[97]=0,Be[73]=Be[97]=-1,Ge[73]=Ge[97]=0,ke[73]=ke[97]=1,qe[73]=qe[97]=0,ze[73]=ze[97]=0,ge[73]=ge[97]=1,ve[73]=ve[97]=0,we[73]=we[97]=1,Ae[145]=Ae[25]=0,Te[145]=Te[25]=-1,De[145]=De[25]=0,ke[145]=ke[25]=1,qe[145]=qe[25]=0,ze[145]=ze[25]=1,Je[145]=Je[25]=0,Ze[145]=Ze[25]=1,je[145]=je[25]=1,be[145]=be[25]=-1,Oe[145]=Oe[25]=0,Re[145]=Re[25]=0,Fe[70]=Fe[100]=0,Be[70]=Be[100]=1,Ge[70]=Ge[100]=0,Xe[70]=Xe[100]=-1,Ye[70]=Ye[100]=0,Ue[70]=Ue[100]=1,We[70]=We[100]=0,He[70]=He[100]=-1,Ve[70]=Ve[100]=1,ge[70]=ge[100]=1,ve[70]=ve[100]=0,we[70]=we[100]=0,Fe[101]=Fe[69]=0,Be[101]=Be[69]=1,Ge[101]=Ge[69]=0,ge[101]=ge[69]=1,ve[101]=ve[69]=0,we[101]=we[69]=0,Je[149]=Je[21]=0,Ze[149]=Ze[21]=1,je[149]=je[21]=1,be[149]=be[21]=-1,Oe[149]=Oe[21]=0,Re[149]=Re[21]=0,Xe[86]=Xe[84]=-1,Ye[86]=Ye[84]=0,Ue[86]=Ue[84]=1,We[86]=We[84]=0,He[86]=He[84]=-1,Ve[86]=Ve[84]=1,Ae[89]=Ae[81]=0,Te[89]=Te[81]=-1,De[89]=De[81]=0,ke[89]=ke[81]=1,qe[89]=qe[81]=0,ze[89]=ze[81]=1,Ae[96]=Ae[74]=0,Te[96]=Te[74]=1,De[96]=De[74]=0,Fe[96]=Fe[74]=-1,Be[96]=Be[74]=0,Ge[96]=Ge[74]=1,We[96]=We[74]=1,He[96]=He[74]=0,Ve[96]=Ve[74]=0,ge[96]=ge[74]=1,ve[96]=ve[74]=0,we[96]=we[74]=1,Ae[24]=Ae[146]=0,Te[24]=Te[146]=-1,De[24]=De[146]=1,Xe[24]=Xe[146]=1,Ye[24]=Ye[146]=0,Ue[24]=Ue[146]=1,ke[24]=ke[146]=0,qe[24]=qe[146]=1,ze[24]=ze[146]=1,be[24]=be[146]=0,Oe[24]=Oe[146]=-1,Re[24]=Re[146]=0,Fe[6]=Fe[164]=-1,Be[6]=Be[164]=0,Ge[6]=Ge[164]=1,Xe[6]=Xe[164]=-1,Ye[6]=Ye[164]=0,Ue[6]=Ue[164]=0,Je[6]=Je[164]=0,Ze[6]=Ze[164]=-1,je[6]=je[164]=1,We[6]=We[164]=1,He[6]=He[164]=0,Ve[6]=Ve[164]=0,ke[129]=ke[41]=0,qe[129]=qe[41]=1,ze[129]=ze[41]=1,Je[129]=Je[41]=0,Ze[129]=Ze[41]=1,je[129]=je[41]=0,ge[129]=ge[41]=-1,ve[129]=ve[41]=0,we[129]=we[41]=0,be[129]=be[41]=0,Oe[129]=Oe[41]=-1,Re[129]=Re[41]=0,Xe[66]=Xe[104]=0,Ye[66]=Ye[104]=1,Ue[66]=Ue[104]=0,ke[66]=ke[104]=-1,qe[66]=qe[104]=0,ze[66]=ze[104]=1,We[66]=We[104]=0,He[66]=He[104]=-1,Ve[66]=Ve[104]=0,ge[66]=ge[104]=0,ve[66]=ve[104]=-1,we[66]=we[104]=1,Ae[144]=Ae[26]=-1,Te[144]=Te[26]=0,De[144]=De[26]=0,Je[144]=Je[26]=1,Ze[144]=Ze[26]=0,je[144]=je[26]=1,We[144]=We[26]=0,He[144]=He[26]=1,Ve[144]=Ve[26]=1,be[144]=be[26]=-1,Oe[144]=Oe[26]=0,Re[144]=Re[26]=1,Fe[36]=Fe[134]=0,Be[36]=Be[134]=1,Ge[36]=Ge[134]=1,Xe[36]=Xe[134]=0,Ye[36]=Ye[134]=1,Ue[36]=Ue[134]=0,ge[36]=ge[134]=0,ve[36]=ve[134]=-1,we[36]=we[134]=1,be[36]=be[134]=1,Oe[36]=Oe[134]=0,Re[36]=Re[134]=0,Ae[9]=Ae[161]=-1,Te[9]=Te[161]=0,De[9]=De[161]=0,Fe[9]=Fe[161]=0,Be[9]=Be[161]=-1,Ge[9]=Ge[161]=0,ke[9]=ke[161]=1,qe[9]=qe[161]=0,ze[9]=ze[161]=0,Je[9]=Je[161]=1,Ze[9]=Ze[161]=0,je[9]=je[161]=1,Ae[136]=0,Te[136]=1,De[136]=1,Fe[136]=0,Be[136]=1,Ge[136]=0,Xe[136]=-1,Ye[136]=0,Ue[136]=1,ke[136]=-1,qe[136]=0,ze[136]=0,Je[136]=0,Ze[136]=-1,je[136]=0,We[136]=0,He[136]=-1,Ve[136]=1,ge[136]=1,ve[136]=0,we[136]=0,be[136]=1,Oe[136]=0,Re[136]=1,Ae[34]=0,Te[34]=-1,De[34]=0,Fe[34]=0,Be[34]=-1,Ge[34]=1,Xe[34]=1,Ye[34]=0,Ue[34]=0,ke[34]=1,qe[34]=0,ze[34]=1,Je[34]=0,Ze[34]=1,je[34]=1,We[34]=0,He[34]=1,Ve[34]=0,ge[34]=-1,ve[34]=0,we[34]=1,be[34]=-1,Oe[34]=0,Re[34]=0,Ae[35]=0,Te[35]=1,De[35]=1,Fe[35]=0,Be[35]=-1,Ge[35]=1,Xe[35]=1,Ye[35]=0,Ue[35]=0,ke[35]=-1,qe[35]=0,ze[35]=0,Je[35]=0,Ze[35]=-1,je[35]=0,We[35]=0,He[35]=1,Ve[35]=0,ge[35]=-1,ve[35]=0,we[35]=1,be[35]=1,Oe[35]=0,Re[35]=1,Ae[153]=0,Te[153]=1,De[153]=1,ke[153]=-1,qe[153]=0,ze[153]=0,Je[153]=0,Ze[153]=-1,je[153]=0,be[153]=1,Oe[153]=0,Re[153]=1,Fe[102]=0,Be[102]=-1,Ge[102]=1,Xe[102]=1,Ye[102]=0,Ue[102]=0,We[102]=0,He[102]=1,Ve[102]=0,ge[102]=-1,ve[102]=0,we[102]=1,Ae[155]=0,Te[155]=-1,De[155]=0,ke[155]=1,qe[155]=0,ze[155]=1,Je[155]=0,Ze[155]=1,je[155]=1,be[155]=-1,Oe[155]=0,Re[155]=0,Fe[103]=0,Be[103]=1,Ge[103]=0,Xe[103]=-1,Ye[103]=0,Ue[103]=1,We[103]=0,He[103]=-1,Ve[103]=1,ge[103]=1,ve[103]=0,we[103]=0,Ae[152]=0,Te[152]=1,De[152]=1,Xe[152]=-1,Ye[152]=0,Ue[152]=1,ke[152]=-1,qe[152]=0,ze[152]=0,Je[152]=0,Ze[152]=-1,je[152]=0,We[152]=0,He[152]=-1,Ve[152]=1,be[152]=1,Oe[152]=0,Re[152]=1,Ae[156]=0,Te[156]=-1,De[156]=1,Xe[156]=1,Ye[156]=0,Ue[156]=1,ke[156]=-1,qe[156]=0,ze[156]=0,Je[156]=0,Ze[156]=-1,je[156]=0,We[156]=0,He[156]=1,Ve[156]=1,be[156]=-1,Oe[156]=0,Re[156]=1,Ae[137]=0,Te[137]=1,De[137]=1,Fe[137]=0,Be[137]=1,Ge[137]=0,ke[137]=-1,qe[137]=0,ze[137]=0,Je[137]=0,Ze[137]=-1,je[137]=0,ge[137]=1,ve[137]=0,we[137]=0,be[137]=1,Oe[137]=0,Re[137]=1,Ae[139]=0,Te[139]=1,De[139]=1,Fe[139]=0,Be[139]=-1,Ge[139]=0,ke[139]=1,qe[139]=0,ze[139]=0,Je[139]=0,Ze[139]=1,je[139]=0,ge[139]=-1,ve[139]=0,we[139]=0,be[139]=1,Oe[139]=0,Re[139]=1,Ae[98]=0,Te[98]=-1,De[98]=0,Fe[98]=0,Be[98]=-1,Ge[98]=1,Xe[98]=1,Ye[98]=0,Ue[98]=0,ke[98]=1,qe[98]=0,ze[98]=1,We[98]=0,He[98]=1,Ve[98]=0,ge[98]=-1,ve[98]=0,we[98]=1,Ae[99]=0,Te[99]=1,De[99]=0,Fe[99]=0,Be[99]=-1,Ge[99]=1,Xe[99]=1,Ye[99]=0,Ue[99]=0,ke[99]=-1,qe[99]=0,ze[99]=1,We[99]=0,He[99]=-1,Ve[99]=0,ge[99]=1,ve[99]=0,we[99]=1,Fe[38]=0,Be[38]=-1,Ge[38]=1,Xe[38]=1,Ye[38]=0,Ue[38]=0,Je[38]=0,Ze[38]=1,je[38]=1,We[38]=0,He[38]=1,Ve[38]=0,ge[38]=-1,ve[38]=0,we[38]=1,be[38]=-1,Oe[38]=0,Re[38]=0,Fe[39]=0,Be[39]=1,Ge[39]=1,Xe[39]=-1,Ye[39]=0,Ue[39]=0,Je[39]=0,Ze[39]=-1,je[39]=1,We[39]=0,He[39]=1,Ve[39]=0,ge[39]=-1,ve[39]=0,we[39]=1,be[39]=1,Oe[39]=0,Re[39]=0;var fu=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},cu=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},hu=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},pu=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},gu=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},du=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},yu=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},vu=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Qt=[],Kt=[],re=[],ne=[],he=[],fe=[],$e=[],Qe=[];ne[1]=he[1]=18,ne[169]=he[169]=18,re[4]=Kt[4]=12,re[166]=Kt[166]=12,Qt[16]=Qe[16]=4,Qt[154]=Qe[154]=4,fe[64]=$e[64]=22,fe[106]=$e[106]=22,re[2]=fe[2]=17,ne[2]=he[2]=18,re[168]=fe[168]=17,ne[168]=he[168]=18,Qt[8]=ne[8]=9,Kt[8]=re[8]=12,Qt[162]=ne[162]=9,Kt[162]=re[162]=12,Qt[32]=Qe[32]=4,Kt[32]=$e[32]=1,Qt[138]=Qe[138]=4,Kt[138]=$e[138]=1,he[128]=Qe[128]=21,fe[128]=$e[128]=22,he[42]=Qe[42]=21,fe[42]=$e[42]=22,Kt[5]=he[5]=14,Kt[165]=he[165]=14,re[20]=Qe[20]=6,re[150]=Qe[150]=6,Qt[80]=fe[80]=11,Qt[90]=fe[90]=11,ne[65]=$e[65]=3,ne[105]=$e[105]=3,Qt[160]=fe[160]=11,Kt[160]=he[160]=14,Qt[10]=fe[10]=11,Kt[10]=he[10]=14,re[130]=Qe[130]=6,ne[130]=$e[130]=3,re[40]=Qe[40]=6,ne[40]=$e[40]=3,Kt[101]=$e[101]=1,Kt[69]=$e[69]=1,he[149]=Qe[149]=21,he[21]=Qe[21]=21,re[86]=fe[86]=17,re[84]=fe[84]=17,Qt[89]=ne[89]=9,Qt[81]=ne[81]=9,Qt[96]=$e[96]=0,Kt[96]=fe[96]=15,Qt[74]=$e[74]=0,Kt[74]=fe[74]=15,Qt[24]=re[24]=8,ne[24]=Qe[24]=7,Qt[146]=re[146]=8,ne[146]=Qe[146]=7,Kt[6]=fe[6]=15,re[6]=he[6]=16,Kt[164]=fe[164]=15,re[164]=he[164]=16,ne[129]=Qe[129]=7,he[129]=$e[129]=20,ne[41]=Qe[41]=7,he[41]=$e[41]=20,re[66]=$e[66]=2,ne[66]=fe[66]=19,re[104]=$e[104]=2,ne[104]=fe[104]=19,Qt[144]=he[144]=10,fe[144]=Qe[144]=23,Qt[26]=he[26]=10,fe[26]=Qe[26]=23,Kt[36]=Qe[36]=5,re[36]=$e[36]=2,Kt[134]=Qe[134]=5,re[134]=$e[134]=2,Qt[9]=he[9]=10,Kt[9]=ne[9]=13,Qt[161]=he[161]=10,Kt[161]=ne[161]=13,Kt[37]=Qe[37]=5,he[37]=$e[37]=20,Kt[133]=Qe[133]=5,he[133]=$e[133]=20,re[148]=he[148]=16,fe[148]=Qe[148]=23,re[22]=he[22]=16,fe[22]=Qe[22]=23,Qt[82]=re[82]=8,ne[82]=fe[82]=19,Qt[88]=re[88]=8,ne[88]=fe[88]=19,Qt[73]=$e[73]=0,Kt[73]=ne[73]=13,Qt[97]=$e[97]=0,Kt[97]=ne[97]=13,Qt[145]=ne[145]=9,he[145]=Qe[145]=21,Qt[25]=ne[25]=9,he[25]=Qe[25]=21,Kt[70]=$e[70]=1,re[70]=fe[70]=17,Kt[100]=$e[100]=1,re[100]=fe[100]=17,Qt[34]=ne[34]=9,Kt[34]=re[34]=12,he[34]=Qe[34]=21,fe[34]=$e[34]=22,Qt[136]=Qe[136]=4,Kt[136]=$e[136]=1,re[136]=fe[136]=17,ne[136]=he[136]=18,Qt[35]=Qe[35]=4,Kt[35]=re[35]=12,ne[35]=he[35]=18,fe[35]=$e[35]=22,Qt[153]=Qe[153]=4,ne[153]=he[153]=18,Kt[102]=re[102]=12,fe[102]=$e[102]=22,Qt[155]=ne[155]=9,he[155]=Qe[155]=23,Kt[103]=$e[103]=1,re[103]=fe[103]=17,Qt[152]=Qe[152]=4,re[152]=fe[152]=17,ne[152]=he[152]=18,Qt[156]=re[156]=8,ne[156]=he[156]=18,fe[156]=Qe[156]=23,Qt[137]=Qe[137]=4,Kt[137]=$e[137]=1,ne[137]=he[137]=18,Qt[139]=Qe[139]=4,Kt[139]=ne[139]=13,he[139]=$e[139]=20,Qt[98]=ne[98]=9,Kt[98]=re[98]=12,fe[98]=$e[98]=22,Qt[99]=$e[99]=0,Kt[99]=re[99]=12,ne[99]=fe[99]=19,Kt[38]=re[38]=12,he[38]=Qe[38]=21,fe[38]=$e[38]=22,Kt[39]=Qe[39]=5,re[39]=he[39]=16,fe[39]=$e[39]=22;var Vt=[];function xu(n,r,o){return function(n){return(n>0)-(n<0)||+n}((r[0]-n[0])*(o[1]-r[1])-(o[0]-r[0])*(r[1]-n[1]))}function dl(n,r){return r.geometry.coordinates[0].every(function(o){return ii(Nt(o),n)})}Vt[1]=Vt[169]=fu,Vt[4]=Vt[166]=cu,Vt[16]=Vt[154]=hu,Vt[64]=Vt[106]=pu,Vt[168]=Vt[2]=gu,Vt[162]=Vt[8]=du,Vt[138]=Vt[32]=yu,Vt[42]=Vt[128]=vu,Vt[5]=Vt[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},Vt[20]=Vt[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},Vt[80]=Vt[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},Vt[65]=Vt[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Vt[160]=Vt[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},Vt[130]=Vt[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},Vt[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Vt[101]=Vt[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},Vt[149]=Vt[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},Vt[86]=Vt[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},Vt[89]=Vt[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},Vt[96]=Vt[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},Vt[24]=Vt[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},Vt[6]=Vt[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},Vt[129]=Vt[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},Vt[66]=Vt[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Vt[144]=Vt[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Vt[36]=Vt[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},Vt[9]=Vt[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},Vt[37]=Vt[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Vt[148]=Vt[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Vt[82]=Vt[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},Vt[73]=Vt[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Vt[145]=Vt[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Vt[70]=Vt[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Vt[34]=function(n){return[vu(n),du(n)]},Vt[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Vt[136]=function(n){return[yu(n),gu(n)]},Vt[153]=function(n){return[hu(n),fu(n)]},Vt[102]=function(n){return[cu(n),pu(n)]},Vt[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Vt[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Vt[152]=function(n){return[hu(n),gu(n)]},Vt[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Vt[137]=function(n){return[yu(n),fu(n)]},Vt[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Vt[98]=function(n){return[du(n),pu(n)]},Vt[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Vt[38]=function(n){return[cu(n),vu(n)]},Vt[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};const yl=function(){function n(r){this.id=n.buildId(r),this.coordinates=r,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(r){return r.join(",")},n.prototype.removeInnerEdge=function(r){this.innerEdges=this.innerEdges.filter(function(o){return o.from.id!==r.from.id})},n.prototype.removeOuterEdge=function(r){this.outerEdges=this.outerEdges.filter(function(o){return o.to.id!==r.to.id})},n.prototype.addOuterEdge=function(r){this.outerEdges.push(r),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var r=this;this.outerEdgesSorted||(this.outerEdges.sort(function(o,a){var u=o.to,f=a.to;if(u.coordinates[0]-r.coordinates[0]>=0&&f.coordinates[0]-r.coordinates[0]<0)return 1;if(u.coordinates[0]-r.coordinates[0]<0&&f.coordinates[0]-r.coordinates[0]>=0)return-1;if(u.coordinates[0]-r.coordinates[0]==0&&f.coordinates[0]-r.coordinates[0]==0)return u.coordinates[1]-r.coordinates[1]>=0||f.coordinates[1]-r.coordinates[1]>=0?u.coordinates[1]-f.coordinates[1]:f.coordinates[1]-u.coordinates[1];var c=xu(r.coordinates,u.coordinates,f.coordinates);return c<0?1:c>0?-1:Math.pow(u.coordinates[0]-r.coordinates[0],2)+Math.pow(u.coordinates[1]-r.coordinates[1],2)-(Math.pow(f.coordinates[0]-r.coordinates[0],2)+Math.pow(f.coordinates[1]-r.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(r){return this.sortOuterEdges(),this.outerEdges[r]},n.prototype.addInnerEdge=function(r){this.innerEdges.push(r)},n}(),ah=function(){function n(r,o){this.from=r,this.to=o,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(r){return this.from.id===r.from.id&&this.to.id===r.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return function(n,r,o){if(void 0===o&&(o={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return gt({type:"LineString",coordinates:n},r,o)}([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(r){return xu(r.from.coordinates,r.to.coordinates,this.to.coordinates)},n}(),lh=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(r){this.edges.push(r),this.polygon=this.envelope=void 0},n.prototype.get=function(r){return this.edges[r]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(r){this.edges.forEach(r)},n.prototype.map=function(r){return this.edges.map(r)},n.prototype.some=function(r){return this.edges.some(r)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var r=this,o=this.edges.reduce(function(c,p,g){return p.from.coordinates[1]>r.edges[c].from.coordinates[1]&&(c=g),c},0),a=(0===o?this.length:o)-1,u=(o+1)%this.length,f=xu(this.edges[a].from.coordinates,this.edges[o].from.coordinates,this.edges[u].from.coordinates);return 0===f?this.edges[a].from.coordinates[0]>this.edges[u].from.coordinates[0]:f>0},n.prototype.toMultiPoint=function(){return function(n,r,o){return void 0===o&&(o={}),gt({type:"MultiPoint",coordinates:n},r,o)}(this.edges.map(function(r){return r.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var r=this.edges.map(function(o){return o.from.coordinates});return r.push(this.edges[0].from.coordinates),this.polygon=dt([r])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function(n){return function(n,r){void 0===r&&(r={});var o=Number(n[0]),a=Number(n[1]),u=Number(n[2]),f=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var c=[o,a];return dt([[c,[u,a],[u,f],[o,f],c]],r.properties,{bbox:n,id:r.id})}(pt(n))}(this.toPolygon())},n.findEdgeRingContaining=function(r,o){var u,f,a=r.getEnvelope();return o.forEach(function(c){var p=c.getEnvelope();if(f&&(u=f.getEnvelope()),!function(n,r){var o=n.geometry.coordinates[0].map(function(c){return c[0]}),a=n.geometry.coordinates[0].map(function(c){return c[1]}),u=r.geometry.coordinates[0].map(function(c){return c[0]}),f=r.geometry.coordinates[0].map(function(c){return c[1]});return Math.max.apply(null,o)===Math.max.apply(null,u)&&Math.max.apply(null,a)===Math.max.apply(null,f)&&Math.min.apply(null,o)===Math.min.apply(null,u)&&Math.min.apply(null,a)===Math.min.apply(null,f)}(p,a)&&dl(p,a)){for(var g=r.map(function(X){return X.from.coordinates}),h=void 0,y=function(X){c.some(function(D){return function(n,r){return n[0]===r[0]&&n[1]===r[1]}(X,D.from.coordinates)})||(h=X)},v=0,m=g;v<m.length;v++)y(m[v]);h&&c.inside(Nt(h))&&(!f||dl(u,p))&&(f=c)}}),f},n.prototype.inside=function(r){return ii(r,this.toPolygon())},n}();function Pl(n){for(var r=n,o=[];r.parent;)o.unshift(r),r=r.parent;return o}!function(){function n(){this.edges=[],this.nodes={}}n.fromGeoJson=function(r){!function(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(r);var o=new n;return oe(r,function(a){(function(n,r,o){if(!n)throw new Error("No feature passed");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+o+": must be a "+r+", given "+n.geometry.type)})(a,"LineString","Graph::fromGeoJson"),function(n,r,o,a){var u=o;ot(n,function(f,c,p,g,h){u=0===c?f:r(u,f)},void 0)}(a,function(u,f){if(u){var c=o.getNode(u),p=o.getNode(f);o.addEdge(c,p)}return f})}),o},n.prototype.getNode=function(r){var o=yl.buildId(r),a=this.nodes[o];return a||(a=this.nodes[o]=new yl(r)),a},n.prototype.addEdge=function(r,o){var a=new ah(r,o),u=a.getSymetric();this.edges.push(a),this.edges.push(u)},n.prototype.deleteDangles=function(){var r=this;Object.keys(this.nodes).map(function(o){return r.nodes[o]}).forEach(function(o){return r._removeIfDangle(o)})},n.prototype._removeIfDangle=function(r){var o=this;if(r.innerEdges.length<=1){var a=r.getOuterEdges().map(function(u){return u.to});this.removeNode(r),a.forEach(function(u){return o._removeIfDangle(u)})}},n.prototype.deleteCutEdges=function(){var r=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(o){o.label===o.symetric.label&&(r.removeEdge(o.symetric),r.removeEdge(o))})},n.prototype._computeNextCWEdges=function(r){var o=this;void 0===r?Object.keys(this.nodes).forEach(function(a){return o._computeNextCWEdges(o.nodes[a])}):r.getOuterEdges().forEach(function(a,u){r.getOuterEdge((0===u?r.getOuterEdges().length:u)-1).symetric.next=a})},n.prototype._computeNextCCWEdges=function(r,o){for(var u,f,a=r.getOuterEdges(),c=a.length-1;c>=0;--c){var p=a[c],g=p.symetric,h=void 0,y=void 0;p.label===o&&(h=p),g.label===o&&(y=g),h&&y&&(y&&(f=y),h&&(f&&(f.next=h,f=void 0),u||(u=h)))}f&&(f.next=u)},n.prototype._findLabeledEdgeRings=function(){var r=[],o=0;return this.edges.forEach(function(a){if(!(a.label>=0)){r.push(a);var u=a;do{u.label=o,u=u.next}while(!a.isEqual(u));o++}}),r},n.prototype.getEdgeRings=function(){var r=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){r._findIntersectionNodes(a).forEach(function(u){r._computeNextCCWEdges(u,a.label)})});var o=[];return this.edges.forEach(function(a){a.ring||o.push(r._findEdgeRing(a))}),o},n.prototype._findIntersectionNodes=function(r){var o=[],a=r,u=function(){var f=0;a.from.getOuterEdges().forEach(function(c){c.label===r.label&&++f}),f>1&&o.push(a.from),a=a.next};do{u()}while(!r.isEqual(a));return o},n.prototype._findEdgeRing=function(r){var o=r,a=new lh;do{a.push(o),o.ring=a,o=o.next}while(!r.isEqual(o));return a},n.prototype.removeNode=function(r){var o=this;r.getOuterEdges().forEach(function(a){return o.removeEdge(a)}),r.innerEdges.forEach(function(a){return o.removeEdge(a)}),delete this.nodes[r.id]},n.prototype.removeEdge=function(r){this.edges=this.edges.filter(function(o){return!o.isEqual(r)}),r.deleteEdge()}}(),Z(9331),Z(6882),Z(3212);var va={search:function(n,r,o,a){n.cleanDirty();var u=(a=a||{}).heuristic||va.heuristics.manhattan,f=a.closest||!1,c=new Cl(function(n){return n.f}),p=r;for(r.h=u(r,o),c.push(r);c.size()>0;){var g=c.pop();if(g===o)return Pl(g);g.closed=!0;for(var h=n.neighbors(g),y=0,v=h.length;y<v;++y){var m=h[y];if(!m.closed&&!m.isWall()){var x=g.g+m.getCost(g),X=m.visited;(!X||x<m.g)&&(m.visited=!0,m.parent=g,m.h=m.h||u(m,o),m.g=x,m.f=m.g+m.h,n.markDirty(m),f&&(m.h<p.h||m.h===p.h&&m.g<p.g)&&(p=m),X?c.rescoreElement(m):c.push(m))}}}return f?Pl(p):[]},heuristics:{manhattan:function(n,r){return Math.abs(r.x-n.x)+Math.abs(r.y-n.y)},diagonal:function(n,r){var a=Math.sqrt(2),u=Math.abs(r.x-n.x),f=Math.abs(r.y-n.y);return 1*(u+f)+(a-2)*Math.min(u,f)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function _s(n,r){r=r||{},this.nodes=[],this.diagonal=!!r.diagonal,this.grid=[];for(var o=0;o<n.length;o++){this.grid[o]=[];for(var a=0,u=n[o];a<u.length;a++){var f=new ma(o,a,u[a]);this.grid[o][a]=f,this.nodes.push(f)}}this.init()}function ma(n,r,o){this.x=n,this.y=r,this.weight=o}function Cl(n){this.content=[],this.scoreFunction=n}function wu(){this._=null}function _a(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Gs(n,r){var o=r,a=r.R,u=o.U;u?u.L===o?u.L=a:u.R=a:n._=a,a.U=u,o.U=a,o.R=a.L,o.R&&(o.R.U=o),a.L=o}function ks(n,r){var o=r,a=r.L,u=o.U;u?u.L===o?u.L=a:u.R=a:n._=a,a.U=u,o.U=a,o.L=a.R,o.L&&(o.L.U=o),a.R=o}function Nl(n){for(;n.L;)n=n.L;return n}_s.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)va.cleanNode(this.nodes[n])},_s.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)va.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},_s.prototype.markDirty=function(n){this.dirtyNodes.push(n)},_s.prototype.neighbors=function(n){var r=[],o=n.x,a=n.y,u=this.grid;return u[o-1]&&u[o-1][a]&&r.push(u[o-1][a]),u[o+1]&&u[o+1][a]&&r.push(u[o+1][a]),u[o]&&u[o][a-1]&&r.push(u[o][a-1]),u[o]&&u[o][a+1]&&r.push(u[o][a+1]),this.diagonal&&(u[o-1]&&u[o-1][a-1]&&r.push(u[o-1][a-1]),u[o+1]&&u[o+1][a-1]&&r.push(u[o+1][a-1]),u[o-1]&&u[o-1][a+1]&&r.push(u[o-1][a+1]),u[o+1]&&u[o+1][a+1]&&r.push(u[o+1][a+1])),r},_s.prototype.toString=function(){for(var o,a,u,f,n=[],r=this.grid,c=0,p=r.length;c<p;c++){for(o=[],u=0,f=(a=r[c]).length;u<f;u++)o.push(a[u].weight);n.push(o.join(" "))}return n.join("\n")},ma.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},ma.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},ma.prototype.isWall=function(){return 0===this.weight},Cl.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],r=this.content.pop();return this.content.length>0&&(this.content[0]=r,this.bubbleUp(0)),n},remove:function(n){var r=this.content.indexOf(n),o=this.content.pop();r!==this.content.length-1&&(this.content[r]=o,this.scoreFunction(o)<this.scoreFunction(n)?this.sinkDown(r):this.bubbleUp(r))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var r=this.content[n];n>0;){var o=(n+1>>1)-1,a=this.content[o];if(!(this.scoreFunction(r)<this.scoreFunction(a)))break;this.content[o]=r,this.content[n]=a,n=o}},bubbleUp:function(n){for(var r=this.content.length,o=this.content[n],a=this.scoreFunction(o);;){var p,u=n+1<<1,f=u-1,c=null;if(f<r&&(p=this.scoreFunction(this.content[f]))<a&&(c=f),u<r&&this.scoreFunction(this.content[u])<(null===c?a:p)&&(c=u),null===c)break;this.content[n]=this.content[c],this.content[c]=o,n=c}}},wu.prototype={constructor:wu,insert:function(n,r){var o,a,u;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;o=n}else this._?(n=Nl(this._),r.P=null,r.N=n,n.P=n.L=r,o=n):(r.P=r.N=null,this._=r,o=null);for(r.L=r.R=null,r.U=o,r.C=!0,n=r;o&&o.C;)o===(a=o.U).L?(u=a.R)&&u.C?(o.C=u.C=!1,a.C=!0,n=a):(n===o.R&&(Gs(this,o),o=(n=o).U),o.C=!1,a.C=!0,ks(this,a)):(u=a.L)&&u.C?(o.C=u.C=!1,a.C=!0,n=a):(n===o.L&&(ks(this,o),o=(n=o).U),o.C=!1,a.C=!0,Gs(this,a)),o=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var o,f,c,r=n.U,a=n.L,u=n.R;if(f=a?u?Nl(u):a:u,r?r.L===n?r.L=f:r.R=f:this._=f,a&&u?(c=f.C,f.C=n.C,f.L=a,a.U=f,f!==u?(r=f.U,f.U=n.U,r.L=n=f.R,f.R=u,u.U=f):(f.U=r,r=f,n=f.R)):(c=n.C,n=f),n&&(n.U=r),!c){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===r.L){if((o=r.R).C&&(o.C=!1,r.C=!0,Gs(this,r),o=r.R),o.L&&o.L.C||o.R&&o.R.C){(!o.R||!o.R.C)&&(o.L.C=!1,o.C=!0,ks(this,o),o=r.R),o.C=r.C,r.C=o.R.C=!1,Gs(this,r),n=this._;break}}else if((o=r.L).C&&(o.C=!1,r.C=!0,ks(this,r),o=r.L),o.L&&o.L.C||o.R&&o.R.C){(!o.L||!o.L.C)&&(o.R.C=!1,o.C=!0,Gs(this,o),o=r.L),o.C=r.C,r.C=o.L.C=!1,ks(this,r),n=this._;break}o.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};const Ml=wu;function qs(n,r,o,a){var u=[null,null],f=Dr.push(u)-1;return u.left=n,u.right=r,o&&xa(u,n,r,o),a&&xa(u,r,n,a),xi[n.index].halfedges.push(f),xi[r.index].halfedges.push(f),u}function zs(n,r,o){var a=[r,o];return a.left=n,a}function xa(n,r,o,a){n[0]||n[1]?n.left===o?n[1]=a:n[0]=a:(n[0]=a,n.left=r,n.right=o)}function Mh(n,r,o,a,u){var D,f=n[0],c=n[1],p=f[0],g=f[1],v=0,m=1,x=c[0]-p,X=c[1]-g;if(D=r-p,x||!(D>0)){if(D/=x,x<0){if(D<v)return;D<m&&(m=D)}else if(x>0){if(D>m)return;D>v&&(v=D)}if(D=a-p,x||!(D<0)){if(D/=x,x<0){if(D>m)return;D>v&&(v=D)}else if(x>0){if(D<v)return;D<m&&(m=D)}if(D=o-g,X||!(D>0)){if(D/=X,X<0){if(D<v)return;D<m&&(m=D)}else if(X>0){if(D>m)return;D>v&&(v=D)}if(D=u-g,X||!(D<0)){if(D/=X,X<0){if(D>m)return;D>v&&(v=D)}else if(X>0){if(D<v)return;D<m&&(m=D)}return!(v>0)&&!(m<1)||(v>0&&(n[0]=[p+v*x,g+v*X]),m<1&&(n[1]=[p+m*x,g+m*X])),!0}}}}}function Lh(n,r,o,a,u){var f=n[1];if(f)return!0;var D,rt,c=n[0],p=n.left,g=n.right,h=p[0],y=p[1],v=g[0],m=g[1],x=(h+v)/2;if(m===y){if(x<r||x>=a)return;if(h>v){if(c){if(c[1]>=u)return}else c=[x,o];f=[x,u]}else{if(c){if(c[1]<o)return}else c=[x,u];f=[x,o]}}else if(rt=(y+m)/2-(D=(h-v)/(m-y))*x,D<-1||D>1)if(h>v){if(c){if(c[1]>=u)return}else c=[(o-rt)/D,o];f=[(u-rt)/D,u]}else{if(c){if(c[1]<o)return}else c=[(u-rt)/D,u];f=[(o-rt)/D,o]}else if(y<m){if(c){if(c[0]>=a)return}else c=[r,D*r+rt];f=[a,D*a+rt]}else{if(c){if(c[0]<r)return}else c=[a,D*a+rt];f=[r,D*r+rt]}return n[0]=c,n[1]=f,!0}function Rh(n,r){var o=n.site,a=r.left,u=r.right;return o===u&&(u=a,a=o),u?Math.atan2(u[1]-a[1],u[0]-a[0]):(o===a?(a=r[1],u=r[0]):(a=r[0],u=r[1]),Math.atan2(a[0]-u[0],u[1]-a[1]))}function Ll(n,r){return r[+(r.left!==n.site)]}function Ah(n,r){return r[+(r.left===n.site)]}var Iu,bl=[];function Fh(){_a(this),this.x=this.y=this.arc=this.site=this.cy=null}function xs(n){var r=n.P,o=n.N;if(r&&o){var a=r.site,u=n.site,f=o.site;if(a!==f){var c=u[0],p=u[1],g=a[0]-c,h=a[1]-p,y=f[0]-c,v=f[1]-p,m=2*(g*v-h*y);if(!(m>=-zh)){var x=g*g+h*h,X=y*y+v*v,D=(v*x-h*X)/m,rt=(g*X-y*x)/m,W=bl.pop()||new Fh;W.arc=n,W.site=u,W.x=D+c,W.y=(W.cy=rt+p)+Math.sqrt(D*D+rt*rt),n.circle=W;for(var T=null,z=Xs._;z;)if(W.y<z.y||W.y===z.y&&W.x<=z.x){if(!z.L){T=z.P;break}z=z.L}else{if(!z.R){T=z;break}z=z.R}Xs.insert(T,W),T||(Iu=W)}}}}function Es(n){var r=n.circle;r&&(r.P||(Iu=r.N),Xs.remove(r),bl.push(r),_a(r),n.circle=null)}var Ol=[];function Bh(){_a(this),this.edge=this.site=this.circle=null}function Rl(n){var r=Ol.pop()||new Bh;return r.site=n,r}function Su(n){Es(n),ws.remove(n),Ol.push(n),_a(n)}function Gh(n){var r=n.circle,o=r.x,a=r.cy,u=[o,a],f=n.P,c=n.N,p=[n];Su(n);for(var g=f;g.circle&&Math.abs(o-g.circle.x)<Fn&&Math.abs(a-g.circle.cy)<Fn;)f=g.P,p.unshift(g),Su(g),g=f;p.unshift(g),Es(g);for(var h=c;h.circle&&Math.abs(o-h.circle.x)<Fn&&Math.abs(a-h.circle.cy)<Fn;)c=h.N,p.push(h),Su(h),h=c;p.push(h),Es(h);var v,y=p.length;for(v=1;v<y;++v)xa((h=p[v]).edge,(g=p[v-1]).site,h.site,u);(h=p[y-1]).edge=qs((g=p[0]).site,h.site,null,u),xs(g),xs(h)}function kh(n){for(var a,u,f,c,r=n[0],o=n[1],p=ws._;p;)if((f=Al(p,o)-r)>Fn)p=p.L;else{if(!((c=r-qh(p,o))>Fn)){f>-Fn?(a=p.P,u=p):c>-Fn?(a=p,u=p.N):a=u=p;break}if(!p.R){a=p;break}p=p.R}!function(n){xi[n.index]={site:n,halfedges:[]}}(n);var g=Rl(n);if(ws.insert(a,g),a||u){if(a===u)return Es(a),u=Rl(a.site),ws.insert(g,u),g.edge=u.edge=qs(a.site,g.site),xs(a),void xs(u);if(!u)return void(g.edge=qs(a.site,g.site));Es(a),Es(u);var h=a.site,y=h[0],v=h[1],m=n[0]-y,x=n[1]-v,X=u.site,D=X[0]-y,rt=X[1]-v,W=2*(m*rt-x*D),T=m*m+x*x,z=D*D+rt*rt,ht=[(rt*T-x*z)/W+y,(m*z-D*T)/W+v];xa(u.edge,h,X,ht),g.edge=qs(h,n,null,ht),u.edge=qs(n,X,null,ht),xs(a),xs(u)}}function Al(n,r){var o=n.site,a=o[0],u=o[1],f=u-r;if(!f)return a;var c=n.P;if(!c)return-1/0;var p=(o=c.site)[0],g=o[1],h=g-r;if(!h)return p;var y=p-a,v=1/f-1/h,m=y/h;return v?(-m+Math.sqrt(m*m-2*v*(y*y/(-2*h)-g+h/2+u-f/2)))/v+a:(a+p)/2}function qh(n,r){var o=n.N;if(o)return Al(o,r);var a=n.site;return a[1]===r?a[0]:1/0}var ws,xi,Xs,Dr,Fn=1e-6,zh=1e-12;function Xh(n,r,o){return(n[0]-o[0])*(r[1]-n[1])-(n[0]-r[0])*(o[1]-n[1])}function Yh(n,r){return r[1]-n[1]||r[0]-n[0]}function Tl(n,r){var a,u,f,o=n.sort(Yh).pop();for(Dr=[],xi=new Array(n.length),ws=new Ml,Xs=new Ml;;)if(f=Iu,o&&(!f||o[1]<f.y||o[1]===f.y&&o[0]<f.x))(o[0]!==a||o[1]!==u)&&(kh(o),a=o[0],u=o[1]),o=n.pop();else{if(!f)break;Gh(f.arc)}if(function(){for(var o,a,u,f,n=0,r=xi.length;n<r;++n)if((o=xi[n])&&(f=(a=o.halfedges).length)){var c=new Array(f),p=new Array(f);for(u=0;u<f;++u)c[u]=u,p[u]=Rh(o,Dr[a[u]]);for(c.sort(function(g,h){return p[h]-p[g]}),u=0;u<f;++u)p[u]=a[c[u]];for(u=0;u<f;++u)a[u]=p[u]}}(),r){var c=+r[0][0],p=+r[0][1],g=+r[1][0],h=+r[1][1];(function(n,r,o,a){for(var f,u=Dr.length;u--;)Lh(f=Dr[u],n,r,o,a)&&Mh(f,n,r,o,a)&&(Math.abs(f[0][0]-f[1][0])>Fn||Math.abs(f[0][1]-f[1][1])>Fn)||delete Dr[u]})(c,p,g,h),function(n,r,o,a){var f,c,p,g,h,y,v,m,x,X,D,rt,u=xi.length,W=!0;for(f=0;f<u;++f)if(c=xi[f]){for(p=c.site,g=(h=c.halfedges).length;g--;)Dr[h[g]]||h.splice(g,1);for(g=0,y=h.length;g<y;)D=(X=Ah(c,Dr[h[g]]))[0],rt=X[1],m=(v=Ll(c,Dr[h[++g%y]]))[0],x=v[1],(Math.abs(D-m)>Fn||Math.abs(rt-x)>Fn)&&(h.splice(g,0,Dr.push(zs(p,X,Math.abs(D-n)<Fn&&a-rt>Fn?[n,Math.abs(m-n)<Fn?x:a]:Math.abs(rt-a)<Fn&&o-D>Fn?[Math.abs(x-a)<Fn?m:o,a]:Math.abs(D-o)<Fn&&rt-r>Fn?[o,Math.abs(m-o)<Fn?x:r]:Math.abs(rt-r)<Fn&&D-n>Fn?[Math.abs(x-r)<Fn?m:n,r]:null))-1),++y);y&&(W=!1)}if(W){var T,z,ht,ct=1/0;for(f=0,W=null;f<u;++f)(c=xi[f])&&(ht=(T=(p=c.site)[0]-n)*T+(z=p[1]-r)*z)<ct&&(ct=ht,W=c);if(W){var mt=[n,r],vt=[n,a],It=[o,a],K=[o,r];W.halfedges.push(Dr.push(zs(p=W.site,mt,vt))-1,Dr.push(zs(p,vt,It))-1,Dr.push(zs(p,It,K))-1,Dr.push(zs(p,K,mt))-1)}}for(f=0;f<u;++f)(c=xi[f])&&(c.halfedges.length||delete xi[f])}(c,p,g,h)}this.edges=Dr,this.cells=xi,ws=Xs=Dr=xi=null}function Do(){return new Ea}function Ea(){this.reset()}Tl.prototype={constructor:Tl,polygons:function(){var n=this.edges;return this.cells.map(function(r){var o=r.halfedges.map(function(a){return Ll(r,n[a])});return o.data=r.site.data,o})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(o,a){if(p=(f=o.halfedges).length)for(var f,p,g,u=o.site,c=-1,h=r[f[p-1]],y=h.left===u?h.right:h.left;++c<p;)g=y,y=(h=r[f[c]]).left===u?h.right:h.left,g&&y&&a<g.index&&a<y.index&&Xh(u,g,y)<0&&n.push([u.data,g.data,y.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,o){for(var u,p,a=this,f=a._found||0,c=a.cells.length;!(p=a.cells[f]);)if(++f>=c)return null;var g=n-p.site[0],h=r-p.site[1],y=g*g+h*h;do{p=a.cells[u=f],f=null,p.halfedges.forEach(function(v){var m=a.edges[v],x=m.left;if(x!==p.site&&x||(x=m.right)){var X=n-x[0],D=r-x[1],rt=X*X+D*D;rt<y&&(y=rt,f=x.index)}})}while(null!==f);return a._found=u,null==o||y<=o*o?p.site:null}},Z(171),Z(7299),Ea.prototype={constructor:Ea,reset:function(){this.s=this.t=0},add:function(n){Wl(wa,n,this.t),Wl(this,wa.s,this.s),this.s?this.t+=wa.t:this.s=wa.t},valueOf:function(){return this.s}};var wa=new Ea;function Wl(n,r,o){var a=n.s=r+o,u=a-r;n.t=r-(a-u)+(o-u)}var n,Xn=Math.PI,ni=Xn/2,Is=2*Xn,An=Xn/180,Ys=(Math,Math.atan),Ss=Math.atan2,un=Math.cos,tn=(Math,Math,Math,Math,Math,Math.sin),go=(Math,Math.sqrt);Math;function Ps(n){return n>1?ni:n<-1?-ni:Math.asin(n)}function Gu(n,r){return[n>Xn?n-Is:n<-Xn?n+Is:n,r]}function _f(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}Do(),Do(),Do(),Gu.invert=Gu,1===(n=_f).length&&(n=function(n){return function(r,o){return _f(n(r),o)}}(n)),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Do();function rl(){}function Wf(n){return function(r,o){var a=un(r),u=un(o),f=n(a*u);return[f*u*tn(r),f*tn(o)]}}function Qs(n){return function(r,o){var a=go(r*r+o*o),u=n(a),f=tn(u),c=un(u);return[Ss(r*f,a*c),Ps(a&&o*f/a)]}}function ol(n,r){return[n,r]}Do(),Do(),Do(),Do(),rl.prototype={constructor:rl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},un(30*An),Wf(function(n){return go(2/(1+n))}).invert=Qs(function(n){return 2*Ps(n/2)}),Wf(function(n){return(n=function(n){return n>1?0:n<-1?Xn:Math.acos(n)}(n))&&n/tn(n)}).invert=Qs(function(n){return n}),ol.invert=ol,Qs(Ys),Qs(Ps),Qs(function(n){return 2*Ys(n)});var br=Z(639);const dg=[{path:"",component:(()=>{class n{constructor(){}initMap(){var u={Satelite:Q.tileLayer("http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:22,subdomains:["mt0","mt1","mt2","mt3"]}),Street:Q.tileLayer("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:22,subdomains:["mt0","mt1","mt2","mt3"]})};this.map=Q.map("map",{center:[33.731855,-84.3823628],zoom:10,layers:[u.Satelite]}),Q.control.layers(u).addTo(this.map),Q.control.scale({position:"topright",maxWidth:100,metric:!0,imperial:!1}).addTo(this.map),this.stores=[Nt([-84.3884205,33.7802477],{store:"950 W. Peachtree St, Atlanta"}),Nt([-84.5083402,33.7249784],{store:"3695 Cascade Rd, Atlanta"}),Nt([-84.381632,33.7698002],{store:"595 Piedmont Ave NE, Atlanta"}),Nt([-84.6685333,33.7334332],{store:"2675 Lee Rd, Lithia Springs"}),Nt([-84.5045192,33.8433943],{store:"4480 S Cobb Dr SE, Smyrna"})],this.vehicles=[Nt([-84.4075408,33.7817359],{vehicle:"992 Hampton St, Atlanta"}),Nt([-84.4953032,33.7216373],{vehicle:"3288 Cascade Rd, Atlanta"}),Nt([-84.3958444,33.7689611],{vehicle:"523 Luckie St. NW, Atlanta"}),Nt([-84.647444,33.7095533],{vehicle:"2170 Riverside Pkwy, Douglasville"}),Nt([-84.5342564,33.8417077],{vehicle:"4300 Jameson Ln, Smyrna"}),Nt([-84.4056966,33.7769987],{vehicle:"501 6th St NW, Atlanta"}),Nt([-84.5206473,33.7079703],{vehicle:"4024 Melvin Dr SW, Atlanta"}),Nt([-84.4050689,33.7695441],{vehicle:"548 Northside Dr NW, Atlanta"}),Nt([-84.7014507,33.7470598],{vehicle:"2111 Hwy 92, Douglasville"}),Nt([-84.5311015,33.873367],{vehicle:"3300 S Cobb Dr SE, Smyrna"})],this.houses=[Nt([-84.4265573,33.7827916],{adress:"1195 Niles Ave NW, Atlanta"}),Nt([-84.4780294,33.7236411],{adress:"2735 Veltre Terrace SW, Atlanta"}),Nt([-84.4131165,33.7599892],{adress:"783 Spencer St NW, Atlanta"}),Nt([-84.5972339,33.7302341],{adress:"9087 Hanover St, Lithia Springs"}),Nt([-84.5394987,33.8280416],{adress:"5170 Fawn Trail, Mableton"}),Nt([-84.424178,33.7736566],{adress:"697 Law St NW, Atlanta"}),Nt([-84.5372253,33.6928743],{adress:"4565 Santa Fe Trail SW, Atlanta"}),Nt([-84.4219477,33.7723724],{adress:"643 Finley Ave NW, Atlanta"}),Nt([-84.7182154,33.7417845],{adress:"8726 Danley Dr, Douglasville"}),Nt([-84.5589157,33.8587405],{adress:"88 Geraldine Dr SE, Smyrna"})];let c=lt(this.stores),p=lt(this.vehicles),g=lt(this.houses);var h={radius:8,fillColor:"red",color:"red",weight:1,opacity:1,fillOpacity:1},y={radius:8,fillColor:"orange",color:"orange",weight:1,opacity:1,fillOpacity:1},v={radius:8,fillColor:"#0C9EF2",color:"#0C9EF2",weight:1,opacity:1,fillOpacity:1};Q.geoJSON(c,{pointToLayer:function(m,x){return Q.circleMarker(x,h).bindPopup(m.properties.store)}}).addTo(this.map),Q.geoJSON(p,{pointToLayer:function(m,x){return Q.circleMarker(x,y).bindPopup(m.properties.vehicle)}}).addTo(this.map),Q.geoJSON(g,{pointToLayer:function(m,x){return Q.circleMarker(x,v).bindPopup(m.properties.adress)}}).addTo(this.map)}ngOnInit(){this.initMap()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=br.Xpm({type:n,selectors:[["app-road"]],decls:7,vars:0,consts:[["name","viewport","content","width=device-width, initial-scale=1.0, maximumscale=1.0, user-scalable=no"],[1,"map-container"],[1,"map-frame"],["id","map"]],template:function(o,a){1&o&&(br.TgZ(0,"html"),br.TgZ(1,"head"),br._UZ(2,"meta",0),br.qZA(),br.TgZ(3,"body"),br.TgZ(4,"div",1),br.TgZ(5,"div",2),br._UZ(6,"div",3),br.qZA(),br.qZA(),br.qZA(),br.qZA())},styles:[".map-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;margin:30px}.map-frame[_ngcontent-%COMP%]{border:0px solid black;height:100%}#map[_ngcontent-%COMP%]{height:100%}"]}),n})()}];let yg=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=br.oAB({type:n}),n.\u0275inj=br.cJS({imports:[[j.Bz.forChild(dg)],j.Bz]}),n})(),vg=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=br.oAB({type:n}),n.\u0275inj=br.cJS({imports:[[B.ez,yg]]}),n})()}}]);